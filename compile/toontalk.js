'use strict';(function(c){var f;"undefined"===typeof exports?"function"===typeof define&&"object"===typeof define.amd&&define.amd?(f={},define(function(){return f})):f="undefined"!==typeof window?window:c:f=exports;(function(c){var f={greatest_common_divisor:function(a,p){if(1===p||1===a)return 1;for(var b;0!==p;){b=p;p=a%p;if(!isFinite(p))return 0;a=b}return a}};f.gcd=f.greatest_common_divisor;f.fromRandom=function(a){return Math.random()*(1<<a)>>>0};f.fromMillitime=function(){return+new Date};f.fromUnixtime=
function(){return.001*f.fromMillitime()|0};"undefined"!==typeof c&&(c.integer=f);(function(a){function p(a,q,d){if(d!==b)return a instanceof p?a:"undefined"===typeof a?e:p.parse(a);for(a=a||[];a.length&&!a[a.length-1];)--a.length;this._d=a;this._s=a.length?q||1:0}var b={};p._construct=function(a,q){return new p(a,q,b)};p.base=1E7;p.base_log10=7;var e=new p([],0,b);p.ZERO=e;var d=new p([1],1,b);p.ONE=d;var c=new p(d._d,-1,b);p.M_ONE=c;p._0=e;p._1=d;p.small=[e,d,new p([2],1,b),new p([3],1,b),new p([4],
1,b),new p([5],1,b),new p([6],1,b),new p([7],1,b),new p([8],1,b),new p([9],1,b),new p([10],1,b),new p([11],1,b),new p([12],1,b),new p([13],1,b),new p([14],1,b),new p([15],1,b),new p([16],1,b),new p([17],1,b),new p([18],1,b),new p([19],1,b),new p([20],1,b),new p([21],1,b),new p([22],1,b),new p([23],1,b),new p([24],1,b),new p([25],1,b),new p([26],1,b),new p([27],1,b),new p([28],1,b),new p([29],1,b),new p([30],1,b),new p([31],1,b),new p([32],1,b),new p([33],1,b),new p([34],1,b),new p([35],1,b),new p([36],
1,b)];p.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");p.prototype.toString=function(a){a=+a||10;if(2>a||36<a)throw Error("illegal radix "+a+".");if(0===this._s)return"0";if(10===a){a=0>this._s?"-":"";a+=this._d[this._d.length-1].toString();for(var b=this._d.length-2;0<=b;b--){for(var q=this._d[b].toString();7>q.length;)q="0"+q;a+=q}return a}b=p.digits;a=p.small[a];for(var q=this._s,e=this.abs(),d=[],c;0!==e._s;)c=e.divRem(a),e=c[0],c=c[1],d.push(b[c.valueOf()]);return(0>q?"-":"")+d.reverse().join("")};
p.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,
/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/];p.parse=function(a,q){function d(a){a=a.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e");return a.replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,function(a,b,q,p,e){e=+e;var d=0>e,c=q.length+e;a=(d?q:p).length;e=(e=Math.abs(e))>=a?e-a+d:0;a=Array(e+1).join("0");q+=p;return(b||"")+(d?q=a+q:q+=a).substr(0,c+=d?a.length:0)+(c<q.length?"."+q.substr(c):"")})}a=a.toString();if("undefined"===typeof q||10===+q)a=d(a);var c=RegExp("^([+\\-]?)("+("undefined"===
typeof q?"0[xcb]":16==q?"0x":8==q?"0c":2==q?"0b":"")+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(a);if(c){var h=c[1]||"+",g=c[2]||"",c=c[3]||"";if("undefined"===typeof q)q="0x"===g||"0X"===g?16:"0c"===g||"0C"===g?8:"0b"===g||"0B"===g?2:10;else if(2>q||36<q)throw Error("Illegal radix "+q+".");q=+q;if(!p.radixRegex[q].test(c))throw Error("Bad digit for radix "+q);c=c.replace(/^0+/,"").split("");if(0===c.length)return e;h="-"===h?-1:1;if(10==q){for(g=[];7<=c.length;)g.push(parseInt(c.splice(c.length-p.base_log10,
p.base_log10).join(""),10));g.push(parseInt(c.join(""),10));return new p(g,h,b)}g=e;q=p.small[q];for(var f=p.small,n=0;n<c.length;n++)g=g.multiply(q).add(f[parseInt(c[n],36)]);return new p(g._d,h,b)}throw Error("Invalid BigInteger format: "+a);};p.prototype.add=function(a){if(0===this._s)return p(a);a=p(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.subtract(a);var q=this._d;a=a._d;for(var e=q.length,d=a.length,c=Array(Math.max(e,d)+1),h=Math.min(e,d),g=0,f=0;f<h;f++)g=q[f]+
a[f]+g,c[f]=g%1E7,g=g/1E7|0;d>e&&(q=a,e=d);for(f=h;g&&f<e;f++)g=q[f]+g,c[f]=g%1E7,g=g/1E7|0;for(g&&(c[f]=g);f<e;f++)c[f]=q[f];return new p(c,this._s,b)};p.prototype.negate=function(){return new p(this._d,-this._s|0,b)};p.prototype.abs=function(){return 0>this._s?this.negate():this};p.prototype.subtract=function(a){if(0===this._s)return p(a).negate();a=p(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.add(a);var q=this;0>this._s&&(q=new p(a._d,1,b),a=new p(this._d,1,b));var d=
q.compareAbs(a);if(0===d)return e;if(0>d){var c=a;a=q;q=c}q=q._d;a=a._d;var c=q.length,h=a.length,g=Array(c),f=0,n,k;for(n=0;n<h;n++)k=q[n]-f-a[n],0>k?(k+=1E7,f=1):f=0,g[n]=k;for(n=h;n<c;n++){k=q[n]-f;if(0>k)k+=1E7;else{g[n++]=k;break}g[n]=k}for(;n<c;n++)g[n]=q[n];return new p(g,d,b)};(function(){function a(q,e){for(var d=q._d,c=d.slice(),h=0;;){var g=(d[h]||0)+1;c[h]=g%1E7;if(9999999>=g)break;++h}return new p(c,e,b)}function q(a,e){for(var d=a._d,c=d.slice(),h=0;;){var g=(d[h]||0)-1;if(0>g)c[h]=
g+1E7;else{c[h]=g;break}++h}return new p(c,e,b)}p.prototype.next=function(){switch(this._s){case 0:return d;case -1:return q(this,-1);default:return a(this,1)}};p.prototype.prev=function(){switch(this._s){case 0:return c;case -1:return a(this,-1);default:return q(this,1)}}})();p.prototype.compareAbs=function(a){if(this===a)return 0;if(!(a instanceof p)){if(!isFinite(a))return isNaN(a)?a:-1;a=p(a)}if(0===this._s)return 0!==a._s?-1:0;if(0===a._s)return 1;var b=this._d.length,q=a._d.length;if(b<q)return-1;
if(b>q)return 1;q=this._d;a=a._d;for(b-=1;0<=b;b--)if(q[b]!==a[b])return q[b]<a[b]?-1:1;return 0};p.prototype.compare=function(a){if(this===a)return 0;a=p(a);return 0===this._s?-a._s:this._s===a._s?this.compareAbs(a)*this._s:this._s};p.prototype.isUnit=function(){return this===d||this===c||1===this._d.length&&1===this._d[0]};p.prototype.multiply=function(a){if(0===this._s)return e;a=p(a);if(0===a._s)return e;if(this.isUnit())return 0>this._s?a.negate():a;if(a.isUnit())return 0>a._s?this.negate():
this;if(this===a)return this.square();var q=this._d.length>=a._d.length,d=(q?this:a)._d,q=(q?a:this)._d,c=d.length,h=q.length,g=c+h,f=Array(g),n;for(n=0;n<g;n++)f[n]=0;for(n=0;n<h;n++){for(var g=0,k=q[n],r=c+n,l,s=n;s<r;s++)l=f[s]+k*d[s-n]+g,g=l/1E7|0,f[s]=l%1E7|0;g&&(l=f[s]+g,f[s]=l%1E7)}return new p(f,this._s*a._s,b)};p.prototype.multiplySingleDigit=function(a){if(0===a||0===this._s)return e;if(1===a)return this;var q;if(1===this._d.length)return q=this._d[0]*a,1E7<=q?new p([q%1E7|0,q/1E7|0],1,
b):new p([q],1,b);if(2===a)return this.add(this);if(this.isUnit())return new p([a],1,b);var d=this._d,c=d.length;q=c+1;for(var g=Array(q),h=0;h<q;h++)g[h]=0;for(var f=h=0;f<c;f++)q=a*d[f]+h,h=q/1E7|0,g[f]=q%1E7|0;h&&(g[f]=h);return new p(g,1,b)};p.prototype.square=function(){if(0===this._s)return e;if(this.isUnit())return d;var a=this._d,q=a.length,c=Array(q+q+1),h,g,f,n;for(n=0;n<q;n++)f=2*n,h=a[n]*a[n],g=h/1E7|0,c[f]=h%1E7,c[f+1]=g;for(n=0;n<q;n++){g=0;f=2*n+1;for(var k=n+1;k<q;k++,f++)h=a[k]*a[n]*
2+c[f]+g,g=h/1E7|0,c[f]=h%1E7;f=q+n;h=g+c[f];g=h/1E7|0;c[f]=h%1E7;c[f+1]+=g}return new p(c,1,b)};p.prototype.quotient=function(a){return this.divRem(a)[0]};p.prototype.divide=p.prototype.quotient;p.prototype.remainder=function(a){return this.divRem(a)[1]};p.prototype.divRem=function(a){a=p(a);if(0===a._s)throw Error("Divide by zero");if(0===this._s)return[e,e];if(1===a._d.length)return this.divRemSmall(a._s*a._d[0]);switch(this.compareAbs(a)){case 0:return[this._s===a._s?d:c,e];case -1:return[e,this]}var q=
this._s*a._s,h=a.abs(),g=this._d,f=g.length,n=[],k,r=new p([],0,b);for(r._s=1;f;)if(r._d.unshift(g[--f]),0>r.compareAbs(a))n.push(0);else{if(0===r._s)k=0;else{var l=r._d.length;k=h._d.length;l=1E7*r._d[l-1]+r._d[l-2];k=1E7*h._d[k-1]+h._d[k-2];r._d.length>h._d.length&&(l=1E7*(l+1));k=Math.ceil(l/k)}do{l=h.multiplySingleDigit(k);if(0>=l.compareAbs(r))break;k--}while(k);n.push(k);k&&(k=r.subtract(l),r._d=k._d.slice(),0===r._d.length&&(r._s=0))}return[new p(n.reverse(),q,b),new p(r._d,this._s,b)]};p.prototype.divRemSmall=
function(a){a=+a;if(0===a)throw Error("Divide by zero");var q=this._s*(0>a?-1:1);a=Math.abs(a);if(1>a||1E7<=a)throw Error("Argument out of range");if(0===this._s)return[e,e];if(1===a||-1===a)return[1===q?this.abs():new p(this._d,q,b),e];if(1===this._d.length){var c=new p([this._d[0]/a|0],1,b);a=new p([this._d[0]%a|0],1,b);0>q&&(c=c.negate());0>this._s&&(a=a.negate());return[c,a]}for(var d=this._d.slice(),c=Array(d.length),h=0,g=0,f=0,n;d.length;)h=1E7*h+d[d.length-1],h<a?(c[f++]=0,d.pop(),g=1E7*g+
h):(n=0===h?0:h/a|0,g=h-a*n,(c[f++]=n)?(d.pop(),h=g):d.pop());a=new p([g],1,b);0>this._s&&(a=a.negate());return[new p(c.reverse(),q,b),a]};p.prototype.isEven=function(){var a=this._d;return 0===this._s||0===a.length||0===a[0]%2};p.prototype.isOdd=function(){return!this.isEven()};p.prototype.sign=function(){return this._s};p.prototype.isPositive=function(){return 0<this._s};p.prototype.isNegative=function(){return 0>this._s};p.prototype.isZero=function(){return 0===this._s};p.prototype.exp10=function(a){a=
+a;if(0===a)return this;if(Math.abs(a)>Number(h))throw Error("exponent too large in BigInteger.exp10");if(0<a){for(var q=new p(this._d.slice(),this._s,b);7<=a;a-=7)q._d.unshift(0);if(0==a)return q;q._s=1;q=q.multiplySingleDigit(Math.pow(10,a));return 0>this._s?q.negate():q}if(-a>=7*this._d.length)return e;q=new p(this._d.slice(),this._s,b);for(a=-a;7<=a;a-=7)q._d.shift();return 0==a?q:q.divRemSmall(Math.pow(10,a))[0]};p.prototype.pow=function(a){if(this.isUnit())return 0<this._s?this:p(a).isOdd()?
this:this.negate();a=p(a);if(0===a._s)return d;if(0>a._s){if(0===this._s)throw Error("Divide by zero");return e}if(0===this._s)return e;if(a.isUnit())return this;if(0<a.compareAbs(h))throw Error("exponent too large in BigInteger.pow");for(var q=this,b=d,c=p.small[2];a.isPositive()&&(!a.isOdd()||(b=b.multiply(q),!a.isUnit()));)q=q.square(),a=a.quotient(c);return b};p.prototype.modPow=function(a,q){for(var b=d,c=this;a.isPositive();)a.isOdd()&&(b=b.multiply(c).remainder(q)),a=a.quotient(p.small[2]),
a.isPositive()&&(c=c.square().remainder(q));return b};p.prototype.log=function(){switch(this._s){case 0:return-Infinity;case -1:return NaN}var a=this._d.length;if(30>7*a)return Math.log(this.valueOf());var q=Math.ceil(30/7),c=this._d.slice(a-q);return Math.log((new p(c,1,b)).valueOf())+(a-q)*Math.log(1E7)};p.prototype.valueOf=function(){return parseInt(this.toString(),10)};p.prototype.toJSValue=function(){return parseInt(this.toString(),10)};var h=p(2147483647);p.MAX_EXP=h;(function(){function a(q){return function(a){return q.call(p(a))}}
function q(a){return function(q,b){return a.call(p(q),p(b))}}function b(a){return function(q,b,c){return a.call(p(q),p(b),p(c))}}(function(){var c,d,e="toJSValue isEven isOdd sign isZero isNegative abs isUnit square negate isPositive toString next prev log".split(" "),h="compare remainder divRem subtract add quotient divide multiply pow compareAbs".split(" "),g=["modPow"];for(c=0;c<e.length;c++)d=e[c],p[d]=a(p.prototype[d]);for(c=0;c<h.length;c++)d=h[c],p[d]=q(p.prototype[d]);for(c=0;c<g.length;c++)d=
g[c],p[d]=b(p.prototype[d]);p.exp10=function(a,q){return p(a).exp10(q)}})()})();a.BigInteger=p})("undefined"!==typeof c?c:this);var d={greatest_common_divisor:function(a,b){if(b.isUnit()||a.isUnit())return BigInteger.ONE;for(var c;!b.isZero();)c=b,b=a.remainder(b),a=c;return a},create:function(){return[0]},clone:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},copy:function(a,b){a=[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c];return a},abs:function(a,b){a[0]=Math.abs(b[0]);return a},
str:function(a){return a[0].toString()},toInteger:function(a){return out[0]},fromInteger:function(a){return[parseInt(a)]}};d.ZERO=d.fromInteger(0);d.ONE=d.fromInteger(1);"undefined"!==typeof c&&(c.bigint=d);if(!e)var e=Array;if(!b)var b=Math.pow(2,56);if(!n)var n=16777216;var a={EPSILON:2E-16};a.MAX_LOOPS=n;a.create=function(){var a=new e(2);a[0]=0;a[1]=1;return a};a.clone=function(a){var b=new e(2);b[0]=a[0];b[1]=a[1];return b};a.fromValues=function(b,p){var c=new e(2);c[0]=b;c[1]=p;return a.normalize(c,
c)};a.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};a.set=function(b,p,c){b[0]=p;b[1]=c;return a.normalize(b,b)};a.abs=function(a,b){a[0]=Math.abs(b[0]);a[1]=b[1];return a};a.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};a.reciprocal=a.invert;a.add=function(b,p,c){p[1]===c[1]?(b[0]=p[0]+c[0],b[1]=p[1]):(b[0]=p[0]*c[1]+c[0]*p[1],b[1]=p[1]*c[1]);return a.normalize(b,b)};a.subtract=function(b,p,c){p[1]===c[1]?(b[0]=p[0]-c[0],b[1]=p[1]):(b[0]=p[0]*c[1]-c[0]*p[1],b[1]=p[1]*c[1]);return a.normalize(b,
b)};a.sub=a.subtract;a.multiply=function(b,p,c){b[0]=p[0]*c[0];b[1]=p[1]*c[1];return a.normalize(b,b)};a.mul=a.multiply;a.mediant=function(b,p,c){b[0]=p[0]+c[0];b[1]=p[1]+c[1];return a.normalize(b,b)};a.divide=function(b,p,c){b[0]=p[0]*c[1];b[1]=p[1]*c[0];return a.normalize(b,b)};a.div=a.divide;a.equals=function(a,b){return 0===a[0]&&0===b[0]||0===a[1]&&0===b[1]?!0:a[0]===b[0]&&a[1]===b[1]};a.approximates=function(b,c){if(a.equals(b,c))return!0;var d=a.create();a.sub(d,b,c);a.abs(d,d);return a.isLessThan(d,
a.INFINITESIMAL)};a.isGreaterThan=function(b,c){return a.equals(b,c)?!1:b[0]*c[1]>c[0]*b[1]};a.isLessThan=function(b,c){return a.equals(b,c)?!1:b[0]*c[1]<c[0]*b[1]};a.isNegative=function(a){return 0>a[0]};a.min=function(b,c,d){a.isLessThan(c,d)?(b[0]=c[0],b[1]=c[1]):(b[0]=d[0],b[1]=d[1]);return b};a.max=function(b,c,d){a.isGreaterThan(c,d)?(b[0]=c[0],b[1]=c[1]):(b[0]=d[0],b[1]=d[1]);return b};a.scalar_multiply=function(b,c,d){b[0]=c[0]*d;b[1]=c[1];return a.normalize(b,b)};a.scalar_divide=function(b,
c,d){b[0]=c[0];b[1]=c[1]*d;return a.normalize(b,b)};a.normalize=function(a,b){if(isNaN(b[0])||isNaN(b[1])||0===b[0]&&0===b[1])return a[0]=0,a[1]=0,a;if(0===b[0])return a[0]=0,a[1]=1,a;if(0===b[1])return a[0]=1,a[1]=0,a;if(b[0]===b[1])return a[0]=1,a[1]=1,a;0<b[1]?(a[0]=b[0],a[1]=b[1]):(a[0]=-b[0],a[1]=-b[1]);var c=f.greatest_common_divisor(Math.abs(a[0]),a[1]);1<c&&(a[0]/=c,a[1]/=c);return a};a.opposite=function(a,b){a[0]=-b[0];a[1]=b[1];return a};a.negative=a.opposite;a.neg=a.opposite;a.power=function(b,
c,d){2===d?(b[0]=c[0]*c[0],b[1]=c[1]*c[1]):0<d?(b[0]=Math.pow(c[0],d),b[1]=Math.pow(c[1],d)):0>d?(d=Math.abs(d),b[0]=Math.pow(c[1],d),b[1]=Math.pow(c[0],d)):a.copy(b,a.ONE);return a.normalize(b,b)};a.pow=a.power;a.sqrt=function(b,c){return a.nthRoot(b,c,2)};a.nthRoot=function(b,c,d){if(a.equals(c,a.ZERO))return a.copy(b,a.ZERO);if(a.equals(c,a.ONE))return a.copy(b,a.ONE);if(a.equals(c,a.INFINITY))return a.copy(b,a.INFINITY);if(a.equals(c,a.INFINULL))return a.copy(b,a.INFINULL);var e=a.isNegative(c);
e&&(c[0]=-c[0]);b=a.copy(b,a.ONE);for(var h=[1,0,0,1],g=a.clone(a.ONE),f=a.MAX_LOOPS;!a.approximates(c,g)&&f--;)a.isLessThan(c,g)?(h[0]+=h[1],h[2]+=h[3]):(h[1]+=h[0],h[3]+=h[2]),b[0]=h[0]+h[1],b[1]=h[2]+h[3],a.pow(g,b,d);e&&(c[0]=-c[0],1===d%2&&a.neg(b,b));return b};a.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};a.str=function(a){return 1===a[1]?a[0].toString():a[0]+"/"+a[1]};a.toDecimal=function(a){return a[0]/a[1]};a.dec=a.toDecimal;a.toInteger=function(b){return Math.round(a.toDecimal(b))};a.round=
a.toInteger;a.floor=function(b){return Math.floor(a.toDecimal(b))};a.ceil=function(b){return Math.ceil(a.toDecimal(b))};a.fromInteger_copy=function(a,b){a[0]=parseInt(b);a[1]=1;return a};a.fromInteger=function(b){return a.fromInteger_copy(a.create(),b)};a.fromIntegerInverse_copy=function(a,b){a[0]=1;a[1]=parseInt(b);0>a[1]&&(a[0]=-a[0],a[1]=-a[1]);return a};a.fromIntegerInverse=function(b){return a.fromIntegerInverse_copy(a.create(),b)};a.fromDecimal=function(b){return a.fromDecimal_copy(a.create(),
b)};a.fromDecimal_copy=function(b,c){c=parseFloat(c);if(isNaN(c))return a.copy(b,a.INFINULL);if(Infinity===c)return a.copy(b,a.INFINITY);if(Math.abs(c)<a.EPSILON)return a.copy(b,a.ZERO);if(Math.abs(c-1)<a.EPSILON)return a.copy(b,a.ONE);if(Math.abs(c%1)<a.EPSILON)return a.fromInteger_copy(b,c);if(Math.abs(1/c%1)<a.EPSILON)return a.fromIntegerInverse_copy(b,Math.round(1/c));a.copy(b,a.ONE);for(var d=[1,0,0,1],e=c,h=1,g=a.MAX_LOOPS;g--&&Math.abs(c-a.toDecimal(b))>a.EPSILON;)h=Math.floor(e),b[0]=h*d[0]+
d[2],b[1]=h*d[1]+d[3],e=1/(e-h),d[2]=d[0],d[3]=d[1],d[0]=b[0],d[1]=b[1];return b};a.fromRandom=function(b){b[0]=0xfffffffffffff*Math.random()<<0;b[1]=Math.abs(0xfffffffffffff*Math.random()<<0);return a.normalize(b,b)};a.sin=function(b,c){if(0===c[1])return a.copy(b,a.ZERO);a.scalar_multiply(b,c,2);var d=a.create();a.pow(d,c,2);a.add(d,d,a.ONE);a.divide(b,b,d);return b};a.cos=function(b,c){if(0===c[1])return a.neg(b,a.ONE);var d=a.create();a.pow(d,c,2);a.sub(b,a.ONE,d);var e=a.create();a.add(e,a.ONE,
d);a.divide(b,b,e);return b};a.tan=function(b,c){a.scalar_multiply(b,c,2);var d=a.create();a.pow(d,c,2);a.scalar_multiply(d,d,2);a.add(b,b,d);a.pow(d,c,4);a.sub(d,a.ONE,d);a.divide(b,b,d);return b};a.toEgyptian=function(b){b=a.clone(b);a.abs(b,b);var c=a.floor(b);c&&a.sub(b,b,a.fromInteger(c));if(!b[0])return c.toString();c||(c="");for(var d=1,e=a.create();1!==b[0];)d++,e=a.fromValues(1,d),a.isGreaterThan(b,e)&&(c&&(c+=" + "),c+=a.str(e),a.sub(b,b,e));return b?c?c+" + "+a.str(b):a.str(b):c?c:"0"};
a.toBabylonian=function(b){var c="",d=a.toDecimal(b);b=parseInt(d);for(var d=d-b,e=0,h=0;0<b;)(e=b%60)&&(c=e+" * 60^"+h+(c?" + ":"")+c),b=(b-e)/60,h++;for(h=-1;0<d;)d*=60,e=parseInt(d+1E-13),d-=e,-1E-13>d||(e&&(c+=(c?" + ":"")+e+" * 60^"+h),h--);return c?c:"0"};a.traceSternBrocot=function(b){var c="";if(a.equals(b,a.ZERO)||a.equals(b,a.ONE)||a.equals(b,a.INFINITY)||a.equals(b,a.INFINULL))return c;if(a.equals(b,a.ZERO))return a.copy(out,a.ZERO);if(a.equals(b,a.ONE))return a.copy(out,a.ONE);if(a.equals(b,
a.INFINITY))return a.copy(out,a.INFINITY);if(a.equals(b,a.INFINULL))return a.copy(out,a.INFINULL);b=a.clone(b);a.isNegative(b)&&(b[0]=-b[0]);for(var d=a.clone(a.ONE),e=[1,0,0,1],h=0,g=0,f=a.MAX_LOOPS;!a.approximates(b,d)&&f--;)a.isLessThan(b,d)?(e[0]+=e[1],e[2]+=e[3],g++,h&&(c+="R",1!==h&&(c+=h),h=0,c+=" ")):(e[1]+=e[0],e[3]+=e[2],h++,g&&(c+="L",1!==g&&(c+=g),g=0,c+=" ")),d[0]=e[0]+e[1],d[1]=e[2]+e[3];g?(c+="L",1!==g&&(c+=g)):h&&(c+="R",1!==h&&(c+=h));0>f&&(c+="...");return c};a.toContinuedFraction=
function(b,c){c="undefined"===typeof c?65536:parseInt(c);if(a.equals(b,a.ZERO))return[0];if(a.equals(b,a.ONE))return[1];if(a.equals(b,a.NEGONE))return[-1];if(a.equals(b,a.INFINITY))return[1,0];if(a.equals(b,a.INFINULL))return[0,0];var d=a.clone(b),e=a.isNegative(d);e&&(d[0]=-d[0]);for(var h=a.clone(a.ONE),g=[1,0,0,1],f=1,n=[0],k=n.length-1;!a.equals(d,h)&&c--;)a.isLessThan(d,h)?(-1===f?n[k]++:(f=-1,n.push(1),k++),g[0]+=g[1],g[2]+=g[3]):(1===f?n[k]++:(f=1,n.push(1),k++),g[1]+=g[0],g[3]+=g[2]),h[0]=
g[0]+g[1],h[1]=g[2]+g[3];0>c?n.push(0):n[k]++;if(e)for(var r in n)n[r]=-n[r];return n};a.fromContinuedFraction=function(b,c){a.fromInteger_copy(b,c[c.length-1]);for(var d=c.length-2;-1<d;d--)a.invert(b,b),a.add(b,a.fromInteger(c[d]),b);return b};a.dump=function(b){a.create();return"rat\t"+a.str(b)+"\n~\t"+a.toDecimal(b)+"\nCF:\t["+a.toContinuedFraction(b)+"]\n"};a.ZERO=a.fromInteger(0);a.ONE=a.fromInteger(1);a.NEGONE=a.fromInteger(-1);a.INFINITY=a.fromValues(1,0);a.INFINULL=a.fromValues(0,0);a.INFINITESIMAL=
a.clone([1,b]);a.PI=a.fromValues(1320192667429,420230377710);"undefined"!==typeof c&&(c.rat=a);if(!g)var g=new BigInteger("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF");if(!r)var r=1073741824;var h={EPSILON:2E-16};h.MAX_LOOPS=r;h.create=function(){var a=[];a[0]=BigInteger.ZERO;a[1]=BigInteger.ONE;return a};h.clone=function(a){var b=[];b[0]=a[0];b[1]=a[1];return b};h.fromValues=function(a,b){var c=[];c[0]=new BigInteger(a);c[1]=new BigInteger(b);return h.normalize(c,c)};h.copy=function(a,b){a[0]=b[0];a[1]=
b[1];return a};h.set=function(a,b,c){a[0]=b;a[1]=c;return h.normalize(a,a)};h.toRat=function(b,c){return a.set(b,c[0].toJSValue(),c[1].toJSValue())};h.fromRat=function(a,b){return h.set(a,BigInteger(b[0]),BigInteger(b[1]))};h.abs=function(a,b){a[0]=b[0].abs();a[1]=b[1];return a};h.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};h.reciprocal=h.invert;h.add=function(a,b,c){0===b[1].compare(c[1])?(a[0]=b[0].add(c[0]),a[1]=b[1]):(a[0]=b[0].multiply(c[1]).add(c[0].multiply(b[1])),a[1]=b[1].multiply(c[1]));
return h.normalize(a,a)};h.subtract=function(a,b,c){0===b[1].compare(c[1])?(a[0]=b[0].subtract(c[0]),a[1]=b[1]):(a[0]=b[0].multiply(c[1]).subtract(c[0].multiply(b[1])),a[1]=b[1].multiply(c[1]));return h.normalize(a,a)};h.sub=h.subtract;h.multiply=function(a,b,c){a[0]=b[0].multiply(c[0]);a[1]=b[1].multiply(c[1]);return h.normalize(a,a)};h.mul=h.multiply;h.mediant=function(a,b,c){a[0]=b[0].add(c[0]);a[1]=b[1].add(c[1]);return h.normalize(a,a)};h.divide=function(a,b,c){a[0]=b[0].multiply(c[1]);a[1]=
b[1].multiply(c[0]);return h.normalize(a,a)};h.div=h.divide;h.equals=function(a,b){return a[0].isZero()&&b[0].isZero()||a[1].isZero()&&b[1].isZero()?!0:0===a[0].compare(b[0])&&0===a[1].compare(b[1])};h.approximates=function(a,b){if(h.equals(a,b))return!0;var c=h.create();h.sub(c,a,b);h.abs(c,c);return h.isLessThan(c,h.INFINITESIMAL)};h.isGreaterThan=function(a,b){return h.equals(a,b)?!1:0<a[0].multiply(b[1]).compare(b[0].multiply(a[1]))};h.isLessThan=function(a,b){return h.equals(a,b)?!1:0>a[0].multiply(b[1]).compare(b[0].multiply(a[1]))};
h.isNegative=function(a){return a[0].isNegative()};h.min=function(a,b,c){h.isLessThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};h.max=function(a,b,c){h.isGreaterThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};h.scalar_multiply=function(a,b,c){a[0]=b[0].multiply(c);a[1]=b[1];return h.normalize(a,a)};h.scalar_divide=function(a,b,c){a[0]=b[0];a[1]=b[1].multiply(c);return h.normalize(a,a)};h.normalize=function(a,b){if(b[0].isZero()||b[1].isZero())return b;if(0===b[0].compare(b[1]))return h.clone(h.ONE);
if(b[1].isNegative())a[0]=b[0].negate(),a[1]=b[1].negate();else if(a[0]=b[0],a[1]=b[1],a[1].isZero())return a;var c=d.greatest_common_divisor(a[0].abs(),a[1]);0<c.compare(BigInteger.ONE)&&(a[0]=a[0].quotient(c),a[1]=a[1].quotient(c));return a};h.opposite=function(a,b){a[0]=b[0].negate();a[1]=b[1];return a};h.negative=h.opposite;h.neg=h.opposite;h.power=function(a,b,c){2===c?(a[0]=b[0].square(),a[1]=b[1].square()):0<c?(a[0]=b[0].pow(c),a[1]=b[1].pow(c)):0>c?(c=Math.abs(c),a[0]=b[1].pow(c),a[1]=b[0].pow(c)):
h.copy(a,h.ONE);return a};h.pow=h.power;h.sqrt=function(a,b){return h.nthRoot(a,b,2)};h.nthRoot=function(a,b,c){if(h.equals(b,h.ZERO))return h.copy(a,h.ZERO);if(h.equals(b,h.ONE))return h.copy(a,h.ONE);if(h.equals(b,h.INFINITY))return h.copy(a,h.INFINITY);if(h.equals(b,h.INFINULL))return h.copy(a,h.INFINULL);var d=h.isNegative(b);d&&(b[0]=b[0].negate());h.copy(a,h.ONE);for(var e=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],g=h.clone(h.ONE),f=r;!h.approximates(b,g)&&f--;)h.isLessThan(b,
g)?(e[0]=e[0].add(e[1]),e[2]=e[2].add(e[3])):(e[1]=e[1].add(e[0]),e[3]=e[3].add(e[2])),a[0]=e[0].add(e[1]),a[1]=e[2].add(e[3]),h.pow(g,a,c);d&&(b[0]=b[0].negate(),1===c%2&&h.neg(a,a));return a};h.dot=function(a,b){return a[0].multiply(b[0]).add(a[1].multiply(b[1]))};h.str=function(a){return 0===a[1].compare(BigInteger.ONE)?a[0].toString():a[0].toString()+"/"+a[1].toString()};h.toDecimal=function(a){return a[0].toJSValue()/a[1].toJSValue()};h.dec=h.toDecimal;h.toInteger=function(a){return a[0].quotient(a[1]).toJSValue()};
h.round=h.toInteger;h.toBigInteger=function(a){return a[0].quotient(a[1])};h.floor=function(a){return Math.floor(h.toDecimal(a))};h.ceil=function(a){return Math.ceil(h.toDecimal(a))};h.fromInteger_copy=function(a,b){a[0]=BigInteger(b);a[1]=BigInteger.ONE;return a};h.fromInteger=function(a){return h.fromInteger_copy(h.create(),a)};h.fromIntegerInverse_copy=function(a,b){a[0]=BigInteger.ONE;a[1]=BigInteger(b);a[1].isNegative()&&(a[0]=a[0].negate(),a[1]=a[1].negate());return a};h.fromIntegerInverse=
function(a){return h.fromIntegerInverse_copy(h.create(),a)};h.fromDecimal=function(a){return h.fromDecimal_copy(h.create(),a)};h.fromDecimal_copy=function(a,b){b=parseFloat(b);if(isNaN(b))return h.copy(a,h.INFINULL);if(Infinity===b)return h.copy(a,h.INFINITY);if(Math.abs(b)<h.EPSILON)return h.copy(a,h.ZERO);if(Math.abs(b-1)<h.EPSILON)return h.copy(a,h.ONE);if(Math.abs(b%1)<h.EPSILON)return h.fromInteger_copy(a,b);if(Math.abs(1/b%1)<h.EPSILON)return h.fromIntegerInverse_copy(a,Math.round(1/b));h.copy(a,
h.ONE);for(var c=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],d=b,e=1,g=h.MAX_LOOPS;g--&&Math.abs(b-h.toDecimal(a))>h.EPSILON;)e=Math.floor(d),a[0]=BigInteger(e*c[0]+c[2]),a[1]=BigInteger(e*c[1]+c[3]),d=1/(d-e),c[2]=c[0],c[3]=c[1],c[0]=a[0],c[1]=a[1];return a};h.fromRandom=function(a){a[0]=BigInteger(0xfffffffffffff*Math.random()<<0);a[1]=BigInteger(Math.abs(0xfffffffffffff*Math.random()<<0));return h.normalize(a,a)};h.sin=function(a,b){if(b[1].isZero())return h.copy(a,h.ZERO);h.scalar_multiply(a,
b,2);var c=h.create();h.pow(c,b,2);h.add(c,c,h.ONE);h.divide(a,a,c);return a};h.cos=function(a,b){if(b[1].isZero())return h.neg(a,h.ONE);var c=h.create();h.pow(c,b,2);h.sub(a,h.ONE,c);var d=h.create();h.add(d,h.ONE,c);h.divide(a,a,d);return a};h.tan=function(a,b){h.scalar_multiply(a,b,2);var c=h.create();h.pow(c,b,2);h.scalar_multiply(c,c,2);h.add(a,a,c);h.pow(c,b,4);h.sub(c,h.ONE,c);h.divide(a,a,c);return a};h.toEgyptian=function(a){a=h.clone(a);h.abs(a,a);var b=h.floor(a);b&&h.sub(a,a,h.fromInteger(b));
if(!a[0])return b.toString();b||(b="");for(var c=1,d=h.create();1!==a[0];)c++,d=h.fromValues(1,c),h.isGreaterThan(a,d)&&(b&&(b+=" + "),b+=h.str(d),h.sub(a,a,d));return a?b?b+" + "+h.str(a):h.str(a):b?b:"0"};h.toBabylonian=function(a){var b="",c=h.toDecimal(a);a=parseInt(c);for(var c=c-a,d=0,e=0;0<a;)(d=a%60)&&(b=d+" * 60^"+e+(b?" + ":"")+b),a=(a-d)/60,e++;for(e=-1;0<c;)c*=60,d=parseInt(c+1E-13),c-=d,-1E-13>c||(d&&(b+=(b?" + ":"")+d+" * 60^"+e),e--);return b?b:"0"};h.traceSternBrocot=function(a){var b=
"";if(h.equals(a,h.ZERO)||h.equals(a,h.ONE)||h.equals(a,h.INFINITY)||h.equals(a,h.INFINULL))return b;a=h.clone(a);h.isNegative(a)&&(a[0]=a[0].negate());for(var c=h.clone(h.ONE),d=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],e=0,g=0,f=65536;!h.equals(a,c)&&f--;)h.isLessThan(a,c)?(d[0]=d[0].add(d[1]),d[2]=d[2].add(d[3]),g++,e&&(b+="R",1!==e&&(b+=e),e=0,b+=" ")):(d[1]=d[1].add(d[0]),d[3]=d[3].add(d[2]),e++,g&&(b+="L",1!==g&&(b+=g),g=0,b+=" ")),c[0]=d[0].add(d[1]),c[1]=d[2].add(d[3]);g?(b+=
"L",1!==g&&(b+=g)):e&&(b+="R",1!==e&&(b+=e));0>f&&(b+="...");return b};h.toContinuedFraction=function(a,b){b="undefined"===typeof b?65536:parseInt(b);if(h.equals(a,h.ZERO))return[0];if(h.equals(a,h.ONE))return[1];if(h.equals(a,h.NEGONE))return[-1];if(h.equals(a,h.INFINITY))return[1,0];if(h.equals(a,h.INFINULL))return[0,0];var c=h.clone(a),d=h.isNegative(c);d&&(c[0]=c[0].negate());for(var e=h.clone(h.ONE),g=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],f=1,n=[0],k=n.length-1;!h.equals(c,
e)&&b--;)h.isLessThan(c,e)?(-1===f?n[k]++:(f=-1,n.push(1),k++),g[0]=g[0].add(g[1]),g[2]=g[2].add(g[3])):(1===f?n[k]++:(f=1,n.push(1),k++),g[1]=g[1].add(g[0]),g[3]=g[3].add(g[2])),e[0]=g[0].add(g[1]),e[1]=g[2].add(g[3]);0>b?n.push(0):n[k]++;if(d)for(var r in n)n[r]=-n[r];return n};h.fromContinuedFraction=function(a,b){h.fromInteger_copy(a,b[b.length-1]);for(var c=b.length-2;-1<c;c--)h.invert(a,a),h.add(a,h.fromInteger(b[c]),a);return a};h.fromFactorial=function(a,b){if("undefined"!==typeof factorial.PREPARED[b])return h.fromInteger_copy(a,
factorial.PREPARED[b]);var c=factorial.PREPARED.length-1;for(h.fromInteger_copy(a,factorial.PREPARED[c]);c<b;)h.scalar_multiply(a,a,++c);return a};h.dump=function(a){return"bigrat\t"+h.str(a)+"\n~\t"+h.toDecimal(a)+"\nCF:\t["+h.toContinuedFraction(a)+"]\n"};h.ZERO=h.fromInteger(0);h.ONE=h.fromInteger(1);h.NEGONE=h.fromInteger(-1);h.INFINITY=h.fromValues(1,0);h.INFINULL=h.fromValues(0,0);h.INFINITESIMAL=h.clone([new BigInteger(1),g]);h.PI=h.fromValues("3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587",
"1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");"undefined"!==typeof c&&(c.bigrat=h);var s=function(b,c){this.a=a.fromValues(parseInt(b),parseInt(c))};s.prototype.toString=function(){return a.str(this.a)};s.prototype.toContinuedFraction=function(b){return a.toContinuedFraction(this.a,
b)};s.prototype.invert=function(){return a.invert(this.a)};s.prototype.reciprocal=s.prototype.invert;s.prototype.add=function(b){var c=a.create();a.add(c,this.a,b.a);return new s(c[0],c[1])};s.prototype.plus=s.prototype.add;s.prototype.subtract=function(b){var c=a.create();a.sub(c,this.a,b.a);return new s(c[0],c[1])};s.prototype.sub=s.prototype.subtract;s.prototype.minus=s.prototype.subtract;s.prototype.multiply=function(b){var c=a.create();a.mul(c,this.a,b.a);return new s(c[0],c[1])};s.prototype.mul=
s.prototype.multiply;s.prototype.times=s.prototype.multiply;s.prototype.mediant=function(b){var c=a.create();a.mediant(c,this.a,b.a);return new s(c[0],c[1])};s.prototype.divide=function(b){var c=a.create();a.div(c,this.a,b.a);return new s(c[0],c[1])};s.prototype.div=s.prototype.divide;s.prototype.divided_by=s.prototype.divide;s.prototype.power=function(b){var c=a.create();a.pow(c,this.a,b);return new s(c[0],c[1])};s.prototype.pow=s.prototype.power;s.prototype.dump=function(){return a.dump(this.a)};
s.prototype.toRat=function(){return a.clone(this.a)};s.prototype.toDecimal=function(){return a.toDecimal(this.a)};s.fromRat=function(a){var b=new s;b.a[0]=a[0];b.a[1]=a[1];return b};s.fromInteger=function(b){return s.fromRat(a.fromInteger(b))};s.fromIntegerInverse=function(b){return s.fromRat(a.fromIntegerInverse(b))};s.fromDecimal=function(b){return s.fromRat(a.fromDecimal(b))};s.fromContinuedFraction=function(b){return s.fromRat(a.fromContinuedFraction(a.create(),b))};"undefined"!==typeof c&&(c.rational=
s)})(f)})(this);(function(c,f){"object"===typeof module&&"object"===typeof module.exports?module.exports=c.document?f(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return f(c)}:f(c)})("undefined"!==typeof window?window:this,function(c,f){function k(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function l(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,t){return!!b.call(a,
t,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(mb.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return 0<=sa.call(b,a)!==c})}function d(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function e(a){var b=Qa[a]={};m.each(a.match(M)||[],function(a,c){b[c]=!0});return b}function b(){E.removeEventListener("DOMContentLoaded",b,!1);c.removeEventListener("load",b,!1);m.ready()}function n(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=m.expando+Math.random()}function a(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(nb,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ob.test(c)?m.parseJSON(c):c}catch(d){}K.set(a,b,c)}else c=void 0;return c}function g(){return!0}function r(){return!1}function h(){try{return E.activeElement}catch(a){}}function s(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?
b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function q(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function p(a){var b=pb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function w(a,b){for(var c=0,d=a.length;c<d;c++)x.set(a[c],"globalEval",!b||x.get(b[c],"globalEval"))}function D(a,b){var c,d,e,g;if(1===b.nodeType){if(x.hasData(a)&&(g=x.access(a),c=x.set(b,g),g=g.events))for(e in delete c.handle,
c.events={},g)for(c=0,d=g[e].length;c<d;c++)m.event.add(b,e,g[e][c]);K.hasData(a)&&(e=K.access(a),e=m.extend({},e),K.set(b,e))}}function v(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&m.nodeName(a,b)?m.merge([a],c):c}function u(a,b){var d=m(b.createElement(a)).appendTo(b.body),e=c.getDefaultComputedStyle?c.getDefaultComputedStyle(d[0]).display:m.css(d[0],"display");d.detach();return e}function z(a){var b=E,
c=Ra[a];c||(c=u(a,b),"none"!==c&&c||(ha=(ha||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=ha[0].contentDocument,b.write(),b.close(),c=u(a,b),ha.detach()),Ra[a]=c);return c}function A(a,b,c){var d,e,g=a.style;(c=c||ta(a))&&(e=c.getPropertyValue(b)||c[b]);c&&(""!==e||m.contains(a.ownerDocument,a)||(e=m.style(a,b)),Ja.test(e)&&Sa.test(b)&&(a=g.width,b=g.minWidth,d=g.maxWidth,g.minWidth=g.maxWidth=g.width=e,e=c.width,g.width=a,g.minWidth=b,g.maxWidth=d));return void 0!==
e?e+"":e}function O(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function U(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ta.length;e--;)if(b=Ta[e]+c,b in a)return b;return d}function P(a,b,c){return(a=rb.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function G(a,b,c,d,e){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var g=0;4>b;b+=2)"margin"===c&&(g+=m.css(a,c+Z[b],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+Z[b],
!0,e)),"margin"!==c&&(g-=m.css(a,"border"+Z[b]+"Width",!0,e))):(g+=m.css(a,"padding"+Z[b],!0,e),"padding"!==c&&(g+=m.css(a,"border"+Z[b]+"Width",!0,e)));return g}function V(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,g=ta(a),h="border-box"===m.css(a,"boxSizing",!1,g);if(0>=e||null==e){e=A(a,b,g);if(0>e||null==e)e=a.style[b];if(Ja.test(e))return e;d=h&&(B.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+G(a,b,c||(h?"border":"content"),d,g)+"px"}function J(a,b){for(var c,
d,e,g=[],h=0,n=a.length;h<n;h++)d=a[h],d.style&&(g[h]=x.get(d,"olddisplay"),c=d.style.display,b?(g[h]||"none"!==c||(d.style.display=""),""===d.style.display&&na(d)&&(g[h]=x.access(d,"olddisplay",z(d.nodeName)))):g[h]||(e=na(d),(c&&"none"!==c||!e)&&x.set(d,"olddisplay",e?c:m.css(d,"display"))));for(h=0;h<n;h++)d=a[h],!d.style||b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?g[h]||"":"none");return a}function I(a,b,c,d,e){return new I.prototype.init(a,b,c,d,e)}function za(){setTimeout(function(){W=
void 0});return W=m.now()}function ma(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Z[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function ga(a,b,c){for(var d,e=(oa[b]||[]).concat(oa["*"]),g=0,h=e.length;g<h;g++)if(d=e[g].call(c,b,a))return d}function Ia(a,b){var c,d,e,g,h;for(c in a)if(d=m.camelCase(c),e=b[d],g=a[c],m.isArray(g)&&(e=g[1],g=a[c]=g[0]),c!==d&&(a[d]=g,delete a[c]),(h=m.cssHooks[d])&&"expand"in h)for(c in g=h.expand(g),delete a[d],g)c in a||(a[c]=g[c],
b[c]=e);else b[d]=e}function Aa(a,b,c){var d,e=0,g=wa.length,h=m.Deferred().always(function(){delete n.elem}),n=function(){if(d)return!1;for(var b=W||za(),b=Math.max(0,f.startTime+f.duration-b),c=1-(b/f.duration||0),e=0,g=f.tweens.length;e<g;e++)f.tweens[e].run(c);h.notifyWith(a,[f,c,b]);if(1>c&&g)return b;h.resolveWith(a,[f]);return!1},f=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:W||za(),duration:c.duration,tweens:[],
createTween:function(b,c){var d=m.Tween(a,f.opts,b,c,f.opts.specialEasing[b]||f.opts.easing);f.tweens.push(d);return d},stop:function(b){var c=0,e=b?f.tweens.length:0;if(d)return this;for(d=!0;c<e;c++)f.tweens[c].run(1);b?h.resolveWith(a,[f,b]):h.rejectWith(a,[f,b]);return this}});c=f.props;for(Ia(c,f.opts.specialEasing);e<g;e++)if(b=wa[e].call(f,a,c,f.opts))return b;m.map(c,ga,f);m.isFunction(f.opts.start)&&f.opts.start.call(a,f);m.fx.timer(m.extend(n,{elem:a,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,
f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function qa(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,e=0,g=b.toLowerCase().match(M)||[];if(m.isFunction(c))for(;d=g[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function ra(a,b,c,d){function e(f){var n;g[f]=!0;m.each(a[f]||[],function(a,t){var f=t(b,c,d);if("string"===typeof f&&!h&&!g[f])return b.dataTypes.unshift(f),e(f),!1;if(h)return!(n=f)});return n}var g={},h=a===Ka;return e(b.dataTypes[0])||
!g["*"]&&e("*")}function C(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);d&&m.extend(!0,a,d);return a}function aa(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||sb.test(a)?d(a,e):aa(a+"["+("object"===typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)aa(a+"["+e+"]",b[e],c,d)}function ba(a){return m.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ca=[],Q=ca.slice,xa=ca.concat,ua=ca.push,sa=ca.indexOf,Ca=
{},tb=Ca.toString,La=Ca.hasOwnProperty,ub="".trim,B={},E=c.document,m=function(a,b){return new m.fn.init(a,b)},vb=/^-ms-/,wb=/-([\da-z])/gi,xb=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:"2.1.0",constructor:m,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Q.call(this)},pushStack:function(a){a=m.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return m.each(this,
a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ua,sort:ca.sort,splice:ca.splice};m.extend=m.fn.extend=function(){var a,b,c,d,e,g=arguments[0]||{},h=1,f=arguments.length,
n=!1;"boolean"===typeof g&&(n=g,g=arguments[h]||{},h++);"object"===typeof g||m.isFunction(g)||(g={});h===f&&(g=this,h--);for(;h<f;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(n&&d&&(m.isPlainObject(d)||(e=m.isArray(d)))?(e?(e=!1,c=c&&m.isArray(c)?c:[]):c=c&&m.isPlainObject(c)?c:{},g[b]=m.extend(n,c,d)):void 0!==d&&(g[b]=d));return g};m.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
m.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return 0<=a-parseFloat(a)},isPlainObject:function(a){if("object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!La.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Ca[tb.call(a)]||"object":typeof a},
globalEval:function(a){var b;b=eval;if(a=m.trim(a))1===a.indexOf("use strict")?(b=E.createElement("script"),b.text=a,E.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(vb,"ms-").replace(wb,xb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,g=a.length;d=k(a);if(c)if(d)for(;e<g&&(d=b.apply(a[e],c),!1!==d);e++);else for(e in a){if(d=b.apply(a[e],c),!1===d)break}else if(d)for(;e<g&&(d=b.call(a[e],
e,a[e]),!1!==d);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),!1===d)break;return a},trim:function(a){return null==a?"":ub.call(a)},makeArray:function(a,b){var c=b||[];null!=a&&(k(Object(a))?m.merge(c,"string"===typeof a?[a]:a):ua.call(c,a));return c},inArray:function(a,b,c){return null==b?-1:sa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];a.length=e;return a},grep:function(a,b,c){for(var d=[],e=0,g=a.length,h=!c;e<g;e++)c=!b(a[e],e),c!==h&&d.push(a[e]);
return d},map:function(a,b,c){var d,e=0,g=a.length,h=[];if(k(a))for(;e<g;e++)d=b(a[e],e,c),null!=d&&h.push(d);else for(e in a)d=b(a[e],e,c),null!=d&&h.push(d);return xa.apply([],h)},guid:1,proxy:function(a,b){var c,d;"string"===typeof b&&(c=a[b],b=a,a=c);if(m.isFunction(a))return d=Q.call(arguments,2),c=function(){return a.apply(b||this,d.concat(Q.call(arguments)))},c.guid=a.guid=a.guid||m.guid++,c},now:Date.now,support:B});m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){Ca["[object "+b+"]"]=b.toLowerCase()});var la=function(a){function b(a,c,d,e){var t,g,h,f,n;(c?c.ownerDocument||c:G)!==R&&ia(c);c=c||R;d=d||[];if(!a||"string"!==typeof a)return d;if(1!==(f=c.nodeType)&&9!==f)return[];if(da&&!e){if(t=ra.exec(a))if(h=t[1])if(9===f)if((g=c.getElementById(h))&&g.parentNode){if(g.id===h)return d.push(g),d}else return d;else{if(c.ownerDocument&&(g=c.ownerDocument.getElementById(h))&&V(c,g)&&g.id===h)return d.push(g),d}else{if(t[2])return N.apply(d,c.getElementsByTagName(a)),
d;if((h=t[3])&&y.getElementsByClassName&&c.getElementsByClassName)return N.apply(d,c.getElementsByClassName(h)),d}if(y.qsa&&(!T||!T.test(a))){g=t=L;h=c;n=9===f&&a;if(1===f&&"object"!==c.nodeName.toLowerCase()){f=l(a);(t=c.getAttribute("id"))?g=t.replace(ta,"\\$&"):c.setAttribute("id",g);g="[id='"+g+"'] ";for(h=f.length;h--;)f[h]=g+p(f[h]);h=ha.test(a)&&m(c.parentNode)||c;n=f.join(",")}if(n)try{return N.apply(d,h.querySelectorAll(n)),d}catch(k){}finally{t||c.removeAttribute("id")}}}var F;a:{a=a.replace(W,
"$1");g=l(a);if(!e&&1===g.length){t=g[0]=g[0].slice(0);if(2<t.length&&"ID"===(F=t[0]).type&&y.getById&&9===c.nodeType&&da&&u.relative[t[1].type]){c=(u.find.ID(F.matches[0].replace(ja,ka),c)||[])[0];if(!c){F=d;break a}a=a.slice(t.shift().value.length)}for(f=fa.needsContext.test(a)?0:t.length;f--;){F=t[f];if(u.relative[h=F.type])break;if(h=u.find[h])if(e=h(F.matches[0].replace(ja,ka),ha.test(t[0].type)&&m(c.parentNode)||c)){t.splice(f,1);a=e.length&&p(t);if(!a){N.apply(d,e);F=d;break a}break}}}E(a,
g)(e,c,!da,d,ha.test(a)&&m(c.parentNode)||c);F=d}return F}function c(){function a(c,d){b.push(c+" ")>u.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[L]=!0;return a}function e(a){var b=R.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)u.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||S)-(~a.sourceIndex||
S);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function n(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return d(function(b){b=+b;return d(function(c,d){for(var e,t=a([],c.length,b),g=t.length;g--;)c[e=t[g]]&&(c[e]=!(d[e]=c[e]))})})}function m(a){return a&&typeof a.getElementsByTagName!==Q&&a}function r(){}function l(a,
c){var d,e,t,g,h,f,n;if(h=ma[a+" "])return c?0:h.slice(0);h=a;f=[];for(n=u.preFilter;h;){if(!d||(e=la.exec(h)))e&&(h=h.slice(e[0].length)||h),f.push(t=[]);d=!1;if(e=Aa.exec(h))d=e.shift(),t.push({value:d,type:e[0].replace(W," ")}),h=h.slice(d.length);for(g in u.filter)!(e=fa[g].exec(h))||n[g]&&!(e=n[g](e))||(d=e.shift(),t.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):ma(a,f).slice(0)}function p(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;
return d}function s(a,b,c){var d=b.dir,e=c&&"parentNode"===d,t=za++;return b.first?function(b,c,t){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,t)}:function(b,c,g){var h,f,n=[X,t];if(g)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){f=b[L]||(b[L]={});if((h=f[d])&&h[0]===X&&h[1]===t)return n[2]=h[2];f[d]=n;if(n[2]=a(b,c,g))return!0}}}function q(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function w(a,
b,c,d,e){for(var t,g=[],h=0,f=a.length,n=null!=b;h<f;h++)if(t=a[h])if(!c||c(t,d,e))g.push(t),n&&b.push(h);return g}function D(a,c,e,t,g,h){t&&!t[L]&&(t=D(t));g&&!g[L]&&(g=D(g,h));return d(function(d,h,f,n){var k,m,r=[],H=[],l=h.length,p;if(!(p=d)){p=c||"*";for(var s=f.nodeType?[f]:f,va=[],q=0,Ba=s.length;q<Ba;q++)b(p,s[q],va);p=va}p=!a||!d&&c?p:w(p,r,a,f,n);s=e?g||(d?a:l||t)?[]:h:p;e&&e(p,s,f,n);if(t)for(k=w(s,H),t(k,[],f,n),f=k.length;f--;)if(m=k[f])s[H[f]]=!(p[H[f]]=m);if(d){if(g||a){if(g){k=[];
for(f=s.length;f--;)(m=s[f])&&k.push(p[f]=m);g(null,s=[],k,n)}for(f=s.length;f--;)(m=s[f])&&-1<(k=g?ba.call(d,m):r[f])&&(d[k]=!(h[k]=m))}}else s=w(s===h?s.splice(l,s.length):s),g?g(null,h,s,n):N.apply(h,s)})}function v(a){var b,c,d,e=a.length,t=u.relative[a[0].type];c=t||u.relative[" "];for(var g=t?1:0,h=s(function(a){return a===b},c,!0),f=s(function(a){return-1<ba.call(b,a)},c,!0),n=[function(a,c,d){return!t&&(d||c!==I)||((b=c).nodeType?h(a,c,d):f(a,c,d))}];g<e;g++)if(c=u.relative[a[g].type])n=[s(q(n),
c)];else{c=u.filter[a[g].type].apply(null,a[g].matches);if(c[L]){for(d=++g;d<e&&!u.relative[a[d].type];d++);return D(1<g&&q(n),1<g&&p(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(W,"$1"),c,g<d&&v(a.slice(g,d)),d<e&&v(a=a.slice(d)),d<e&&p(a))}n.push(c)}return q(n)}function A(a,c){var e=0<c.length,t=0<a.length,g=function(d,g,h,f,n){var k,m,r,H=0,l="0",s=d&&[],p=[],va=I,q=d||t&&u.find.TAG("*",n),Ba=X+=null==va?1:Math.random()||.1,qb=q.length;for(n&&(I=g!==R&&g);l!==qb&&null!=(k=q[l]);l++){if(t&&
k){for(m=0;r=a[m++];)if(r(k,g,h)){f.push(k);break}n&&(X=Ba)}e&&((k=!r&&k)&&H--,d&&s.push(k))}H+=l;if(e&&l!==H){for(m=0;r=c[m++];)r(s,p,g,h);if(d){if(0<H)for(;l--;)s[l]||p[l]||(p[l]=aa.call(f));p=w(p)}N.apply(f,p);n&&!d&&0<p.length&&1<H+c.length&&b.uniqueSort(f)}n&&(X=Ba,I=va);return s};return e?d(g):g}var z,y,u,x,J,E,I,C,P,ia,R,B,da,T,O,U,V,L="sizzle"+-new Date,G=a.document,X=0,za=0,K=c(),ma=c(),ga=c(),ca=function(a,b){a===b&&(P=!0);return 0},Q="undefined",S=-2147483648,sa={}.hasOwnProperty,M=[],
aa=M.pop,ea=M.push,N=M.push,Z=M.slice,ba=M.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},xa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ua="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+xa+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Y=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ua.replace(3,8)+")*)|.*)\\)|)",
W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,la=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Aa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,na=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,oa=new RegExp(Y),pa=new RegExp("^"+xa+"$"),fa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ua),PSEUDO:new RegExp("^"+Y),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Ia=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ya=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ha=/[+~]/,ta=/'|\\/g,ja=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
ka=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{N.apply(M=Z.call(G.childNodes),G.childNodes),M[G.childNodes.length].nodeType}catch(wa){N={apply:M.length?function(a,b){ea.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}y=b.support={};J=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};ia=b.setDocument=function(a){var b=a?a.ownerDocument||
a:G;a=b.defaultView;if(b===R||9!==b.nodeType||!b.documentElement)return R;R=b;B=b.documentElement;da=!J(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){ia()},!1):a.attachEvent&&a.attachEvent("onunload",function(){ia()}));y.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});y.getElementsByTagName=e(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});y.getElementsByClassName=ya.test(b.getElementsByClassName)&&
e(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});y.getById=e(function(a){B.appendChild(a).id=L;return!b.getElementsByName||!b.getElementsByName(L).length});y.getById?(u.find.ID=function(a,b){if(typeof b.getElementById!==Q&&da){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},u.filter.ID=function(a){var b=a.replace(ja,ka);return function(a){return a.getAttribute("id")===b}}):(delete u.find.ID,
u.filter.ID=function(a){var b=a.replace(ja,ka);return function(a){return(a=typeof a.getAttributeNode!==Q&&a.getAttributeNode("id"))&&a.value===b}});u.find.TAG=y.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==Q)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,t=b.getElementsByTagName(a);if("*"===a){for(;c=t[e++];)1===c.nodeType&&d.push(c);return d}return t};u.find.CLASS=y.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==Q&&da)return b.getElementsByClassName(a)};
O=[];T=[];if(y.qsa=ya.test(b.querySelectorAll))e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>";a.querySelectorAll("[t^='']").length&&T.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||T.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||T.push(":checked")}),e(function(a){var c=b.createElement("input");
c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&T.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||T.push(":enabled",":disabled");a.querySelectorAll("*,:x");T.push(",.*:")});(y.matchesSelector=ya.test(U=B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&e(function(a){y.disconnectedMatch=U.call(a,"div");U.call(a,"[s!='']:x");O.push("!=",Y)});T=T.length&&new RegExp(T.join("|"));
O=O.length&&new RegExp(O.join("|"));V=(a=ya.test(B.compareDocumentPosition))||ya.test(B.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ca=a?function(a,c){if(a===c)return P=!0,0;var d=!a.compareDocumentPosition-!c.compareDocumentPosition;if(d)return d;d=(a.ownerDocument||a)===
(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return d&1||!y.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===G&&V(G,a)?-1:c===b||c.ownerDocument===G&&V(G,c)?1:C?ba.call(C,a)-ba.call(C,c):0:d&4?-1:1}:function(a,c){if(a===c)return P=!0,0;var d,e=0;d=a.parentNode;var t=c.parentNode,g=[a],f=[c];if(!d||!t)return a===b?-1:c===b?1:d?-1:t?1:C?ba.call(C,a)-ba.call(C,c):0;if(d===t)return h(a,c);for(d=a;d=d.parentNode;)g.unshift(d);for(d=c;d=d.parentNode;)f.unshift(d);for(;g[e]===
f[e];)e++;return e?h(g[e],f[e]):g[e]===G?-1:f[e]===G?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==R&&ia(a);c=c.replace(na,"='$1']");if(!(!y.matchesSelector||!da||O&&O.test(c)||T&&T.test(c)))try{var d=U.call(a,c);if(d||y.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return 0<b(c,R,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==R&&ia(a);return V(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==R&&ia(a);var c=u.attrHandle[b.toLowerCase()],c=c&&sa.call(u.attrHandle,b.toLowerCase())?c(a,b,!da):void 0;return void 0!==c?c:y.attributes||!da?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,e=0;P=!y.detectDuplicates;C=!y.sortStable&&a.slice(0);a.sort(ca);if(P){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}C=null;return a};x=b.getText=
function(a){var b,c="",d=0;b=a.nodeType;if(!b)for(;b=a[d++];)c+=x(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===b||4===b)return a.nodeValue;return c};u=b.selectors={cacheLength:50,createPseudo:d,match:fa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ja,
ka);a[3]=(a[4]||a[5]||"").replace(ja,ka);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(fa.CHILD.test(a[0]))return null;a[3]&&void 0!==a[4]?a[2]=a[4]:c&&oa.test(c)&&(b=l(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=
c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ja,ka).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=K[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&K(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==Q&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){e=b.attr(e,a);if(null==
e)return"!="===c;if(!c)return!0;e+="";return"="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e+" ").indexOf(d):"|="===c?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var t="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,f){var n,k,m,F,r;c=t!==g?"nextSibling":"previousSibling";var H=b.parentNode,l=h&&b.nodeName.toLowerCase();
f=!f&&!h;if(H){if(t){for(;c;){for(k=b;k=k[c];)if(h?k.nodeName.toLowerCase()===l:1===k.nodeType)return!1;r=c="only"===a&&!r&&"nextSibling"}return!0}r=[g?H.firstChild:H.lastChild];if(g&&f)for(f=H[L]||(H[L]={}),n=f[a]||[],F=n[0]===X&&n[1],m=n[0]===X&&n[2],k=F&&H.childNodes[F];k=++F&&k&&k[c]||(m=F=0)||r.pop();){if(1===k.nodeType&&++m&&k===b){f[a]=[X,F,m];break}}else if(f&&(n=(b[L]||(b[L]={}))[a])&&n[0]===X)m=n[1];else for(;(k=++F&&k&&k[c]||(m=F=0)||r.pop())&&((h?k.nodeName.toLowerCase()!==l:1!==k.nodeType)||
!++m||(f&&((k[L]||(k[L]={}))[a]=[X,m]),k!==b)););m-=e;return m===d||0===m%d&&0<=m/d}}},PSEUDO:function(a,c){var e,t=u.pseudos[a]||u.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return t[L]?t(c):1<t.length?(e=[a,a,"",c],u.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=t(a,c),g=e.length;g--;)d=ba.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return t(a,0,e)}):t}},pseudos:{not:d(function(a){var b=[],c=[],e=E(a.replace(W,"$1"));return e[L]?d(function(a,b,c,d){d=
e(a,null,d,[]);for(var t=a.length;t--;)if(c=d[t])a[t]=!(b[t]=c)}):function(a,d,t){b[0]=a;e(b,null,t,c);return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){return function(b){return-1<(b.textContent||b.innerText||x(b)).indexOf(a)}}),lang:d(function(a){pa.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ja,ka).toLowerCase();return function(b){var c;do if(c=da?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),
c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===B},focus:function(a){return a===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return Ia.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===
b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};u.pseudos.nth=u.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[z]=f(z);for(z in{submit:!0,
reset:!0})u.pseudos[z]=n(z);r.prototype=u.filters=u.pseudos;u.setFilters=new r;E=b.compile=function(a,b){var c,d=[],e=[],t=ga[a+" "];if(!t){b||(b=l(a));for(c=b.length;c--;)t=v(b[c]),t[L]?d.push(t):e.push(t);t=ga(a,A(e,d))}return t};y.sortStable=L.split("").sort(ca).join("")===L;y.detectDuplicates=!!P;ia();y.sortDetached=e(function(a){return a.compareDocumentPosition(R.createElement("div"))&1});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",
function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});y.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,
b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(c);m.find=la;m.expr=la.selectors;m.expr[":"]=m.expr.pseudos;m.unique=la.uniqueSort;m.text=la.getText;m.isXMLDoc=la.isXML;m.contains=la.contains;var Ua=m.expr.match.needsContext,Va=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mb=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===
a.nodeType}))};m.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!==typeof a)return this.pushStack(m(a).filter(function(){for(b=0;b<c;b++)if(m.contains(e[b],this))return!0}));for(b=0;b<c;b++)m.find(a,e[b],d);d=this.pushStack(1<c?m.unique(d):d);d.selector=this.selector?this.selector+" "+a:a;return d},filter:function(a){return this.pushStack(l(this,a||[],!1))},not:function(a){return this.pushStack(l(this,a||[],!0))},is:function(a){return!!l(this,"string"===typeof a&&Ua.test(a)?
m(a):a||[],!1).length}});var Da,zb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(a,b){var c;if(!a)return this;if("string"===typeof a){c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:zb.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||Da).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),Va.test(c[1])&&m.isPlainObject(b))for(c in b)if(m.isFunction(this[c]))this[c](b[c]);else this.attr(c,
b[c])}else(c=E.getElementById(c[2]))&&c.parentNode&&(this.length=1,this[0]=c),this.context=E,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(m.isFunction(a))return"undefined"!==typeof Da.ready?Da.ready(a):a(m);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return m.makeArray(a,this)}).prototype=m.fn;Da=m(E);var Ab=/^(?:parents|prev(?:Until|All))/,Bb={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){for(var d=
[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&m(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});m.fn.extend({has:function(a){var b=m(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(m.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,g=[],h=Ua.test(a)||"string"!==typeof a?m(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>
c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&m.find.matchesSelector(c,a))){g.push(c);break}return this.pushStack(1<g.length?m.unique(g):g)},index:function(a){return a?"string"===typeof a?sa.call(m(a),this[0]):sa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});m.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return d(a,"nextSibling")},prev:function(a){return d(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return a.contentDocument||m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=m.filter(d,e));1<this.length&&(Bb[a]||m.unique(e),Ab.test(a)&&e.reverse());return this.pushStack(e)}});var M=/\S+/g,Qa={};m.Callbacks=function(a){a="string"===typeof a?Qa[a]||e(a):m.extend({},a);var b,c,d,g,h,f,n=[],k=!a.once&&[],r=function(e){b=
a.memory&&e;c=!0;f=g||0;g=0;h=n.length;for(d=!0;n&&f<h;f++)if(!1===n[f].apply(e[0],e[1])&&a.stopOnFalse){b=!1;break}d=!1;n&&(k?k.length&&r(k.shift()):b?n=[]:l.disable())},l={add:function(){if(n){var c=n.length;(function yb(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&l.has(c)||n.push(c):c&&c.length&&"string"!==d&&yb(c)})})(arguments);d?h=n.length:b&&(g=c,r(b))}return this},remove:function(){n&&m.each(arguments,function(a,b){for(var c;-1<(c=m.inArray(b,n,c));)n.splice(c,1),d&&
(c<=h&&h--,c<=f&&f--)});return this},has:function(a){return a?-1<m.inArray(a,n):!(!n||!n.length)},empty:function(){n=[];h=0;return this},disable:function(){n=k=b=void 0;return this},disabled:function(){return!n},lock:function(){k=void 0;b||l.disable();return this},locked:function(){return!k},fireWith:function(a,b){!n||c&&!k||(b=b||[],b=[a,b.slice?b.slice():b],d?k.push(b):r(b));return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!c}};return l};m.extend({Deferred:function(a){var b=
[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,g){var h=m.isFunction(a[b])&&a[b];e[g[1]](function(){var a=h&&h.apply(this,arguments);if(a&&m.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[g[0]+"With"](this===d?c.promise():this,h?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};d.pipe=d.then;m.each(b,function(a,g){var h=g[2],t=g[3];d[g[1]]=h.add;t&&h.add(function(){c=t},b[a^1][2].disable,b[2][2].lock);e[g[0]]=function(){e[g[0]+"With"](this===e?d:this,arguments);return this};e[g[0]+"With"]=h.fireWith});d.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,c=Q.call(arguments),d=c.length,e=1!==d||a&&m.isFunction(a.promise)?
d:0,g=1===e?a:m.Deferred(),h=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?Q.call(arguments):d;c===f?g.notifyWith(b,c):--e||g.resolveWith(b,c)}},f,n,k;if(1<d)for(f=Array(d),n=Array(d),k=Array(d);b<d;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,n,f)):--e;e||g.resolveWith(k,c);return g.promise()}});var Ea;m.fn.ready=function(a){m.ready.promise().done(a);return this};m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:
m.ready(!0)},ready:function(a){(!0===a?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==a&&0<--m.readyWait||(Ea.resolveWith(E,[m]),m.fn.trigger&&m(E).trigger("ready").off("ready")))}});m.ready.promise=function(a){Ea||(Ea=m.Deferred(),"complete"===E.readyState?setTimeout(m.ready):(E.addEventListener("DOMContentLoaded",b,!1),c.addEventListener("load",b,!1)));return Ea.promise(a)};m.ready.promise();var ea=m.access=function(a,b,c,d,e,g,h){var f=0,n=a.length,k=null==c;if("object"===m.type(c))for(f in e=!0,
c)m.access(a,b,f,c[f],!0,g,h);else if(void 0!==d&&(e=!0,m.isFunction(d)||(h=!0),k&&(h?(b.call(a,d),b=null):(k=b,b=function(a,b,c){return k.call(m(a),c)})),b))for(;f<n;f++)b(a[f],c,h?d:d.call(a[f],f,b(a[f],c)));return e?a:k?b.call(a):n?b(a[0],c):g};m.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};n.uid=1;n.accepts=m.acceptData;n.prototype={key:function(a){if(!n.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=n.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,
b)}catch(d){b[this.expando]=c,m.extend(a,b)}}this.cache[c]||(this.cache[c]={});return c},set:function(a,b,c){var d;a=this.key(a);var e=this.cache[a];if("string"===typeof b)e[b]=c;else if(m.isEmptyObject(e))m.extend(this.cache[a],b);else for(d in b)e[d]=b[d];return e},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return c=this.get(a,b),void 0!==c?c:this.get(a,m.camelCase(b));this.set(a,b,c);return void 0!==
c?c:b},remove:function(a,b){var c,d;c=this.key(a);var e=this.cache[c];if(void 0===b)this.cache[c]={};else for(m.isArray(b)?d=b.concat(b.map(m.camelCase)):(c=m.camelCase(b),b in e?d=[b,c]:(d=c,d=d in e?[d]:d.match(M)||[])),c=d.length;c--;)delete e[d[c]]},hasData:function(a){return!m.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var x=new n,K=new n,ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nb=/([A-Z])/g;m.extend({hasData:function(a){return K.hasData(a)||
x.hasData(a)},data:function(a,b,c){return K.access(a,b,c)},removeData:function(a,b){K.remove(a,b)},_data:function(a,b,c){return x.access(a,b,c)},_removeData:function(a,b){x.remove(a,b)}});m.fn.extend({data:function(b,c){var d,e,g,h=this[0],f=h&&h.attributes;if(void 0===b){if(this.length&&(g=K.get(h),1===h.nodeType&&!x.get(h,"hasDataAttrs"))){for(d=f.length;d--;)e=f[d].name,0===e.indexOf("data-")&&(e=m.camelCase(e.slice(5)),a(h,e,g[e]));x.set(h,"hasDataAttrs",!0)}return g}return"object"===typeof b?
this.each(function(){K.set(this,b)}):ea(this,function(c){var d,e=m.camelCase(b);if(h&&void 0===c){d=K.get(h,b);if(void 0!==d)return d;d=K.get(h,e);if(void 0!==d)return d;d=a(h,e,void 0);if(void 0!==d)return d}else this.each(function(){var a=K.get(this,e);K.set(this,e,c);-1!==b.indexOf("-")&&void 0!==a&&K.set(this,b,c)})},null,c,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){K.remove(this,a)})}});m.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",
d=x.get(a,b),c&&(!d||m.isArray(c)?d=x.access(a,b,m.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),g=m._queueHooks(a,b),h=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete g.stop,e.call(a,h,g));!d&&g&&g.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return x.get(a,c)||x.access(a,c,{empty:m.Callbacks("once memory").add(function(){x.remove(a,[b+"queue",c])})})}});m.fn.extend({queue:function(a,
b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),g=this,h=this.length,f=function(){--d||e.resolveWith(g,[g])};"string"!==typeof a&&(b=a,a=void 0);for(a=
a||"fx";h--;)(c=x.get(g[h],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(f));f();return e.promise(b)}});var Fa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=["Top","Right","Bottom","Left"],na=function(a,b){a=b||a;return"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},Wa=/^(?:checkbox|radio)$/i;(function(){var a=E.createDocumentFragment().appendChild(E.createElement("div"));a.innerHTML="<input type='radio' checked='checked' name='t'/>";B.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
a.innerHTML="<textarea>x</textarea>";B.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();B.focusinBubbles="onfocusin"in c;var Cb=/^key/,Db=/^(?:mouse|contextmenu)|click/,Xa=/^(?:focusinfocus|focusoutblur)$/,Ya=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(a,b,c,d,e){var g,h,f,n,k,r,l,p,s;if(k=x.get(a))for(c.handler&&(g=c,c=g.handler,e=g.selector),c.guid||(c.guid=m.guid++),(n=k.events)||(n=k.events={}),(h=k.handle)||(h=k.handle=function(b){return"undefined"!==typeof m&&m.event.triggered!==
b.type?m.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(M)||[""],k=b.length;k--;)f=Ya.exec(b[k])||[],p=r=f[1],s=(f[2]||"").split(".").sort(),p&&(f=m.event.special[p]||{},p=(e?f.delegateType:f.bindType)||p,f=m.event.special[p]||{},r=m.extend({type:p,origType:r,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:s.join(".")},g),(l=n[p])||(l=n[p]=[],l.delegateCount=0,f.setup&&!1!==f.setup.call(a,d,s,h)||a.addEventListener&&a.addEventListener(p,
h,!1)),f.add&&(f.add.call(a,r),r.handler.guid||(r.handler.guid=c.guid)),e?l.splice(l.delegateCount++,0,r):l.push(r),m.event.global[p]=!0)},remove:function(a,b,c,d,e){var g,h,f,n,k,r,l,p,s,q,w,D=x.hasData(a)&&x.get(a);if(D&&(n=D.events)){b=(b||"").match(M)||[""];for(k=b.length;k--;)if(f=Ya.exec(b[k])||[],s=w=f[1],q=(f[2]||"").split(".").sort(),s){l=m.event.special[s]||{};s=(d?l.delegateType:l.bindType)||s;p=n[s]||[];f=f[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=g=p.length;g--;)r=
p[g],!e&&w!==r.origType||c&&c.guid!==r.guid||f&&!f.test(r.namespace)||d&&d!==r.selector&&("**"!==d||!r.selector)||(p.splice(g,1),r.selector&&p.delegateCount--,l.remove&&l.remove.call(a,r));h&&!p.length&&(l.teardown&&!1!==l.teardown.call(a,q,D.handle)||m.removeEvent(a,s,D.handle),delete n[s])}else for(s in n)m.event.remove(a,s+b[k],c,d,!0);m.isEmptyObject(n)&&(delete D.handle,x.remove(a,"events"))}},trigger:function(a,b,d,e){var g,h,f,n,k,r,l=[d||E],p=La.call(a,"type")?a.type:a;r=La.call(a,"namespace")?
a.namespace.split("."):[];h=g=d=d||E;if(3!==d.nodeType&&8!==d.nodeType&&!Xa.test(p+m.event.triggered)&&(0<=p.indexOf(".")&&(r=p.split("."),p=r.shift(),r.sort()),n=0>p.indexOf(":")&&"on"+p,a=a[m.expando]?a:new m.Event(p,"object"===typeof a&&a),a.isTrigger=e?2:3,a.namespace=r.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),b=null==b?[a]:m.makeArray(b,[a]),r=m.event.special[p]||{},e||!r.trigger||!1!==r.trigger.apply(d,
b))){if(!e&&!r.noBubble&&!m.isWindow(d)){f=r.delegateType||p;Xa.test(f+p)||(h=h.parentNode);for(;h;h=h.parentNode)l.push(h),g=h;g===(d.ownerDocument||E)&&l.push(g.defaultView||g.parentWindow||c)}for(g=0;(h=l[g++])&&!a.isPropagationStopped();)a.type=1<g?f:r.bindType||p,(k=(x.get(h,"events")||{})[a.type]&&x.get(h,"handle"))&&k.apply(h,b),(k=n&&h[n])&&k.apply&&m.acceptData(h)&&(a.result=k.apply(h,b),!1===a.result&&a.preventDefault());a.type=p;e||a.isDefaultPrevented()||r._default&&!1!==r._default.apply(l.pop(),
b)||!m.acceptData(d)||!n||!m.isFunction(d[p])||m.isWindow(d)||((g=d[n])&&(d[n]=null),m.event.triggered=p,d[p](),m.event.triggered=void 0,g&&(d[n]=g));return a.result}},dispatch:function(a){a=m.event.fix(a);var b,c,d,e,g=[],h=Q.call(arguments);b=(x.get(this,"events")||{})[a.type]||[];var f=m.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,a)){g=m.event.handlers.call(this,a,b);for(b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,
c=0;(d=e.handlers[c++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace))a.handleObj=d,a.data=d.data,d=((m.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,d,e,g,h=[],f=b.delegateCount,n=a.target;if(f&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!==this;n=n.parentNode||this)if(!0!==
n.disabled||"click"!==a.type){d=[];for(c=0;c<f;c++)g=b[c],e=g.selector+" ",void 0===d[e]&&(d[e]=g.needsContext?0<=m(e,this).index(n):m.find(e,this,null,[n]).length),d[e]&&d.push(g);d.length&&h.push({elem:n,handlers:d})}f<b.length&&h.push({elem:this,handlers:b.slice(f)});return h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==
a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e=b.button;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||E,d=c.documentElement,c=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0));a.which||
void 0===e||(a.which=e&1?1:e&2?3:e&4?2:0);return a}},fix:function(a){if(a[m.expando])return a;var b,c,d;b=a.type;var e=a,g=this.fixHooks[b];g||(this.fixHooks[b]=g=Db.test(b)?this.mouseHooks:Cb.test(b)?this.keyHooks:{});d=g.props?this.props.concat(g.props):this.props;a=new m.Event(e);for(b=d.length;b--;)c=d[b],a[c]=e[c];a.target||(a.target=E);3===a.target.nodeType&&(a.target=a.target.parentNode);return g.filter?g.filter(a,e):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),
!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(a,
null,b):m.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};m.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)};m.Event=function(a,b){if(!(this instanceof m.Event))return new m.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?g:r):this.type=a;b&&m.extend(this,b);this.timeStamp=a&&a.timeStamp||m.now();this[m.expando]=!0};
m.Event.prototype={isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()}};m.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){m.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,e=a.handleObj;if(!d||d!==this&&!m.contains(this,d))a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b;return c}}});B.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=x.access(d,b);e||d.addEventListener(a,c,!0);x.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||
this,e=x.access(d,b)-1;e?x.access(d,b,e):(d.removeEventListener(a,c,!0),x.remove(d,b))}}});m.fn.extend({on:function(a,b,c,d,e){var g,h;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=void 0);for(h in a)this.on(h,b,c,a[h],e);return this}null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"===typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0));if(!1===d)d=r;else if(!d)return this;1===e&&(g=d,d=function(a){m().off(a);return g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++));return this.each(function(){m.event.add(this,
a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=r);return this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},
triggerHandler:function(a,b){var c=this[0];if(c)return m.event.trigger(a,b,c,!0)}});var Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$a=/<([\w:]+)/,Eb=/<|&#?\w+;/,Fb=/<(?:script|style|link)/i,Gb=/checked\s*(?:[^=]|=\s*.checked.)/i,ab=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,Hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,S={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,
"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};S.optgroup=S.option;S.tbody=S.tfoot=S.colgroup=S.caption=S.thead;S.th=S.td;m.extend({clone:function(a,b,c){var d,e,g,h,f=a.cloneNode(!0),n=m.contains(a.ownerDocument,a);if(!(B.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(h=v(f),g=v(a),d=0,e=g.length;d<e;d++){var k=g[d],r=h[d],l=r.nodeName.toLowerCase();if("input"===l&&Wa.test(k.type))r.checked=k.checked;else if("input"===
l||"textarea"===l)r.defaultValue=k.defaultValue}if(b)if(c)for(g=g||v(a),h=h||v(f),d=0,e=g.length;d<e;d++)D(g[d],h[d]);else D(a,f);h=v(f,"script");0<h.length&&w(h,!n&&v(a,"script"));return f},buildFragment:function(a,b,c,d){for(var e,g,h,f=b.createDocumentFragment(),n=[],k=0,r=a.length;k<r;k++)if((e=a[k])||0===e)if("object"===m.type(e))m.merge(n,e.nodeType?[e]:e);else if(Eb.test(e)){g=g||f.appendChild(b.createElement("div"));h=($a.exec(e)||["",""])[1].toLowerCase();h=S[h]||S._default;g.innerHTML=h[1]+
e.replace(Za,"<$1></$2>")+h[2];for(h=h[0];h--;)g=g.lastChild;m.merge(n,g.childNodes);g=f.firstChild;g.textContent=""}else n.push(b.createTextNode(e));f.textContent="";for(k=0;e=n[k++];)if(!d||-1===m.inArray(e,d))if(a=m.contains(e.ownerDocument,e),g=v(f.appendChild(e),"script"),a&&w(g),c)for(h=0;e=g[h++];)ab.test(e.type||"")&&c.push(e);return f},cleanData:function(a){for(var b,c,d,e,g,h,f=m.event.special,n=0;void 0!==(c=a[n]);n++){if(m.acceptData(c)&&(g=c[x.expando])&&(b=x.cache[g])){d=Object.keys(b.events||
{});if(d.length)for(h=0;void 0!==(e=d[h]);h++)f[e]?m.event.remove(c,e):m.removeEvent(c,e,b.handle);x.cache[g]&&delete x.cache[g]}delete K.cache[c[K.expando]]}}});m.fn.extend({text:function(a){return ea(this,function(a){return void 0===a?m.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||
s(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):
this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(v(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&w(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(m.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return m.clone(this,a,b)})},html:function(a){return ea(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;
if("string"===typeof a&&!Fb.test(a)&&!S[($a.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Za,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;m.cleanData(v(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},
domManip:function(a,b){a=xa.apply([],a);var c,d,e,g,h=0,f=this.length,n=this,k=f-1,r=a[0],l=m.isFunction(r);if(l||1<f&&"string"===typeof r&&!B.checkClone&&Gb.test(r))return this.each(function(c){var d=n.eq(c);l&&(a[0]=r.call(this,c,d.html()));d.domManip(a,b)});if(f&&(c=m.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){d=m.map(v(c,"script"),q);for(e=d.length;h<f;h++)g=c,h!==k&&(g=m.clone(g,!0,!0),e&&m.merge(d,v(g,"script"))),b.call(this[h],g,h);if(e)for(c=
d[d.length-1].ownerDocument,m.map(d,p),h=0;h<e;h++)g=d[h],ab.test(g.type||"")&&!x.access(g,"globalEval")&&m.contains(c,g)&&(g.src?m._evalUrl&&m._evalUrl(g.src):m.globalEval(g.textContent.replace(Hb,"")))}return this}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c=[],d=m(a),e=d.length-1,g=0;g<=e;g++)a=g===e?this:this.clone(!0),m(d[g])[b](a),ua.apply(c,a.get());return this.pushStack(c)}});
var ha,Ra={},Sa=/^margin/,Ja=new RegExp("^("+Fa+")(?!px)[a-z%]+$","i"),ta=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function a(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";e.appendChild(g);var f=c.getComputedStyle(h,null);b="1%"!==f.top;d="4px"===f.width;e.removeChild(g)}var b,d,e=E.documentElement,g=E.createElement("div"),
h=E.createElement("div");h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";B.clearCloneStyle="content-box"===h.style.backgroundClip;g.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";g.appendChild(h);c.getComputedStyle&&m.extend(B,{pixelPosition:function(){a();return b},boxSizingReliable:function(){null==d&&a();return d},reliableMarginRight:function(){var a;a=h.appendChild(E.createElement("div"));a.style.cssText=h.style.cssText=
"padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box";a.style.marginRight=a.style.width="0";h.style.width="1px";e.appendChild(g);a=!parseFloat(c.getComputedStyle(a,null).marginRight);e.removeChild(g);h.innerHTML="";return a}})})();m.swap=function(a,b,c,d){var e,g={};for(e in b)g[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=g[e];return c};var Ib=/^(none|table(?!-c[ea]).+)/,rb=new RegExp("^("+Fa+")(.*)$",
"i"),Jb=new RegExp("^([+-])=("+Fa+")","i"),Kb={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:0,fontWeight:400},Ta=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,
g,h,f=m.camelCase(b),n=a.style;b=m.cssProps[f]||(m.cssProps[f]=U(n,f));h=m.cssHooks[b]||m.cssHooks[f];if(void 0!==c)g=typeof c,"string"===g&&(e=Jb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),g="number"),null!=c&&c===c&&("number"!==g||m.cssNumber[f]||(c+="px"),B.clearCloneStyle||""!==c||0!==b.indexOf("background")||(n[b]="inherit"),h&&"set"in h&&void 0===(c=h.set(a,c,d))||(n[b]="",n[b]=c));else return h&&"get"in h&&void 0!==(e=h.get(a,!1,d))?e:n[b]}},css:function(a,b,c,d){var e,g;g=m.camelCase(b);
b=m.cssProps[g]||(m.cssProps[g]=U(a.style,g));(g=m.cssHooks[b]||m.cssHooks[g])&&"get"in g&&(e=g.get(a,!0,c));void 0===e&&(e=A(a,b,d));"normal"===e&&b in bb&&(e=bb[b]);return""===c||c?(a=parseFloat(e),!0===c||m.isNumeric(a)?a||0:e):e}});m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Ib.test(m.css(a,"display"))?m.swap(a,Kb,function(){return V(a,b,d)}):V(a,b,d)},set:function(a,c,d){var e=d&&ta(a);return P(a,c,d?G(a,b,d,"border-box"===m.css(a,
"boxSizing",!1,e),e):0)}}});m.cssHooks.marginRight=O(B.reliableMarginRight,function(a,b){if(b)return m.swap(a,{display:"inline-block"},A,[a,"marginRight"])});m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+Z[d]+b]=c[d]||c[d-2]||c[0];return e}};Sa.test(a)||(m.cssHooks[a+b].set=P)});m.fn.extend({css:function(a,b){return ea(this,function(a,b,c){var d,e={},g=0;if(m.isArray(b)){c=ta(a);for(d=
b.length;g<d;g++)e[b[g]]=m.css(a,b[g],!1,c);return e}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,1<arguments.length)},show:function(){return J(this,!0)},hide:function(){return J(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){na(this)?m(this).show():m(this).hide()})}});m.Tween=I;I.prototype={constructor:I,init:function(a,b,c,d,e,g){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=
g||(m.cssNumber[c]?"":"px")},cur:function(){var a=I.propHooks[this.prop];return a&&a.get?a.get(this):I.propHooks._default.get(this)},run:function(a){var b,c=I.propHooks[this.prop];this.pos=this.options.duration?b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):I.propHooks._default.set(this);return this}};I.prototype.init.prototype=I.prototype;
I.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=m.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(m.fx.step[a.prop])m.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};m.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2}};m.fx=I.prototype.init;m.fx.step={};var W,Ga,Lb=/^(?:toggle|show|hide)$/,cb=new RegExp("^(?:([+-])=|)("+Fa+")([a-z%]*)$","i"),Mb=/queueHooks$/,wa=[function(a,b,c){var d,e,g,h,f,n=this,k={},r=a.style,l=a.nodeType&&na(a),p=x.get(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,f=h.empty.fire,h.empty.fire=function(){h.unqueued||f()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--;m.queue(a,"fx").length||
h.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[r.overflow,r.overflowX,r.overflowY],e=m.css(a,"display"),"none"===e&&(e=z(a.nodeName)),"inline"===e&&"none"===m.css(a,"float")&&(r.display="inline-block"));c.overflow&&(r.overflow="hidden",n.always(function(){r.overflow=c.overflow[0];r.overflowX=c.overflow[1];r.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Lb.exec(e)){delete b[d];g=g||"toggle"===e;if(e===(l?"hide":"show"))if("show"===e&&p&&void 0!==p[d])l=!0;else continue;
k[d]=p&&p[d]||m.style(a,d)}if(!m.isEmptyObject(k))for(d in p?"hidden"in p&&(l=p.hidden):p=x.access(a,"fxshow",{}),g&&(p.hidden=!l),l?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;x.remove(a,"fxshow");for(b in k)m.style(a,b,k[b])}),k)b=ga(l?p[d]:0,d,n),d in p||(p[d]=b.start,l&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],oa={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cb.exec(b),g=e&&e[3]||(m.cssNumber[a]?"":"px"),h=(m.cssNumber[a]||"px"!==g&&+d)&&cb.exec(m.css(c.elem,
a)),f=1,n=20;if(h&&h[3]!==g){g=g||h[3];e=e||[];h=+d||1;do f=f||".5",h/=f,m.style(c.elem,a,h+g);while(f!==(f=c.cur()/d)&&1!==f&&--n)}e&&(h=c.start=+h||+d||0,c.unit=g,c.end=e[1]?h+(e[1]+1)*e[2]:+e[2]);return c}]};m.Animation=m.extend(Aa,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],oa[c]=oa[c]||[],oa[c].unshift(b)},prefilter:function(a,b){b?wa.unshift(a):wa.push(a)}});m.speed=function(a,b,c){var d=a&&"object"===typeof a?m.extend({},a):{complete:c||
!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};d.duration=m.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){m.isFunction(d.old)&&d.old.call(this);d.queue&&m.dequeue(this,d.queue)};return d};m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(na).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,
b,c,d){var e=m.isEmptyObject(a),g=m.speed(b,c,d);b=function(){var b=Aa(this,m.extend({},a),g);(e||x.get(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",g=m.timers,h=x.get(this);if(e)h[e]&&h[e].stop&&d(h[e]);else for(e in h)h[e]&&h[e].stop&&Mb.test(e)&&
d(h[e]);for(e=g.length;e--;)g[e].elem!==this||null!=a&&g[e].queue!==a||(g[e].anim.stop(c),b=!1,g.splice(e,1));!b&&c||m.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=x.get(this),d=c[a+"queue"];b=c[a+"queueHooks"];var e=m.timers,g=d?d.length:0;c.finish=!0;m.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});
m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(ma(b,!0),a,d,e)}});m.each({slideDown:ma("show"),slideUp:ma("hide"),slideToggle:ma("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});m.timers=[];m.fx.tick=function(){var a,b=0,c=m.timers;for(W=m.now();b<c.length;b++)a=c[b],a()||c[b]!==
a||c.splice(b--,1);c.length||m.fx.stop();W=void 0};m.fx.timer=function(a){m.timers.push(a);a()?m.fx.start():m.timers.pop()};m.fx.interval=13;m.fx.start=function(){Ga||(Ga=setInterval(m.fx.tick,m.fx.interval))};m.fx.stop=function(){clearInterval(Ga);Ga=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(a,b){a=m.fx?m.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};(function(){var a=E.createElement("input"),b=E.createElement("select"),
c=b.appendChild(E.createElement("option"));a.type="checkbox";B.checkOn=""!==a.value;B.optSelected=c.selected;b.disabled=!0;B.optDisabled=!c.disabled;a=E.createElement("input");a.value="t";a.type="radio";B.radioValue="t"===a.value})();var db,pa=m.expr.attrHandle;m.fn.extend({attr:function(a,b){return ea(this,m.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}});m.extend({attr:function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if("undefined"===
typeof a.getAttribute)return m.prop(a,b,c);1===g&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?db:void 0));if(void 0!==c)if(null===c)m.removeAttr(a,b);else{if(d&&"set"in d&&void 0!==(e=d.set(a,c,b)))return e;a.setAttribute(b,c+"");return c}else{if(d&&"get"in d&&null!==(e=d.get(a,b)))return e;e=m.find.attr(a,b);return null==e?void 0:e}}},removeAttr:function(a,b){var c,d,e=0,g=b&&b.match(M);if(g&&1===a.nodeType)for(;c=g[e++];)d=m.propFix[c]||c,m.expr.match.bool.test(c)&&
(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!B.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});db={set:function(a,b,c){!1===b?m.removeAttr(a,c):a.setAttribute(c,c);return c}};m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pa[b]||m.find.attr;pa[b]=function(a,b,d){var e,g;d||(g=pa[b],pa[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pa[b]=g);return e}});var Nb=/^(?:input|select|textarea|button)$/i;
m.fn.extend({prop:function(a,b){return ea(this,m.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[m.propFix[a]||a]})}});m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,g;g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if(g=1!==g||!m.isXMLDoc(a))b=m.propFix[b]||b,e=m.propHooks[b];return void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||
Nb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});B.optSelected||(m.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});m.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){m.propFix[this.toLowerCase()]=this});var Ma=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,g;b="string"===typeof a&&a;var h=0,f=this.length;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(M)||[];h<f;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ma," "):" ")){for(g=0;e=b[g++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");d=m.trim(d);c.className!==d&&(c.className=d)}return this},removeClass:function(a){var b,c,d,e,g;b=0===arguments.length||"string"===typeof a&&a;var h=0,f=this.length;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(M)||[];h<
f;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ma," "):"")){for(g=0;e=b[g++];)for(;0<=d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");d=a?m.trim(d):"";c.className!==d&&(c.className=d)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):m.isFunction(a)?this.each(function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=m(this),
g=a.match(M)||[];b=g[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else if("undefined"===c||"boolean"===c)this.className&&x.set(this,"__className__",this.className),this.className=this.className||!1===a?"":x.get(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ma," ").indexOf(a))return!0;return!1}});var Ob=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length)return d=
m.isFunction(a),this.each(function(c){1===this.nodeType&&(c=d?a.call(this,c,m(this).val()):a,null==c?c="":"number"===typeof c?c+="":m.isArray(c)&&(c=m.map(c,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(e){if((b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value")))return c;c=e.value;return"string"===typeof c?c.replace(Ob,""):null==
c?"":c}}});m.extend({valHooks:{select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,e=(a="select-one"===a.type||0>d)?null:[],g=a?d+1:c.length,h=0>d?g:a?d:0;h<g;h++)if(b=c[h],!(!b.selected&&h!==d||(B.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&m.nodeName(b.parentNode,"optgroup"))){b=m(b).val();if(a)return b;e.push(b)}return e},set:function(a,b){for(var c,d,e=a.options,g=m.makeArray(b),h=e.length;h--;)if(d=e[h],d.selected=0<=m.inArray(m(d).val(),g))c=
!0;c||(a.selectedIndex=-1);return g}}}});m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){if(m.isArray(b))return a.checked=0<=m.inArray(m(a).val(),b)}};B.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,
b){m.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Na=m.now(),Oa=/\?/;m.parseJSON=function(a){return JSON.parse(a+"")};m.parseXML=function(a){var b,
c;if(!a||"string"!==typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}b&&!b.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+a);return b};var Y,N,Pb=/#.*$/,eb=/([?&])_=[^&]*/,Qb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Rb=/^(?:GET|HEAD)$/,Sb=/^\/\//,fb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,gb={},Ka={},hb="*/".concat("*");try{N=location.href}catch($b){N=E.createElement("a"),N.href="",N=N.href}Y=fb.exec(N.toLowerCase())||[];m.extend({active:0,
lastModified:{},etag:{},ajaxSettings:{url:N,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Y[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?C(C(a,m.ajaxSettings),b):C(m.ajaxSettings,a)},ajaxPrefilter:qa(gb),ajaxTransport:qa(Ka),ajax:function(a,b){function c(a,b,h,n){var r,t,v,F;F=b;if(2!==A){A=2;f&&clearTimeout(f);d=void 0;g=n||"";y.readyState=0<a?4:0;n=200<=a&&300>a||304===a;if(h){v=l;for(var u=y,H,z,x,J,C=v.contents,I=v.dataTypes;"*"===I[0];)I.shift(),void 0===H&&(H=v.mimeType||u.getResponseHeader("Content-Type"));
if(H)for(z in C)if(C[z]&&C[z].test(H)){I.unshift(z);break}if(I[0]in h)x=I[0];else{for(z in h){if(!I[0]||v.converters[z+" "+I[0]]){x=z;break}J||(J=z)}x=x||J}x?(x!==I[0]&&I.unshift(x),v=h[x]):v=void 0}a:{h=l;H=v;z=y;x=n;var E,B,G,u={},C=h.dataTypes.slice();if(C[1])for(B in h.converters)u[B.toLowerCase()]=h.converters[B];for(J=C.shift();J;)if(h.responseFields[J]&&(z[h.responseFields[J]]=H),!G&&x&&h.dataFilter&&(H=h.dataFilter(H,h.dataType)),G=J,J=C.shift())if("*"===J)J=G;else if("*"!==G&&G!==J){B=u[G+
" "+J]||u["* "+J];if(!B)for(E in u)if(v=E.split(" "),v[1]===J&&(B=u[G+" "+v[0]]||u["* "+v[0]])){!0===B?B=u[E]:!0!==u[E]&&(J=v[0],C.unshift(v[1]));break}if(!0!==B)if(B&&h["throws"])H=B(H);else try{H=B(H)}catch(P){v={state:"parsererror",error:B?P:"No conversion from "+G+" to "+J};break a}}v={state:"success",data:H}}if(n)l.ifModified&&((F=y.getResponseHeader("Last-Modified"))&&(m.lastModified[e]=F),(F=y.getResponseHeader("etag"))&&(m.etag[e]=F)),204===a||"HEAD"===l.type?F="nocontent":304===a?F="notmodified":
(F=v.state,r=v.data,t=v.error,n=!t);else if(t=F,a||!F)F="error",0>a&&(a=0);y.status=a;y.statusText=(b||F)+"";n?q.resolveWith(p,[r,F,y]):q.rejectWith(p,[y,F,t]);y.statusCode(D);D=void 0;k&&s.trigger(n?"ajaxSuccess":"ajaxError",[y,l,n?r:t]);w.fireWith(p,[y,F]);k&&(s.trigger("ajaxComplete",[y,l]),--m.active||m.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var d,e,g,h,f,n,k,r,l=m.ajaxSetup({},b),p=l.context||l,s=l.context&&(p.nodeType||p.jquery)?m(p):m.event,q=m.Deferred(),w=
m.Callbacks("once memory"),D=l.statusCode||{},v={},u={},A=0,z="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===A){if(!h)for(h={};b=Qb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===A?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();A||(a=u[c]=u[c]||a,v[a]=b);return this},overrideMimeType:function(a){A||(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>A)for(b in a)D[b]=[D[b],
a[b]];else y.always(a[y.status]);return this},abort:function(a){a=a||z;d&&d.abort(a);c(0,a);return this}};q.promise(y).complete=w.add;y.success=y.done;y.error=y.fail;l.url=((a||l.url||N)+"").replace(Pb,"").replace(Sb,Y[1]+"//");l.type=b.method||b.type||l.method||l.type;l.dataTypes=m.trim(l.dataType||"*").toLowerCase().match(M)||[""];null==l.crossDomain&&(n=fb.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Y[1]&&n[2]===Y[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Y[3]||("http:"===Y[1]?"80":"443"))));
l.data&&l.processData&&"string"!==typeof l.data&&(l.data=m.param(l.data,l.traditional));ra(gb,l,b,y);if(2===A)return y;(k=l.global)&&0===m.active++&&m.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!Rb.test(l.type);e=l.url;l.hasContent||(l.data&&(e=l.url+=(Oa.test(e)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=eb.test(e)?e.replace(eb,"$1_="+Na++):e+(Oa.test(e)?"&":"?")+"_="+Na++));l.ifModified&&(m.lastModified[e]&&y.setRequestHeader("If-Modified-Since",m.lastModified[e]),
m.etag[e]&&y.setRequestHeader("If-None-Match",m.etag[e]));(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&y.setRequestHeader("Content-Type",l.contentType);y.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+hb+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)y.setRequestHeader(r,l.headers[r]);if(l.beforeSend&&(!1===l.beforeSend.call(p,y,l)||2===A))return y.abort();z="abort";for(r in{success:1,error:1,complete:1})y[r](l[r]);
if(d=ra(Ka,l,b,y)){y.readyState=1;k&&s.trigger("ajaxSend",[y,l]);l.async&&0<l.timeout&&(f=setTimeout(function(){y.abort("timeout")},l.timeout));try{A=1,d.send(v,c)}catch(x){if(2>A)c(-1,x);else throw x;}}else c(-1,"No Transport");return y},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}});m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){m.isFunction(c)&&(e=e||d,d=c,c=void 0);return m.ajax({url:a,type:b,dataType:e,data:c,success:d})}});
m.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){m.fn[b]=function(a){return this.on(b,a)}});m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};m.fn.extend({wrapAll:function(a){var b;if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});this[0]&&(b=m(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=
a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return m.isFunction(a)?this.each(function(b){m(this).wrapInner(a.call(this,b))}):this.each(function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}});m.expr.filters.hidden=
function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Tb=/%20/g,sb=/\[\]$/,ib=/\r?\n/g,Ub=/^(?:submit|button|image|reset|file)$/i,Vb=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional);if(m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,
function(){e(this.name,this.value)});else for(c in a)aa(c,a[c],b,e);return d.join("&").replace(Tb,"+")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Vb.test(this.nodeName)&&!Ub.test(a)&&(this.checked||!Wa.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?
m.map(c,function(a){return{name:b.name,value:a.replace(ib,"\r\n")}}):{name:b.name,value:c.replace(ib,"\r\n")}}).get()}});m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Wb=0,Ha={},Xb={0:200,1223:204},fa=m.ajaxSettings.xhr();if(c.ActiveXObject)m(c).on("unload",function(){for(var a in Ha)Ha[a]()});B.cors=!!fa&&"withCredentials"in fa;B.ajax=fa=!!fa;m.ajaxTransport(function(a){var b;if(B.cors||fa&&!a.crossDomain)return{send:function(c,d){var e,g=a.xhr(),h=++Wb;g.open(a.type,
a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)g[e]=a.xhrFields[e];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)g.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ha[h],b=g.onload=g.onerror=null,"abort"===a?g.abort():"error"===a?d(g.status,g.statusText):d(Xb[g.status]||g.status,g.statusText,"string"===typeof g.responseText?{text:g.responseText}:void 0,
g.getAllResponseHeaders()))}};g.onload=b();g.onerror=b("error");b=Ha[h]=b("abort");g.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}});m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){m.globalEval(a);return a}}});m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});m.ajaxTransport("script",
function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=m("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&e("error"===a.type?404:200,a.type)});E.head.appendChild(b[0])},abort:function(){c&&c()}}}});var jb=[],Pa=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jb.pop()||m.expando+"_"+Na++;this[a]=!0;return a}});m.ajaxPrefilter("json jsonp",function(a,b,d){var e,g,h,f=!1!==a.jsonp&&(Pa.test(a.url)?
"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pa.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=m.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f?a[f]=a[f].replace(Pa,"$1"+e):!1!==a.jsonp&&(a.url+=(Oa.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){h||m.error(e+" was not called");return h[0]},a.dataTypes[0]="json",g=c[e],c[e]=function(){h=arguments},d.always(function(){c[e]=
g;a[e]&&(a.jsonpCallback=b.jsonpCallback,jb.push(e));h&&m.isFunction(g)&&g(h[0]);h=g=void 0}),"script"});m.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||E;var d=Va.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];d=m.buildFragment([a],b,c);c&&c.length&&m(c).remove();return m.merge([],d.childNodes)};var kb=m.fn.load;m.fn.load=function(a,b,c){if("string"!==typeof a&&kb)return kb.apply(this,arguments);var d,e,g,h=this,f=a.indexOf(" ");0<=f&&
(d=a.slice(f),a=a.slice(0,f));m.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(e="POST");0<h.length&&m.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){g=arguments;h.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){h.each(c,g||[a.responseText,b,a])});return this};m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var lb=c.document.documentElement;m.offset={setOffset:function(a,b,c){var d,e,g,h=m.css(a,
"position"),f=m(a),n={};"static"===h&&(a.style.position="relative");g=f.offset();e=m.css(a,"top");d=m.css(a,"left");("absolute"===h||"fixed"===h)&&-1<(e+d).indexOf("auto")?(d=f.position(),e=d.top,d=d.left):(e=parseFloat(e)||0,d=parseFloat(d)||0);m.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(n.top=b.top-g.top+e);null!=b.left&&(n.left=b.left-g.left+d);"using"in b?b.using.call(a,n):f.css(n)}};m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,
a,b)});var b,c;c=this[0];var d={top:0,left:0},e=c&&c.ownerDocument;if(e){b=e.documentElement;if(!m.contains(b,c))return d;"undefined"!==typeof c.getBoundingClientRect&&(d=c.getBoundingClientRect());c=ba(e);return{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};"fixed"===m.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(d=a.offset()),d.top+=
m.css(a[0],"borderTopWidth",!0),d.left+=m.css(a[0],"borderLeftWidth",!0));return{top:b.top-d.top-m.css(c,"marginTop",!0),left:b.left-d.left-m.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||lb;a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position");)a=a.offsetParent;return a||lb})}});m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d="pageYOffset"===b;m.fn[a]=function(e){return ea(this,function(a,e,g){var h=ba(a);
if(void 0===g)return h?h[b]:a[e];h?h.scrollTo(d?c.pageXOffset:g,d?g:c.pageYOffset):a[e]=g},a,e,arguments.length,null)}});m.each(["top","left"],function(a,b){m.cssHooks[b]=O(B.pixelPosition,function(a,c){if(c)return c=A(a,b),Ja.test(c)?m(a).position()[b]+"px":c})});m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var g=arguments.length&&(c||"boolean"!==typeof d),h=c||(!0===d||!0===e?"margin":"border");return ea(this,
function(b,c,d){return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?m.css(b,c,h):m.style(b,c,d,h)},b,g?d:void 0,g,null)}})});m.fn.size=function(){return this.length};m.fn.andSelf=m.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return m});var Yb=c.jQuery,Zb=c.$;m.noConflict=function(a){c.$===m&&(c.$=Zb);a&&c.jQuery===m&&
(c.jQuery=Yb);return m};"undefined"===typeof f&&(c.jQuery=c.$=m);return m});(function(c,f){function k(b,d){var a,e;a=b.nodeName.toLowerCase();if("area"===a){a=b.parentNode;e=a.name;if(!b.href||!e||"map"!==a.nodeName.toLowerCase())return!1;a=c("img[usemap=#"+e+"]")[0];return!!a&&l(a)}return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"===a?b.href||d:d)&&l(b)}function l(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var d=0,e=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:function(b){return function(d,a){return"number"===typeof d?this.each(function(){var b=this;setTimeout(function(){c(b).focus();a&&a.call(b)},d)}):b.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var b;b=
c.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?c(document):
b},zIndex:function(b){if(b!==f)return this.css("zIndex",b);if(this.length){b=c(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d)return d;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?
c.expr.createPseudo(function(b){return function(d){return!!c.data(d,b)}}):function(b,d,a){return!!c.data(b,a[3])},focusable:function(b){return k(b,!isNaN(c.attr(b,"tabindex")))},tabbable:function(b){var d=c.attr(b,"tabindex"),a=isNaN(d);return(a||0<=d)&&k(b,!a)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,d){function a(a,b,d,h){c.each(e,function(){b-=parseFloat(c.css(a,"padding"+this))||0;d&&(b-=parseFloat(c.css(a,"border"+this+"Width"))||0);h&&(b-=parseFloat(c.css(a,"margin"+
this))||0)});return b}var e="Width"===d?["Left","Right"]:["Top","Bottom"],k=d.toLowerCase(),h={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+d]=function(b){return b===f?h["inner"+d].call(this):this.each(function(){c(this).css(k,a(this,b)+"px")})};c.fn["outer"+d]=function(b,e){return"number"!==typeof b?h["outer"+d].call(this,b):this.each(function(){c(this).css(k,a(this,b,!0,e)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==
b?this.prevObject:this.prevObject.filter(b))});c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(d){return arguments.length?b.call(this,c.camelCase(d)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart"in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.extend(c.ui,{plugin:{add:function(b,d,a){var e;b=c.ui[b].prototype;for(e in a)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([d,a[e]])},call:function(b,c,a){var d=b.plugins[c];if(d&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(c=0;c<d.length;c++)b.options[d[c][0]]&&d[c][1].apply(b.element,a)}},hasScroll:function(b,d){if("hidden"===c(b).css("overflow"))return!1;var a=
d&&"left"===d?"scrollLeft":"scrollTop",e=!1;if(0<b[a])return!0;b[a]=1;e=0<b[a];b[a]=0;return e}})})(jQuery);
(function(c,f){var k=0,l=Array.prototype.slice,d=c.cleanData;c.cleanData=function(e){for(var b=0,f;null!=(f=e[b]);b++)try{c(f).triggerHandler("remove")}catch(a){}d(e)};c.widget=function(d,b,f){var a,g,k,h,l={},q=d.split(".")[0];d=d.split(".")[1];a=q+"-"+d;f||(f=b,b=c.Widget);c.expr[":"][a.toLowerCase()]=function(b){return!!c.data(b,a)};c[q]=c[q]||{};g=c[q][d];k=c[q][d]=function(a,b){if(!this._createWidget)return new k(a,b);arguments.length&&this._createWidget(a,b)};c.extend(k,g,{version:f.version,
_proto:c.extend({},f),_childConstructors:[]});h=new b;h.options=c.widget.extend({},h.options);c.each(f,function(a,d){c.isFunction(d)?l[a]=function(){var c=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a=this._super,b=this._superApply,g;this._super=c;this._superApply=e;g=d.apply(this,arguments);this._super=a;this._superApply=b;return g}}():l[a]=d});k.prototype=c.widget.extend(h,{widgetEventPrefix:g?h.widgetEventPrefix||
d:d},l,{constructor:k,namespace:q,widgetName:d,widgetFullName:a});g?(c.each(g._childConstructors,function(a,b){var d=b.prototype;c.widget(d.namespace+"."+d.widgetName,k,b._proto)}),delete g._childConstructors):b._childConstructors.push(k);c.widget.bridge(d,k)};c.widget.extend=function(d){for(var b=l.call(arguments,1),n=0,a=b.length,g,k;n<a;n++)for(g in b[n])k=b[n][g],b[n].hasOwnProperty(g)&&k!==f&&(c.isPlainObject(k)?d[g]=c.isPlainObject(d[g])?c.widget.extend({},d[g],k):c.widget.extend({},k):d[g]=
k);return d};c.widget.bridge=function(d,b){var n=b.prototype.widgetFullName||d;c.fn[d]=function(a){var g="string"===typeof a,k=l.call(arguments,1),h=this;a=!g&&k.length?c.widget.extend.apply(null,[a].concat(k)):a;g?this.each(function(){var b,g=c.data(this,n);if(!g)return c.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+a+"'");if(!c.isFunction(g[a])||"_"===a.charAt(0))return c.error("no such method '"+a+"' for "+d+" widget instance");b=g[a].apply(g,k);if(b!==
g&&b!==f)return h=b&&b.jquery?h.pushStack(b.get()):b,!1}):this.each(function(){var d=c.data(this,n);d?d.option(a||{})._init():c.data(this,n,new b(a,this))});return h}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,b){b=c(b||this.defaultElement||this)[0];this.element=c(b);this.uuid=k++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},
this.options,this._getCreateOptions(),d);this.bindings=c();this.hoverable=c();this.focusable=c();b!==this&&(c.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===b&&this.destroy()}}),this.document=c(b.style?b.ownerDocument:b.document||b),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,
_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},
option:function(d,b){var n=d,a,g,k;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof d)if(n={},a=d.split("."),d=a.shift(),a.length){g=n[d]=c.widget.extend({},this.options[d]);for(k=0;k<a.length-1;k++)g[a[k]]=g[a[k]]||{},g=g[a[k]];d=a.pop();if(1===arguments.length)return g[d]===f?null:g[d];g[d]=b}else{if(1===arguments.length)return this.options[d]===f?null:this.options[d];n[d]=b}this._setOptions(n);return this},_setOptions:function(c){for(var b in c)this._setOption(b,
c[b]);return this},_setOption:function(c,b){this.options[c]=b;"disabled"===c&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,b,f){var a,g=this;"boolean"!==typeof d&&(f=b,b=d,d=!1);f?(b=a=c(b),this.bindings=this.bindings.add(b)):
(f=b,b=this.element,a=this.widget());c.each(f,function(f,h){function n(){if(d||!0!==g.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof h?g[h]:h).apply(g,arguments)}"string"!==typeof h&&(n.guid=h.guid=h.guid||n.guid||c.guid++);var k=f.match(/^(\w+)\s*(.*)$/),l=k[1]+g.eventNamespace;(k=k[2])?a.delegate(k,l,n):b.bind(l,n)})},_off:function(c,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;c.unbind(b).undelegate(b)},_delay:function(c,b){var d=
this;return setTimeout(function(){return("string"===typeof c?d[c]:c).apply(d,arguments)},b||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._on(d,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(d,b,f){var a,g=this.options[d];f=f||{};b=c.Event(b);b.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();b.target=this.element[0];if(d=b.originalEvent)for(a in d)a in b||(b[a]=d[a]);this.element.trigger(b,f);return!(c.isFunction(g)&&!1===g.apply(this.element[0],[b].concat(f))||b.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(d,b){c.Widget.prototype["_"+d]=function(f,a,g){"string"===typeof a&&(a={effect:a});var k,h=a?!0===a||"number"===
typeof a?b:a.effect||b:d;a=a||{};"number"===typeof a&&(a={duration:a});k=!c.isEmptyObject(a);a.complete=g;a.delay&&f.delay(a.delay);if(k&&c.effects&&c.effects.effect[h])f[d](a);else if(h!==d&&f[h])f[h](a.duration,a.easing,g);else f.queue(function(a){c(this)[d]();g&&g.call(f[0]);a()})}})})(jQuery);
(function(c,f){var k=!1;c(document).mouseup(function(){k=!1});c.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(c){return f._mouseDown(c)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,f.widgetName+".preventClickEvent"))return c.removeData(d.target,f.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!k){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var d=this,e=1===f.which,b="string"===typeof this.options.cancel&&f.target.nodeName?c(f.target).closest(this.options.cancel).length:!1;if(!e||b||!this._mouseCapture(f))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted))return f.preventDefault(),!0;!0===c.data(f.target,this.widgetName+".preventClickEvent")&&c.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return d._mouseMove(b)};this._mouseUpDelegate=function(b){return d._mouseUp(b)};
c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return k=!0}},_mouseMove:function(f){if(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!f.button)return this._mouseUp(f);if(this._mouseStarted)return this._mouseDrag(f),f.preventDefault();this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,f))?this._mouseDrag(f):this._mouseUp(f));
return!this._mouseStarted},_mouseUp:function(f){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,f.target===this._mouseDownEvent.target&&c.data(f.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(f));return!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c,f){function k(a,b,c){return[parseFloat(a[0])*(s.test(a[0])?b/100:1),parseFloat(a[1])*(s.test(a[1])?c/100:1)]}function l(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:c.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}c.ui=c.ui||{};var d,e=Math.max,b=Math.abs,n=
Math.round,a=/left|center|right/,g=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,s=/%$/,q=c.fn.position;c.position={scrollbarWidth:function(){if(d!==f)return d;var a,b,e=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");b=e.children()[0];c("body").append(e);a=b.offsetWidth;e.css("overflow","scroll");b=b.offsetWidth;a===b&&(b=e[0].clientWidth);e.remove();return d=a-b},getScrollInfo:function(a){var b=
a.isWindow||a.isDocument?"":a.element.css("overflow-x"),d=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&a.height<a.element[0].scrollHeight?c.position.scrollbarWidth():0,height:b?c.position.scrollbarWidth():0}},getWithinInfo:function(a){a=c(a||window);var b=c.isWindow(a[0]);return{element:a,isWindow:b,isDocument:!!a[0]&&9===a[0].nodeType,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),
scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};c.fn.position=function(d){if(!d||!d.of)return q.apply(this,arguments);d=c.extend({},d);var f,s,v,u,z,A,O=c(d.of),U=c.position.getWithinInfo(d.within),P=c.position.getScrollInfo(U),G=(d.collision||"flip").split(" "),V={};A=l(O);O[0].preventDefault&&(d.at="left top");s=A.width;v=A.height;u=A.offset;z=c.extend({},u);c.each(["my","at"],function(){var b=(d[this]||"").split(" "),c,e;1===b.length&&(b=a.test(b[0])?
b.concat(["center"]):g.test(b[0])?["center"].concat(b):["center","center"]);b[0]=a.test(b[0])?b[0]:"center";b[1]=g.test(b[1])?b[1]:"center";c=r.exec(b[0]);e=r.exec(b[1]);V[this]=[c?c[0]:0,e?e[0]:0];d[this]=[h.exec(b[0])[0],h.exec(b[1])[0]]});1===G.length&&(G[1]=G[0]);"right"===d.at[0]?z.left+=s:"center"===d.at[0]&&(z.left+=s/2);"bottom"===d.at[1]?z.top+=v:"center"===d.at[1]&&(z.top+=v/2);f=k(V.at,s,v);z.left+=f[0];z.top+=f[1];return this.each(function(){var a,g,h=c(this),l=h.outerWidth(),r=h.outerHeight(),
q=parseInt(c.css(this,"marginLeft"),10)||0,A=parseInt(c.css(this,"marginTop"),10)||0,qa=l+q+(parseInt(c.css(this,"marginRight"),10)||0)+P.width,ra=r+A+(parseInt(c.css(this,"marginBottom"),10)||0)+P.height,C=c.extend({},z),aa=k(V.my,h.outerWidth(),h.outerHeight());"right"===d.my[0]?C.left-=l:"center"===d.my[0]&&(C.left-=l/2);"bottom"===d.my[1]?C.top-=r:"center"===d.my[1]&&(C.top-=r/2);C.left+=aa[0];C.top+=aa[1];c.support.offsetFractions||(C.left=n(C.left),C.top=n(C.top));a={marginLeft:q,marginTop:A};
c.each(["left","top"],function(b,e){if(c.ui.position[G[b]])c.ui.position[G[b]][e](C,{targetWidth:s,targetHeight:v,elemWidth:l,elemHeight:r,collisionPosition:a,collisionWidth:qa,collisionHeight:ra,offset:[f[0]+aa[0],f[1]+aa[1]],my:d.my,at:d.at,within:U,elem:h})});d.using&&(g=function(a){var c=u.left-C.left,g=c+s-l,f=u.top-C.top,n=f+v-r,k={target:{element:O,left:u.left,top:u.top,width:s,height:v},element:{element:h,left:C.left,top:C.top,width:l,height:r},horizontal:0>g?"left":0<c?"right":"center",vertical:0>
n?"top":0<f?"bottom":"middle"};s<l&&b(c+g)<s&&(k.horizontal="center");v<r&&b(f+n)<v&&(k.vertical="middle");e(b(c),b(g))>e(b(f),b(n))?k.important="horizontal":k.important="vertical";d.using.call(this,a,k)});h.offset(c.extend(C,{using:g}))})};c.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,g=c.width,h=a.left-b.collisionPosition.marginLeft,c=d-h,f=h+b.collisionWidth-g-d;b.collisionWidth>g?0<c&&0>=f?(d=a.left+c+b.collisionWidth-g-d,a.left+=c-d):a.left=0<f&&
0>=c?d:c>f?d+g-b.collisionWidth:d:a.left=0<c?a.left+c:0<f?a.left-f:e(a.left-h,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,c=d-h,f=h+b.collisionHeight-g-d;b.collisionHeight>g?0<c&&0>=f?(d=a.top+c+b.collisionHeight-g-d,a.top+=c-d):a.top=0<f&&0>=c?d:c>f?d+g-b.collisionHeight:d:a.top=0<c?a.top+c:0<f?a.top-f:e(a.top-h,a.top)}},flip:{left:function(a,c){var d=c.within,e=d.offset.left+d.scrollLeft,g=d.width,h=d.isWindow?
d.scrollLeft:d.offset.left,f=a.left-c.collisionPosition.marginLeft,d=f-h,n=f+c.collisionWidth-g-h,f="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,k="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,l=-2*c.offset[0];if(0>d){if(e=a.left+f+k+l+c.collisionWidth-g-e,0>e||e<b(d))a.left+=f+k+l}else 0<n&&(e=a.left-c.collisionPosition.marginLeft+f+k+l-h,0<e||b(e)<n)&&(a.left+=f+k+l)},top:function(a,c){var d=c.within,e=d.offset.top+d.scrollTop,g=d.height,h=d.isWindow?d.scrollTop:
d.offset.top,f=a.top-c.collisionPosition.marginTop,d=f-h,n=f+c.collisionHeight-g-h,f="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,k="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,l=-2*c.offset[1];0>d?(e=a.top+f+k+l+c.collisionHeight-g-e,a.top+f+k+l>d&&(0>e||e<b(d))&&(a.top+=f+k+l)):0<n&&(e=a.top-c.collisionPosition.marginTop+f+k+l-h,a.top+f+k+l>n&&(0<e||b(e)<n)&&(a.top+=f+k+l))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,
arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,arguments)}}};(function(){var a,b,d,e,g=document.getElementsByTagName("body")[0];d=document.createElement("div");a=document.createElement(g?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&c.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in b)a.style[e]=b[e];a.appendChild(d);b=g||document.documentElement;b.insertBefore(a,b.firstChild);
d.style.cssText="position: absolute; left: 10.7432222px;";d=c(d).offset().left;c.support.offsetFractions=10<d&&11>d;a.innerHTML="";b.removeChild(a)})()})(jQuery);
(function(c,f){function k(c){return parseInt(c,10)||0}function l(c){return!isNaN(parseInt(c,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var d,e,b,f,a,g=this,k=this.options;this.element.addClass("ui-resizable");
c.extend(this,{_aspectRatio:!!k.aspectRatio,aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=k.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},e=0;e<d.length;e++)b=c.trim(d[e]),a="ui-resizable-"+b,f=c("<div class='ui-resizable-handle "+a+"'></div>"),f.css({zIndex:k.zIndex}),"se"===b&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[b]=".ui-resizable-"+b,this.element.append(f);this._renderAxis=function(a){var b,d,e;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=c(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=c(this.handles[b],this.element),e=/sw|ne|nw|se|n|s/.test(b)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(d,e),this._proportionallyResize()),c(this.handles[b])};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){g.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=f&&f[1]?f[1]:"se")});k.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){k.disabled||(c(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){k.disabled||g.resizing||(c(this).addClass("ui-resizable-autohide"),g._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var d,e=function(b){c(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(e(this.element),d=this.element,this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d),d.remove());this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);
return this},_mouseCapture:function(d){var e,b,f=!1;for(e in this.handles)if(b=c(this.handles[e])[0],b===d.target||c.contains(b,d.target))f=!0;return!this.options.disabled&&f},_mouseStart:function(d){var e,b,f;f=this.options;e=this.element.position();var a=this.element;this.resizing=!0;/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".ui-draggable")&&a.css({position:"absolute",top:e.top,left:e.left});this._renderProxy();e=k(this.helper.css("left"));
b=k(this.helper.css("top"));f.containment&&(e+=c(f.containment).scrollLeft()||0,b+=c(f.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:b};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()};this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.originalPosition={left:e,top:b};this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-
a.height()};this.originalMousePosition={left:d.pageX,top:d.pageY};this.aspectRatio="number"===typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1;f=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor","auto"===f?this.axis+"-resize":f);a.addClass("ui-resizable-resizing");this._propagate("start",d);return!0},_mouseDrag:function(d){var e,b=this.helper,f={};e=this.originalMousePosition;var a=this.position.top,g=this.position.left,k=this.size.width,h=this.size.height,
l=this._change[this.axis];if(!l)return!1;e=l.apply(this,[d,d.pageX-e.left||0,d.pageY-e.top||0]);this._updateVirtualBoundaries(d.shiftKey);if(this._aspectRatio||d.shiftKey)e=this._updateRatio(e,d);e=this._respectSize(e,d);this._updateCache(e);this._propagate("resize",d);this.position.top!==a&&(f.top=this.position.top+"px");this.position.left!==g&&(f.left=this.position.left+"px");this.size.width!==k&&(f.width=this.size.width+"px");this.size.height!==h&&(f.height=this.size.height+"px");b.css(f);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();c.isEmptyObject(f)||this._trigger("resize",d,this.ui());return!1},_mouseStop:function(d){this.resizing=!1;var e,b,f,a=this.options;this._helper&&(e=this._proportionallyResizeElements,e=(b=e.length&&/textarea/i.test(e[0].nodeName))&&c.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,b=b?0:this.sizeDiff.width,b={width:this.helper.width()-b,height:this.helper.height()-e},e=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,a.animate||this.element.css(c.extend(b,{top:f,left:e})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!a.animate&&this._proportionallyResize());c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",d);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(c){var e,
b,f,a;a=this.options;a={minWidth:l(a.minWidth)?a.minWidth:0,maxWidth:l(a.maxWidth)?a.maxWidth:Infinity,minHeight:l(a.minHeight)?a.minHeight:0,maxHeight:l(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||c)c=a.minHeight*this.aspectRatio,b=a.minWidth/this.aspectRatio,e=a.maxHeight*this.aspectRatio,f=a.maxWidth/this.aspectRatio,c>a.minWidth&&(a.minWidth=c),b>a.minHeight&&(a.minHeight=b),e<a.maxWidth&&(a.maxWidth=e),f<a.maxHeight&&(a.maxHeight=f);this._vBoundaries=a},_updateCache:function(c){this.offset=
this.helper.offset();l(c.left)&&(this.position.left=c.left);l(c.top)&&(this.position.top=c.top);l(c.height)&&(this.size.height=c.height);l(c.width)&&(this.size.width=c.width)},_updateRatio:function(c){var e=this.position,b=this.size,f=this.axis;l(c.height)?c.width=c.height*this.aspectRatio:l(c.width)&&(c.height=c.width/this.aspectRatio);"sw"===f&&(c.left=e.left+(b.width-c.width),c.top=null);"nw"===f&&(c.top=e.top+(b.height-c.height),c.left=e.left+(b.width-c.width));return c},_respectSize:function(c){var e=
this._vBoundaries,b=this.axis,f=l(c.width)&&e.maxWidth&&e.maxWidth<c.width,a=l(c.height)&&e.maxHeight&&e.maxHeight<c.height,g=l(c.width)&&e.minWidth&&e.minWidth>c.width,k=l(c.height)&&e.minHeight&&e.minHeight>c.height,h=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,q=/sw|nw|w/.test(b),b=/nw|ne|n/.test(b);g&&(c.width=e.minWidth);k&&(c.height=e.minHeight);f&&(c.width=e.maxWidth);a&&(c.height=e.maxHeight);g&&q&&(c.left=h-e.minWidth);f&&q&&(c.left=h-e.maxWidth);
k&&b&&(c.top=s-e.minHeight);a&&b&&(c.top=s-e.maxHeight);c.width||c.height||c.left||!c.top?c.width||c.height||c.top||!c.left||(c.left=null):c.top=null;return c},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var c,e,b,f,a,g=this.helper||this.element;for(c=0;c<this._proportionallyResizeElements.length;c++){a=this._proportionallyResizeElements[c];if(!this.borderDif)for(this.borderDif=[],b=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],
f=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")],e=0;e<b.length;e++)this.borderDif[e]=(parseInt(b[e],10)||0)+(parseInt(f[e],10)||0);a.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(c,e){return{width:this.originalSize.width+e}},w:function(c,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(c,e,b){return{top:this.originalPosition.top+b,height:this.originalSize.height-b}},s:function(c,e,b){return{height:this.originalSize.height+
b}},se:function(d,e,b){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,e,b]))},sw:function(d,e,b){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,e,b]))},ne:function(d,e,b){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,e,b]))},nw:function(d,e,b){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,e,b]))}},_propagate:function(d,e){c.ui.plugin.call(this,d,[e,this.ui()]);
"resize"!==d&&this._trigger(d,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(d){var e=c(this).data("ui-resizable"),b=e.options,f=e._proportionallyResizeElements,a=f.length&&/textarea/i.test(f[0].nodeName),g=a&&c.ui.hasScroll(f[0],"left")?0:e.sizeDiff.height,a=
{width:e.size.width-(a?0:e.sizeDiff.width),height:e.size.height-g},g=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,k=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(c.extend(a,k&&g?{top:k,left:g}:{}),{duration:b.animateDuration,easing:b.animateEasing,step:function(){var a={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};f&&f.length&&c(f[0]).css({width:a.width,height:a.height});e._updateCache(a);e._propagate("resize",d)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var d,e,b,f,a,g=c(this).data("ui-resizable"),l=g.element;b=g.options.containment;if(l=b instanceof c?b.get(0):/parent/.test(b)?l.parent().get(0):b)g.containerElement=c(l),/document/.test(b)||b===document?(g.containerOffset={left:0,top:0},g.containerPosition={left:0,top:0},g.parentData={element:c(document),left:0,top:0,width:c(document).width(),
height:c(document).height()||document.body.parentNode.scrollHeight}):(d=c(l),e=[],c(["Top","Right","Left","Bottom"]).each(function(a,b){e[a]=k(d.css("padding"+b))}),g.containerOffset=d.offset(),g.containerPosition=d.position(),g.containerSize={height:d.innerHeight()-e[3],width:d.innerWidth()-e[1]},b=g.containerOffset,f=g.containerSize.height,a=g.containerSize.width,a=c.ui.hasScroll(l,"left")?l.scrollWidth:a,f=c.ui.hasScroll(l)?l.scrollHeight:f,g.parentData={element:l,left:b.left,top:b.top,width:a,
height:f})},resize:function(d){var e,b,f,a,g=c(this).data("ui-resizable");e=g.options;b=g.containerOffset;f=g.position;d=g._aspectRatio||d.shiftKey;a={top:0,left:0};var k=g.containerElement;k[0]!==document&&/static/.test(k.css("position"))&&(a=b);f.left<(g._helper?b.left:0)&&(g.size.width+=g._helper?g.position.left-b.left:g.position.left-a.left,d&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=e.helper?b.left:0);f.top<(g._helper?b.top:0)&&(g.size.height+=g._helper?g.position.top-b.top:
g.position.top,d&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?b.top:0);g.offset.left=g.parentData.left+g.position.left;g.offset.top=g.parentData.top+g.position.top;e=Math.abs(g.offset.left-a.left+g.sizeDiff.width);b=Math.abs((g._helper?g.offset.top-a.top:g.offset.top-b.top)+g.sizeDiff.height);f=g.containerElement.get(0)===g.element.parent().get(0);a=/relative|absolute/.test(g.containerElement.css("position"));f&&a&&(e-=Math.abs(g.parentData.left));e+g.size.width>=g.parentData.width&&
(g.size.width=g.parentData.width-e,d&&(g.size.height=g.size.width/g.aspectRatio));b+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-b,d&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var d=c(this).data("ui-resizable"),e=d.options,b=d.containerOffset,f=d.containerPosition,a=d.containerElement,g=c(d.helper),k=g.offset(),h=g.outerWidth()-d.sizeDiff.width,g=g.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(a.css("position"))&&c(this).css({left:k.left-
f.left-b.left,width:h,height:g});d._helper&&!e.animate&&/static/.test(a.css("position"))&&c(this).css({left:k.left-f.left-b.left,width:h,height:g})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var d=c(this).data("ui-resizable").options,e=function(b){c(b).each(function(){var b=c(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!==typeof d.alsoResize||d.alsoResize.parentNode?
e(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],e(d.alsoResize)):c.each(d.alsoResize,function(b){e(b)})},resize:function(d,e){var b=c(this).data("ui-resizable"),f=b.options,a=b.originalSize,g=b.originalPosition,k={height:b.size.height-a.height||0,width:b.size.width-a.width||0,top:b.position.top-g.top||0,left:b.position.left-g.left||0},h=function(a,b){c(a).each(function(){var a=c(this),d=c(this).data("ui-resizable-alsoresize"),g={},h=b&&b.length?b:a.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];c.each(h,function(a,b){var c=(d[b]||0)+(k[b]||0);c&&0<=c&&(g[b]=c||null)});a.css(g)})};"object"!==typeof f.alsoResize||f.alsoResize.nodeType?h(f.alsoResize):c.each(f.alsoResize,function(a,b){h(a,b)})},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var d=c(this).data("ui-resizable"),e=d.options,b=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:.25,display:"block",position:"relative",
height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof e.ghost?e.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=c(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=c(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var d=c(this).data("ui-resizable"),
e=d.options,b=d.size,f=d.originalSize,a=d.originalPosition,g=d.axis,k="number"===typeof e.grid?[e.grid,e.grid]:e.grid,h=k[0]||1,l=k[1]||1,q=Math.round((b.width-f.width)/h)*h,b=Math.round((b.height-f.height)/l)*l,p=f.width+q,w=f.height+b,D=e.maxWidth&&e.maxWidth<p,v=e.maxHeight&&e.maxHeight<w,u=e.minWidth&&e.minWidth>p,z=e.minHeight&&e.minHeight>w;e.grid=k;u&&(p+=h);z&&(w+=l);D&&(p-=h);v&&(w-=l);/^(se|s|e)$/.test(g)?(d.size.width=p,d.size.height=w):/^(ne)$/.test(g)?(d.size.width=p,d.size.height=w,
d.position.top=a.top-b):/^(sw)$/.test(g)?(d.size.width=p,d.size.height=w,d.position.left=a.left-q):(0<w-l?(d.size.height=w,d.position.top=a.top-b):(d.size.height=l,d.position.top=a.top+f.height-l),0<p-h?(d.size.width=p,d.position.left=a.left-q):(d.size.width=h,d.position.left=a.left+f.width-h))}})})(jQuery);
(function(c,f){var k=0,l={},d={};l.height=l.paddingTop=l.paddingBottom=l.borderTopWidth=l.borderBottomWidth="hide";d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show";c.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var d=this.options;
this.prevShow=this.prevHide=c();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");d.collapsible||!1!==d.active&&null!=d.active||(d.active=0);this._processPanels();0>d.active&&(d.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c(),content:this.active.length?this.active.next():c()}},_createIcons:function(){var d=this.options.icons;d&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+
d.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(d.header).addClass(d.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var c;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();c=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&c.css("height","")},_setOption:function(c,b){"active"===c?this._activate(b):("event"===c&&
(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(c,b),"collapsible"!==c||b||!1!==this.options.active||this._activate(0),"icons"===c&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===c&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(d){if(!d.altKey&&!d.ctrlKey){var b=c.ui.keyCode,f=this.headers.length,a=this.headers.index(d.target),g=!1;switch(d.keyCode){case b.RIGHT:case b.DOWN:g=this.headers[(a+
1)%f];break;case b.LEFT:case b.UP:g=this.headers[(a-1+f)%f];break;case b.SPACE:case b.ENTER:this._eventHandler(d);break;case b.HOME:g=this.headers[0];break;case b.END:g=this.headers[f-1]}g&&(c(d.target).attr("tabIndex",-1),c(g).attr("tabIndex",0),g.focus(),d.preventDefault())}},_panelKeyDown:function(d){d.keyCode===c.ui.keyCode.UP&&d.ctrlKey&&c(d.currentTarget).prev().focus()},refresh:function(){var d=this.options;this._processPanels();!1===d.active&&!0===d.collapsible||!this.headers.length?(d.active=
!1,this.active=c()):!1===d.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(d.active=!1,this.active=c()):this._activate(Math.max(0,d.active-1)):d.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var d,b=this.options,f=b.heightStyle,a=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++k);this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(a){var b=c(this),d=b.attr("id"),e=b.next(),f=e.attr("id");d||(d=g+"-header-"+a,b.attr("id",d));f||(f=g+"-panel-"+
a,e.attr("id",f));b.attr("aria-controls",f);e.attr("aria-labelledby",d)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(b.event);"fill"===f?(d=a.height(),this.element.siblings(":visible").each(function(){var a=
c(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(d-=a.outerHeight(!0))}),this.headers.each(function(){d-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,d-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===f&&(d=0,this.headers.next().each(function(){d=Math.max(d,c(this).css("height","").height())}).height(d))},_activate:function(d){d=this._findActive(d)[0];d!==this.active[0]&&(d=d||this.active[0],this._eventHandler({target:d,
currentTarget:d,preventDefault:c.noop}))},_findActive:function(d){return"number"===typeof d?this.headers.eq(d):c()},_setupEvents:function(d){var b={keydown:"_keydown"};d&&c.each(d.split(" "),function(c,a){b[a]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(d){var b=this.options,f=this.active,a=c(d.currentTarget),g=
a[0]===f[0],k=g&&b.collapsible,h=k?c():a.next(),l=f.next(),h={oldHeader:f,oldPanel:l,newHeader:k?c():a,newPanel:h};d.preventDefault();g&&!b.collapsible||!1===this._trigger("beforeActivate",d,h)||(b.active=k?!1:this.headers.index(a),this.active=g?c():a,this._toggle(h),f.removeClass("ui-accordion-header-active ui-state-active"),b.icons&&f.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),g||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
b.icons&&a.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(d){var b=d.newPanel,f=this.prevShow.length?this.prevShow:d.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=b;this.prevHide=f;this.options.animate?this._animate(b,f,d):(f.hide(),b.show(),this._toggleComplete(d));f.attr({"aria-hidden":"true"});f.prev().attr("aria-selected","false");b.length&&f.length?f.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(c,b,f){var a,g,k,h=this,s=0,q=c.length&&(!b.length||c.index()<b.index()),p=this.options.animate||{},q=q&&p.down||p,w=function(){h._toggleComplete(f)};"number"===typeof q&&(k=q);"string"===typeof q&&(g=q);g=g||q.easing||p.easing;k=k||q.duration||p.duration;
if(!b.length)return c.animate(d,k,g,w);if(!c.length)return b.animate(l,k,g,w);a=c.show().outerHeight();b.animate(l,{duration:k,easing:g,step:function(a,b){b.now=Math.round(a)}});c.hide().animate(d,{duration:k,easing:g,complete:w,step:function(c,d){d.now=Math.round(c);"height"!==d.prop?s+=d.now:"content"!==h.options.heightStyle&&(d.now=Math.round(a-b.outerHeight()-s),s=0)}})},_toggleComplete:function(c){var b=c.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,c)}})})(jQuery);
(function(c,f){var k,l=function(){var d=c(this);setTimeout(function(){d.find(":ui-button").button("refresh")},1)},d=function(d){var b=d.name,f=d.form,a=c([]);b&&(b=b.replace(/'/g,"\\'"),a=f?c(f).find("[name='"+b+"']"):c("[name='"+b+"']",d.ownerDocument).filter(function(){return!this.form}));return a};c.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,l);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var e=this,b=this.options,f="checkbox"===this.type||"radio"===this.type,a=f?"":"ui-state-active";null===b.label&&(b.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===k&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||c(this).removeClass(a)}).bind("click"+this.eventNamespace,function(a){b.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
f&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1;c(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed","true");var a=e.element[0];d(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(b.disabled)return!1;c(this).addClass("ui-state-active");k=this;e.document.one("mouseup",function(){k=null})}).bind("mouseup"+this.eventNamespace,function(){if(b.disabled)return!1;c(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(b.disabled)return!1;a.keyCode!==c.ui.keyCode.SPACE&&a.keyCode!==c.ui.keyCode.ENTER||c(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",b.disabled);this._resetButton()},_determineButtonType:function(){var c,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(c=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=c.find(b),this.buttonElement.length||(c=c.length?c.siblings():this.element.siblings(),this.buttonElement=c.filter(b),this.buttonElement.length||(this.buttonElement=c.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(c=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(c,b){this._super(c,
b);"disabled"===c?(this.element.prop("disabled",!!b),b&&this.buttonElement.removeClass("ui-state-focus")):this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e);"radio"===this.type?d(this.element[0]).each(function(){c(this).is(":checked")?c(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var d=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
b=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(d.empty()).text(),f=this.options.icons,a=f.primary&&f.secondary,g=[];f.primary||f.secondary?(this.options.text&&g.push("ui-button-text-icon"+(a?"s":f.primary?"-primary":"-secondary")),f.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(g.push(a?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||d.attr("title",c.trim(b)))):g.push("ui-button-text-only");d.addClass(g.join(" "))}}});c.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(c,b){"disabled"===c&&this.buttons.button("option",c,b);this._super(c,b)},refresh:function(){var d=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(d?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(d?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);window.TOONTALK={};window.TOONTALK.widget=function(c){return{add_standard_widget_functionality:function(c){this.add_sides_functionality(c);this.runnable(c);this.stackable(c);this.animatable(c);this.has_title(c);this.has_parent(c);return c},erasable:function(c){var k;c.get_erased||(c.get_erased=function(){return k});c.set_erased||(c.set_erased=function(c,d){k=c;d&&this.rerender()});return c},add_sides_functionality:function(f){var k,l;f.get_frontside||(f.get_frontside=function(d){d&&!k&&(k=c.frontside.create(f));return k});
f.get_backside||(f.get_backside=function(c){c&&!l&&(l=f.create_backside());return l});f.set_backside||(f.set_backside=function(c){l=c});f.forget_backside||(f.forget_backside=function(){l=void 0;this.get_backside_widgets().forEach(function(c){c.widget.forget_backside()})});f.create_backside||(f.create_backside=function(){return c.backside.create(f)});return f},runnable:function(f){var k=!1;f.get_running||(f.get_running=function(){return k});f.set_running||(f.set_running=function(l,d){var e=this.get_backside_widgets(),
b;k=l;e.forEach(function(c){b=c.widget;"robot"===b.get_type_name()?(k?(b.set_stopped(!1),b.run(f,d)):b.set_stopped(!0),b.rerender()):b.set_running&&(!d&&c.is_backside&&"top-level"!==f.get_type_name()?b.set_running(l,f):b.set_running(l))});(e=this.get_backside_element())&&$(e).find(".toontalk-run-backside-button").each(function(b,a){c.backside.update_run_button($(a),f)});this.rerender()});return f},stackable:function(c){var k=!1;c.get_infinite_stack||(c.get_infinite_stack=function(){return k});c.set_infinite_stack||
(c.set_infinite_stack=function(l){var d=c.get_backside_element(),e=c.get_frontside_element();k=l;d&&$(d).find(".toontalk-infinite-stack-check-box").prop("checked",l);e&&(l?$(e).addClass("toontalk-infinite-stack"):$(e).removeClass("toontalk-infinite-stack"))});return c},animatable:function(f){var k;f.animate_to_widget||(k=function(f){var d=f.get_side_element();d||(d=c.UTILITIES.find_resource_equal_to_widget(f));return d},f.animate_to_widget=function(c,d,e,b,f){this.animate_to_element(k(c),d,e,b,f)});
f.animate_to_element||(f.animate_to_element=function(f,d,e,b,k){var a=$(f).offset(),g=$(this.get_frontside_element());f&&$(f).is(":visible")?(b||(b=($(f).width()-g.width())*Math.random()),k||(k=($(f).height()-g.height())*Math.random()),a?(a.left+=b,a.top+=k,c.debugging&&(0>a.left||0>a.top)&&console.log("Should this include negative values? "+a)):a={left:0,top:0},this.animate_to_absolute_position(a,d,e)):d()});f.animate_to_absolute_position||(f.animate_to_absolute_position=function(f,d,e){var b=this.get_frontside_element();
c.UTILITIES.animate_to_absolute_position(b,f,d,e)});return f},has_title:function(f){f.get_title||(f.get_title=function(){var f=this.get_type_name(),l=this.get_backside(),d=this.get_frontside_element();return $(d).is(".toontalk-top-level-resource")?"Drag this "+f+" to a work area.":l&&l.get_element()?c.UTILITIES.add_a_or_an(f,!0):"Click to see the back side of this "+f});return f},has_parent:function(f){var k,l;f.get_parent_of_frontside=function(){return k};f.get_parent_of_backside=function(){return l};
f.set_parent_of_frontside=function(d,e){c.debugging&&!d&&console.log("setting the parent to undefined of "+f);k={widget:d,is_backside:e}};f.set_parent_of_backside=function(c,e){l={widget:c,is_backside:e}};return f},remove:function(c){var k=this.get_backside(),l=this.get_frontside(),d=this.get_parent_of_frontside(),e=this.get_parent_of_backside();k&&(k.remove(),e&&e.widget&&e.widget.removed_from_container(this,!0,c));l&&(l.remove(),d&&d.widget&&d.widget.removed_from_container&&d.widget.removed_from_container(this,
!1,c));this.set_running(!1)},get_frontside_element:function(c){var k=this.get_frontside&&this.get_frontside(!0);if(k)return c&&this.render(),k.get_element()},get_backside_element:function(c){if(c=this.get_backside&&this.get_backside(c))return c.get_element()},get_side_element:function(c){return this.visible()?this.get_frontside_element(c):this.get_backside_element(c)},dereference:function(){return this},add_to_json:function(f,k){var l,d,e,b,n;if(f){f.view?(l=f.view,f=f.semantic):l={};d={semantic:f,
view:l,version:1};this.get_erased&&this.get_erased()&&(f.erased=!0);this.get_infinite_stack&&this.get_infinite_stack()&&(f.infinite_stack=!0);this.get_running&&this.get_running()&&(f.running=!0);if(!this.get_parent_of_frontside()||this.get_parent_of_frontside().is_backside)if(b=this.get_frontside_element&&this.get_frontside_element())$(b).is(".toontalk-plain-text-element")||(l.frontside_width=$(b).width(),l.frontside_height=$(b).height()),$(b).is(":visible")&&(e=$(b).position()),e&&(l.frontside_left=
e.left,l.frontside_top=e.top);if(b=this.get_backside()){if(e=b.get_element())l.backside_width=$(e).width(),l.backside_height=$(e).height(),l.backside_left||(e=$(e).position(),l.backside_left=e.left,l.backside_top=e.top);b.get_backside_dimensions()&&(l.backside_geometry=b.get_backside_dimensions())}!l.backside_geometry&&this.backside_geometry&&(l.backside_geometry=this.backside_geometry);l=this.get_backside_widgets();0<l.length&&(f.backside_widgets=c.UTILITIES.get_json_of_array(l,k),(l=this.get_backside_widgets_json_views())&&
l.forEach(function(a,b){var c;n=f.backside_widgets[b];0<=n.widget.shared_widget_index?(c=k.widgets_encountered.indexOf(k.shared_widgets[n.widget.shared_widget_index]),c=k.json_of_widgets_encountered[c].view):c=n.widget.view;n.is_backside?a.backside_left&&(c.backside_left=a.backside_left,c.backside_top=a.backside_top):a.frontside_left&&(c.frontside_left=a.frontside_left,c.frontside_top=a.frontside_top)}));return d}console.log("get_json not defined");return{}},get_backside_widgets:function(){return this.backside_widgets||
[]},add_backside_widget:function(f,k){var l=this.get_backside(),d={widget:f,is_backside:k};c.debugging&&f===this?console.log("Adding a widget to a list of its backside widgets!"):(this.backside_widgets?0>this.backside_widget_side_index(d)&&this.backside_widgets.push(d):this.backside_widgets=[d],k?f.set_parent_of_backside(this,!0):f.set_parent_of_frontside(this,!0),l&&l.update_run_button_disabled_attribute())},remove_backside_widget:function(c,k,l){var d=this.get_backside(),e={widget:c};k&&(e.is_backside=
!0);var b;this.backside_widgets?(b=this.backside_widget_side_index(e),0>b?l||console.log("Couldn't find a widget to remove it from backside widgets. "+e+" ("+e.widget.debug_id+")"):(this.backside_widgets.splice(b,1),this.backside_widgets_json_views&&this.backside_widgets_json_views.splice(b,1),k?c.get_parent_of_backside()===this&&c.set_parent_of_backside(void 0):c.get_parent_of_frontside()===this&&c.set_parent_of_frontside(void 0),d&&d.update_run_button_disabled_attribute())):console.log("Couldn't remove a widget from backside widgets.")},
set_backside_widget_sides:function(c,k){var l=this.get_backside();this.backside_widgets=c;0<c.length&&(this.get_backside()?this.get_backside().add_backside_widgets(c,k):this.backside_widgets_json_views=k,c.forEach(function(c){c.is_backside?c.widget.set_parent_of_backside(this,!0):c.widget.set_parent_of_frontside(this,!0)}.bind(this)));l&&l.update_run_button_disabled_attribute()},backside_widget_side_index:function(c){var k=-1;this.backside_widgets.some(function(l,d){if(l.widget===c.widget&&!!l.is_backside===
!!c.is_backside)return k=d,!0});return k},get_backside_widgets_json_views:function(){return this.backside_widgets_json_views},can_run:function(){var c=!1,k;this.get_backside_widgets().some(function(l){l.widget||(console.log("Expected widget_side not raw widget."),l={widget:l});k=l.widget;if(k.get_body&&!k.get_body().is_empty()||k.can_run())return c=!0});return c},add_to_copy:function(f,k){var l;this.get_erased&&this.get_erased()&&(f.set_erased||c.widget.erasable(f),f.set_erased(this.get_erased()));
k||(l=this.get_backside_widgets(),0<l.length&&f.set_backside_widget_sides(c.UTILITIES.copy_widget_sides(l),this.get_backside_widgets_json_views()));return f},get_type_name:function(){return""},get_description:function(){return this.get_erased&&this.get_erased()?"erased "+this.get_type_name():this.toString()},copy:function(){console.assert(!1,"copy not implemented")},add_copy_to_container:function(f){f||(f=this.copy());var k=this.get_frontside_element(),l=f.get_frontside_element(),d=$(k).position(),
e=$(k).closest(".toontalk-backside"),b=e.data("owner");$(l).css({width:$(k).width(),height:$(k).height(),left:d.left+10,top:d.top+10});e.append(l);b&&b.add_backside_widget(f);c.robot.in_training&&c.robot.in_training.copied(this,f,!1);return f},visible:function(){var c=this.get_frontside();if(!c)return!1;for(c=c.get_element().parentElement;c;){if("BODY"===c.tagName)return!0;c=c.parentElement}return!1},drag_started:function(f,k){c.robot.in_training&&c.robot.in_training.picked_up(this,f,k)},equals:function(c){console.assert(!1,
"equals not implemented")},match:function(c){console.assert(!1,"match not implemented for "+c.toString())},removed:function(c){console.log("removed not implemented")},equals_box:function(){return!1},equals_number:function(){return!1},match_box:function(){return"not matched"},match_number:function(){return"not matched"},open_backside:function(f){var k=this.get_backside(),l=!0,d=function(a,b){setTimeout(function(){$(a).addClass("toontalk-side-appearing");c.UTILITIES.add_one_shot_event_handler(a,"transitionend",
2500,function(){$(a).removeClass("toontalk-side-appearing");f&&f()});$(a).css({left:g,top:r,opacity:b});this.apply_backside_geometry()}.bind(this),1)}.bind(this),e,b,n,a,g,r,h,s;if(k){e=k.get_element();if($(e).is(":visible")){c.UTILITIES.highlight_element(e,1E3);return}if((b=this.get_parent_of_backside())&&b.backside){b.open_backside();return}}b=this.get_frontside_element();n=$(b).parent();k=$(b);if(!k.is(".toontalk-top-level-resource")){for(;0<n.length&&!n.is(".toontalk-backside");)k=n,n=n.parent(),
l=!1;a=k.get(0);k=this.get_backside(!0);e=k.get_element();$(e).data("owner",this);h=$(b).offset();(s=n.offset())||(s={left:0,top:0});$(e).css({left:h.left-s.left,top:h.top-s.top,opacity:.01});n.append(e);(n=n.data("owner"))&&n.add_backside_widget(this,!0);l?(g=a.offsetLeft+a.offsetWidth,r=a.offsetTop):(g=h.left-s.left,r=h.top-s.top+b.offsetHeight);d(e,"inherit");k.render()}},apply_backside_geometry:function(){var f=this.get_backside(),k=f.get_element();this.backside_geometry&&k&&(c.backside.scale_backside($(k),
this.backside_geometry.x_scale,this.backside_geometry.y_scale,this.backside_geometry.original_width,this.backside_geometry.original_height),f.set_dimensions(this.backside_geometry))},top_level_widget:function(){var f=Object.create(c.widget);f.get_json=function(c){c=this.get_backside();c=$(c.get_element());return{semantic:{type:"top_level"},view:{background_color:document.defaultView.getComputedStyle(c.get(0),null).getPropertyValue("background-color")}}};f.get_type_name=function(){return"top-level"};
f.toString=function(){return"top level widget"};f.match=function(){return"matched"};f.update_display=function(){this.backside_widgets&&this.backside_widgets.forEach(function(c){c.widget.update_display()})};f.copy=function(){return this};f.visible=function(){return!1};f.get_parent_of_frontside=function(){};f.get_parent_of_backside=function(){};f=f.add_sides_functionality(f);f=f.runnable(f);return f=f.has_parent(f)},top_level_create_from_json:function(f){var k=c.widget.top_level_widget(),l=$(k.get_backside(!0).get_element());
l.addClass("toontalk-top-level-backside");l.click(function(c){c.target===l.get(0)&&(k.set_running(!k.get_running()),c.stopPropagation())});return k},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&c.DISPLAY_UPDATES.pending_update(this)},hide:function(){$(this.get_frontside_element()).hide()}}}(window.TOONTALK);window.TOONTALK.backside=function(c){return{create:function(f){var k=Object.create(this),l=document.createElement("div"),d=$(l),e=1,b=1,n,a,g,r,h;d.addClass("toontalk-backside toontalk-side toontalk-backside-of-"+f.get_type_name());k.get_element=function(){return l};k.get_widget=function(){return f};f.get_backside||(f.get_backside=function(){return k});f.removed_from_container||(f.removed_from_container=function(a,b,d,e){b||$(a.get_frontside_element()).removeClass("toontalk-frontside-on-backside");
c.robot_in_training||this.remove_backside_widget(a,b,e)});k.widget_dropped_on_me=function(a,b,e){var g=this.get_widget(),h,f;b?(h=a.get_backside(!0),f=h.get_element(),h.rerender()):(h=a.get_frontside(!0),f=h.get_element(),a.rerender());h=$(f);d.append(h);e||a.animate_to_element(l);c.UTILITIES.set_position_is_absolute(f,!0,e);c.robot.in_training&&c.robot.in_training.dropped_on(a,this.get_widget());b&&"top-level"!=this.get_widget().get_type_name()&&(f=a.get_backside(),a.forget_backside(),a.remove(e),
a.set_backside(f));g.add_backside_widget(a,b);a.dropped_on_other&&a.dropped_on_other(this.get_widget(),!0,e);c.UTILITIES.backup_all();return!0};k.add_backside_widgets=function(a,b){0!==a.length&&setTimeout(function(){var c,e;a.forEach(function(a,g){c=a.is_backside?a.widget.get_backside_element(!0):a.widget.get_frontside_element(!0);$(c).data("owner",a.widget);b&&(e=b[g])&&(a.is_backside?($(c).css({left:e.backside_left,top:e.backside_top,width:e.backside_width,height:e.backside_height}),a.widget.apply_backside_geometry()):
$(c).css({left:e.frontside_left,top:e.frontside_top,width:e.frontside_width,height:e.frontside_height}));d.append(c)})},1)};k.get_backside_dimensions=function(){if(e)return{x_scale:e,y_scale:b,original_width:n,original_height:a}};k.set_dimensions=function(c){e=c.x_scale;b=c.y_scale;n=c.original_width;a=c.original_height};k.scale_to_fit=function(d,g){var h;!n&&this.get_widget().backside_geometry&&(n=this.get_widget().backside_geometry.original_width,a=this.get_widget().backside_geometry.original_height);
h=c.UTILITIES.scale_to_fit(d,g,n,a);e=h.x_scale;b=h.y_scale};c.backside.associate_widget_with_backside_element(f,k,l);c.UTILITIES.drag_and_drop(d);d.resizable({start:function(){g=d.width();r=d.height();n||(n=g);a||(a=r)},resize:function(h,f){var k=f.size.width,l=f.size.height;d.is(".toontalk-top-level-backside")||(e*=k/g,b*=l/r,g=k,r=l,c.backside.scale_backside(d,e,b,n,a))},handles:"e,s,se"});d.on("DOMNodeInserted",function(a){var b=$(a.originalEvent.srcElement);b.is(".toontalk-frontside")&&b.parent().is(".toontalk-backside")&&
(b.addClass("toontalk-frontside-on-backside"),b.is(".ui-resizable")&&b.resizable("enable"),(b=b.data("owner"))&&b.render());a.stopPropagation()});d.on("DOMNodeRemoved",function(a){var b=$(a.originalEvent.srcElement);b.is(".toontalk-frontside")&&b.removeClass("toontalk-frontside-on-backside");a.stopPropagation()});l.addEventListener("mouseenter",function(a){a=f.get_frontside();var b=f.get_parent_of_backside();!a||b&&"top-level"!==b.widget.get_type_name()||$(a.get_element()).addClass("toontalk-highlight")});
l.addEventListener("mouseleave",function(a){(a=f.get_frontside())&&$(a.get_element()).removeClass("toontalk-highlight")});k.display_updated=function(){var b=$(this.get_element());n||(n=b.width());a||(a=b.height())};f.get_backside_widgets&&(h=f.get_backside_widgets(),k.add_backside_widgets(h,f.get_backside_widgets_json_views()));c.debugging&&(l.id=f.debug_id);return k},associate_widget_with_backside_element:function(c,k,l){$(l).data("owner",c);return c},remove:function(){$(this.get_element()).remove()},
visible:function(){var c=this.get_element();return c&&$(c).is(":visible")},update_run_button_disabled_attribute:function(){var c=this.get_element();if(c&&!$(c).is(".toontalk-top-level-backside"))return c=$(c).find(".toontalk-run-backside-button"),c.button("option","disabled",!this.get_widget().can_run()),this},create_infinite_stack_check_box:function(f,k){var l=c.UTILITIES.create_check_box(k.get_infinite_stack(),"toontalk-infinite-stack-check-box","Copy when dragged.","Check this if you want the "+
k.get_type_name()+" to be copied instead of moved.");$(l.button).click(function(d){var e=l.button.checked;k.set_infinite_stack(e);c.robot.in_training&&c.robot.in_training.edited(k,{setter_name:"set_infinite_stack",argument_1:e,toString:e?"change dragging to make a copy of ":"change dragging back to moving for ",button_selector:".toontalk-infinite-stack-check-box"});d.stopPropagation()});return l},create_standard_buttons:function(f,k){var l;l=k.get_frontside_element();l=this.get_erased&&k.get_erased()||
$(l).is(".toontalk-conditions-contents")||0!==$(l).parents(".toontalk-conditions-contents").length?c.backside.create_erase_button(f,k):c.backside.create_run_button(f,k);var d=c.backside.create_copy_button(f,k),e=c.backside.create_hide_button(f,k),b=c.backside.create_remove_button(f,k),n=[],a;for(a=2;a<arguments.length;a++)n[a-2]=arguments[a];return c.UTILITIES.create_button_set(l,d,b,e,n)},create_hide_button:function(c,k){var l=c.get_element();$(l);l=$("<button>Hide</button>").button();l.addClass("toontalk-hide-backside-button");
l.click(function(d){c.hide_backside(d);d.stopPropagation()});l.attr("title","Click to hide this.");return l.get(0)},hide_backside:function(f){var k=this.get_widget(),l=k.get_frontside_element(),d=$(k.get_backside_element()),e=d.position(),b=d.parent().closest(".toontalk-backside");$(l).removeClass("toontalk-highlight");k.forget_backside&&k.forget_backside();k.get_parent_of_backside().widget.removed_from_container(k,!0,f,!0);(function(){var b=k.get_backside_widgets(),a=k.get_backside_widgets_json_views(),
c;b.forEach(function(b,d){var e=b.widget;(c=b.is_backside?e.get_backside_element():e.get_frontside_element())&&a&&a[d]&&(e=$(c).position(),b.is_backside?(a[d].backside_left=e.left,a[d].backside_top=e.top):(a[d].frontside_left=e.left,a[d].frontside_top=e.top))})})();k.backside_geometry=this.get_backside_dimensions();(function(d){var a=$(l).offset(),e=b.position(),f=function(){d.remove()};d.is(":visible")&&(d.addClass("toontalk-side-appearing"),c.UTILITIES.add_one_shot_event_handler(d.get(0),"transitionend",
2500,f),e||(e={left:0,top:0}),d.css({left:a.left-e.left,top:a.top-e.top,opacity:.1}))})(d);$(l).is(":visible")||($(l).css({left:e.left,top:e.top}),b.append(l))},create_erase_button:function(f,k){var l=f.get_element();$(l);var d=$("<button>Erase</button>").button();d.addClass("toontalk-erase-backside-button");c.widget.erasable(k);var e=function(){k.get_erased()?(d.button("option","label","Un-erase"),d.attr("title","Click to restore this to how it was before it was erased.")):(d.button("option","label",
"Erase"),d.attr("title","Click to erase this so the robot won't be so fussy."))};e();d.click(function(b){k.get_frontside_element();var d=!k.get_erased();k.set_erased(d,!0);e();c.robot.in_training&&c.robot.in_training.set_erased(k,d);c.UTILITIES.backup_all();b.stopPropagation()});d.attr("title","Click to hide this.");return d.get(0)},create_copy_button:function(f,k){var l=f.get_element();$(l);l=$("<button>Copy</button>").button();l.addClass("toontalk-copy-backside-button");l.click(function(d){k.add_copy_to_container();
c.UTILITIES.backup_all();d.stopPropagation()});l.attr("title","Click to make a copy of this "+k.get_type_name());return l.get(0)},create_run_button:function(f,k){var l=f.get_element();$(l);var d=$("<button>Run</button>").button();d.addClass("toontalk-run-backside-button");d.click(function(e){var b=!k.get_running();c.backside.update_run_button(d,k);k.set_running(b);e.stopPropagation()});d.attr("title","Click to run the robots on this "+k.get_type_name());return d.get(0)},update_run_button:function(c,
k){var l=k.get_running();c.is(":visible")&&c.is(":enabled")&&(l?(c.button("option","label","Stop"),c.attr("title","Click to stop running the robots on this "+k.get_type_name())):(c.button("option","label","Run"),c.attr("title","Click to run the robots on this "+k.get_type_name())))},create_remove_button:function(f,k){var l=$("<button>Remove</button>").button();l.addClass("toontalk-remove-backside-button");l.click(function(d){k.remove&&(c.robot.in_training&&c.robot.in_training.removed(k),k.remove(d),
c.UTILITIES.backup_all());d.stopPropagation()});l.attr("title","Click to remove this "+k.get_type_name());return l.get(0)},get_widgets:function(){var c=[];$(this.get_element()).children().each(function(k,l){var d=$(l).data("owner");d&&0>c.indexOf(d)&&c.push(d)});return c},scale_backside:function(c,k,l,d,e){var b=Math.min(1,k,l);c.css({transform:"scale("+b+", "+b+")","transform-origin":"top left",width:d*k/b,height:e*l/b})},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&
c.DISPLAY_UPDATES.pending_update(this)}}}(window.TOONTALK);window.TOONTALK.frontside=function(c){return{create:function(f){var k=Object.create(this),l=document.createElement("div"),d=$(l);$(l).addClass("toontalk-frontside toontalk-side");d.data("owner",f);c.UTILITIES.drag_and_drop(d);k.get_element=function(){return l};k.get_widget=function(){return f};l.addEventListener("click",function(c){$(c.target).is(".ui-resizable-handle")||(d.is(".toontalk-top-level-resource")?f.set_running(!f.get_running()):f.open_backside(),c.stopPropagation())});l.addEventListener("mouseenter",
function(c){(c=f.get_backside())&&$(c.get_element()).addClass("toontalk-highlight")});l.addEventListener("mouseleave",function(c){(c=f.get_backside())&&$(c.get_element()).removeClass("toontalk-highlight")});c.debugging&&(l.id=f.debug_id);return k},update_display:function(){return this.get_widget().update_display()},visible:function(){return $(this.get_element()).is(":visible")},remove:function(){$(this.get_element()).remove()}}}(window.TOONTALK);window.TOONTALK.number=function(c){var f=Object.create(c.widget),k=function(b,c,a){var d="",e=100;c=(c-1)/c;if(a)for(a=0;1<=e&&a<b.length;)d=d+"<span class='toontalk-digit' style='font-size:"+e+"%'>"+b[a]+"</span>",a+=1,"-"!==b[a]&&(e*=c);else for(a=b.length-1;1<=e&&0<a;)d="<span class='toontalk-digit' style='font-size:"+e+"%'>"+b[a]+"</span>"+d,a-=1,"-"!==b[a]&&(e*=c);return d},l=function(b,c){if(b.length<=Math.round(c))return'<span class="toontalk-digit" style="font-size:100%">'+b+"</span>";if(1>
c)return"";if(5>c)return"<span style='font-size: 80%'>"+l(b,1.25*c)+"</span>";var a=c/2;return k(b,a,!0)+k(b,a,!1)},d=function(b,c){c||(c=1);if(!("number"!==typeof b&&"string"!==typeof b||"number"!==typeof c&&"string"!==typeof c))return bigrat.fromValues(b,c);var a=bigrat.create();1===c?bigrat.set(a,bigrat.toBigInteger(b.get_value()),BigInteger.ONE):b.get_value&&c.get_value?bigrat.set(a,bigrat.toBigInteger(b.get_value()),bigrat.toBigInteger(c.get_value())):bigrat.set(a,b,c);return a},e=function(b){switch(b){case "+":return"";
case "-":return"&minus;";case "*":return"&times;";case "/":return"&divide;";case "^":return"^";default:return console.log("Number has an unsupported operator: "+b),""}};f.create=function(b,e,a,g){var k=Object.create(f),h=d(b,e);g||(g="improper_fraction");a||(a="+");k.set_value=function(a){h=a;this.rerender();c.debugging&&(this.debug_string=this.toString());return this};k.get_value=function(){return h};k.set_format=function(a,b){g=a;b&&this.rerender();return this};k.get_operator=function(){return a};
k.set_operator=function(b,c){a=b;c&&this.rerender();return this};k.get_format=function(){return g};k=f.add_standard_widget_functionality(k);c.debugging&&(k.debug_string=k.toString(),k.debug_id=c.UTILITIES.generate_unique_id());return k};f.create_backside=function(){return c.number_backside.create(this).update_run_button_disabled_attribute()};f.set_from_values=function(b,c,a){return this.set_value(d(b,c),a)};f.ONE=function(){return this.create(1)};f.ZERO=function(){return this.create(0)};f.copy=function(b){return this.add_to_copy(f.create(this.get_value()[0],
this.get_value()[1],this.get_operator(),this.get_format()),b)};f.is_number=function(){return!0};f.equals=function(b){return b.equals_number(this)};f.equals_number=function(b){return bigrat.equals(this.get_value(),b.get_value())};f.update_display=function(){var b,c,a;b=this.get_frontside(!0).get_element();c=$(b).is(".toontalk-conditions-contents")?$(b):$(b).parent().is(".toontalk-backside, .toontalk-json")?$(b):0<$(b).closest(".toontalk-robot").length?$(b):$(b).parent();a=c.width();c=c.height();0!==
a&&0!==c&&(c*=.8,a/=.64*c,a=this.to_HTML(a,c,this.get_format(),!0,this.get_operator()),b.firstChild||b.appendChild(document.createElement("div")),b.firstChild.innerHTML=a,$(b.firstChild).addClass("toontalk-widget"),b.title=this.get_title(),(b=this.get_backside())&&b.rerender())};f.to_HTML=function(b,c,a,d,f){var h,k,q=!1!==d?" toontalk-top-level-number":"";k=f?e(f):"";b||(b=4);c||(c=16);if(this.get_erased&&this.get_erased())return'<div class="toontalk-number toontalk-integer'+q+'" style="font-size: '+
c+'px;"></div>';0<k.length&&(b-=1);if(this.is_integer())return h=bigrat.toBigInteger(this.get_value()).toString(),d=h.length,0<k.length&&d++,4>b&&d>b&&(d=Math.min(4,d),c*=b/d,b=d),'<div class="toontalk-number toontalk-integer'+q+'" style="font-size: '+c+'px;">'+k+l(h,b)+"</div>";h=' style="font-size:'+.5*c+'px;"';if("improper_fraction"===a||!a)return b='<table class="toontalk-number toontalk-improper-fraction'+q+'"'+h+'><tr class="toontalk-numerator"><td align="center" class="toontalk-number">'+l(this.numerator_string(),
2*b)+'</td></tr><tr class="toontalk-fraction-line-as-row"><td  class="toontalk-fraction-line-as-table-entry"><hr class="toontalk-fraction-line"></td></tr><tr class="toontalk-denominator"><td align="center" class="toontalk-number">'+l(this.denominator_string(),2*b)+"</td></tr></table>",""===k?b:"<table class='toontalk-operator-and-fraction'"+h+"><tr><td>"+k+"</td><td>"+b+"</td></tr></table>";if("proper_fraction"===a){k=this.integer_part();if(k.is_zero())return this.to_HTML(b,c,"improper_fraction",
d,f);d=this.copy().subtract(k).absolute_value();return'<table class="toontalk-number toontalk-proper_fraction'+q+'"'+h+'><tr><td class="toontalk-number toontalk-integer-part-of-proper-fraction">'+k.to_HTML(b,c,"",!1,this.get_operator())+'</td><td class="toontalk-number toontalk-fraction-part-of-proper_fraction">'+d.to_HTML(b,c,"improper_fraction",!1)+"</td></tr></table>"}if("decimal"===a)return 4>b&&(c*=Math.max(1,b)/4,b=4),'<div class="toontalk-number toontalk-decimal'+q+'" style="font-size: '+c+
'px;">'+k+this.decimal_string(b,c)+"</div>"};f.drop_on=function(b,d,a,e){if(b.number_dropped_on_me)return b.number_dropped_on_me(this,d,a,e),a&&this.rerender(),this.remove(),c.robot.in_training&&c.robot.in_training.dropped_on(this,b),!0;if(b.widget_dropped_on_me)return b.widget_dropped_on_me(this,d,a,e);console.log("No handler for drop of "+this.toString()+" on "+b.toString())};f.number_dropped_on_me=function(b,d,a,e){var f,h,k,l;return this.visible()&&(a||e&&e.visible())?(f=document.createElement("div"),
$(f).addClass("toontalk-bammer-down"),h=$(".toontalk-top-level-backside"),f.style.left="-10px",f.style.top=h.height()+"px",h.append(f),d=this.get_frontside_element(),k=$(d).offset(),k.top-=h.position().top,k.top-=$(d).height(),d=function(){this.number_dropped_on_me_semantics(b,a);$(f).removeClass("toontalk-bammer-down");setTimeout(function(){$(f).addClass("toontalk-bammer-away");k.left=h.width()-100;k.top=h.height()+100;l=function(){$(f).remove()};c.UTILITIES.animate_to_absolute_position(f,k,l)},
1)}.bind(this),c.UTILITIES.animate_to_absolute_position(f,k,d),this):this.number_dropped_on_me_semantics(b,a)};f.number_dropped_on_me_semantics=function(b,c){switch(b.get_operator()){case "+":return this.add(b);case "-":return this.subtract(b);case "*":return this.multiply(b);case "/":return this.divide(b);case "^":return this.power(b);default:return console.log("Number received a number with unsupported operator: "+b.get_operator()),this}};f.widget_dropped_on_me=function(b,c,a,d){return b.number_dropped_on_me?
this.number_dropped_on_me(b,c,a,d):!1};f.add=function(b){this.set_value(bigrat.add(bigrat.create(),this.get_value(),b.get_value()));return this};f.subtract=function(b){this.set_value(bigrat.subtract(bigrat.create(),this.get_value(),b.get_value()));return this};f.multiply=function(b){this.set_value(bigrat.multiply(bigrat.create(),this.get_value(),b.get_value()));return this};f.divide=function(b){this.set_value(bigrat.divide(bigrat.create(),this.get_value(),b.get_value()));return this};f.power=function(b){this.set_value(bigrat.power(bigrat.create(),
this.get_value(),bigrat.toInteger(b.get_value())));return this};f.absolute_value=function(){this.set_value(bigrat.abs(bigrat.create(),this.get_value()));return this};f.is_zero=function(){return bigrat.equals(this.get_value(),bigrat.ZERO)};f.is_negative=function(){return bigrat.isNegative(this.get_value())};f.toString=function(){return("+"===this.get_operator()?"":this.get_operator())+bigrat.str(this.get_value())};f.to_float=function(){return bigrat.toDecimal(this.get_value())};f.get_type_name=function(){return"number"};
f.get_json=function(){return{type:"number",operator:this.get_operator(),numerator:this.numerator_string(),denominator:this.denominator_string(),format:this.get_format()}};f.create_from_json=function(b){return f.create(b.numerator,b.denominator,b.operator,b.format)};f.is_integer=function(){return 0===this.get_value()[1].compare(BigInteger.ONE)||0===this.get_value()[0].compare(BigInteger.ZERO)};f.numerator=function(){var b=bigrat.create();return bigrat.set(b,this.get_value()[0],BigInteger.ONE)};f.denominator=
function(){var b=bigrat.create();return bigrat.set(b,this.get_value()[1],BigInteger.ONE)};f.numerator_string=function(){return this.get_value()[0].toString()};f.denominator_string=function(){return this.get_value()[1].toString()};f.integer_part=function(){return this.create(this)};f.decimal_string=function(b,c){if(this.is_integer())return this.numerator_string();var a=this.copy(),d=a.integer_part(),e=d.toString();"0"===e&&this.is_negative()&&(e="-"+e);var h=a.subtract(d),a=Math.min(e.length,b/2),
d=b-(a+.5),f;a:{var q;f=d*c/20;var p="";q=h.absolute_value();h=q.get_value()[0];q=q.get_value()[1];for(var w=new BigInteger(10);f>p.length;)if(h=h.multiply(w),0>h.compare(q))p+="0";else if(p+=h.divide(q).toString(),h=h.remainder(q).multiply(w),h.isZero()){f=p;break a}f=p}f.length<d&&(a=b-f.length,d=f.length);return l(e,a,c)+"<span class='toontalk-decimal-point' style='font-family: serif'>.</span>"+k(f,d,!0)};f.match=function(b){return this.get_erased&&this.get_erased()?b.match_with_any_number?b.match_with_any_number():
"not matched":b.match_with_this_number?b.match_with_this_number(this):"not matched"};f.match_with_any_number=function(){return"matched"};f.match_with_this_number=function(b){return b.equals(this)?"matched":"not matched"};return f}(window.TOONTALK);
window.TOONTALK.number_backside=function(c){return{create:function(f){var k=c.backside.create(f),l=k.get_element(),d=document.createElement("div"),e=f.numerator_string(),b=f.denominator_string(),n=c.UTILITIES.create_text_area(e,"toontalk-numerator-input","","Type here to edit the numerator"),a=c.UTILITIES.create_text_area(b,"toontalk-denominator-input","","Type here to edit the denominator"),g=c.UTILITIES.create_radio_button("number_format","decimal","toontalk-decimal-radio-button","Decimal","Display number as a decimal."),
r=c.UTILITIES.create_radio_button("number_format","proper_fraction","toontalk-proper-fraction-radio-button","Proper fraction","Display number as a proper fraction with an integer part and a fraction."),h=c.UTILITIES.create_radio_button("number_format","improper_fraction","toontalk-improper-fraction-radio-button","Improper fraction","Display number as a simple fraction."),s=c.UTILITIES.create_radio_button("operator","+","toontalk-plus-radio-button","+","Add me to what I'm dropped on."),q=c.UTILITIES.create_radio_button("operator",
"-","toontalk-minus-radio-button","&minus;","Subtract me from what I'm dropped on."),p=c.UTILITIES.create_radio_button("operator","*","toontalk-times-radio-button","&times;","Multiply me with what I'm dropped on."),w=c.UTILITIES.create_radio_button("operator","/","toontalk-dividie-radio-button","&divide;","Divide me into what I'm dropped on."),D=c.UTILITIES.create_radio_button("operator","^","toontalk-power-radio-button","Integer power","Use me as the number of times to multiply together what I'm dropped on."),
v=function(d){var g=n.button.value.trim(),h=a.button.value.trim();if(g!==e||h!==b)f.set_from_values(g,h,!0),c.robot.in_training&&(d=d.srcElement.className.split(" ",1)[0],c.robot.in_training.edited(f,{setter_name:"set_from_values",argument_1:g,argument_2:h,toString:"toontalk-denominator-input"===d?"change value of the denominator to "+h+" of the number":"change value of the numerator to "+g+" of the number",button_selector:"."+d}))},u=function(){var a=c.UTILITIES.selected_radio_button(g.button,r.button,
h.button),b=a.value;f.set_format(b,!0);c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_format",argument_1:b,toString:"change the format to "+b+" of the number",button_selector:"."+a.className.split(" ",1)[0]})},z=function(){var a=c.UTILITIES.selected_radio_button(s.button,q.button,p.button,w.button,D.button),b=a.value;f.set_operator(b,!0);c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_operator",argument_1:b,toString:"change the operator to "+b+" of the number",
button_selector:"."+a.className.split(" ",1)[0]})},A=c.UTILITIES.create_horizontal_table(n.container,d,a.container),O=$(c.UTILITIES.create_horizontal_table(g.container,r.container,h.container)).buttonset().get(0),U=$(c.UTILITIES.create_horizontal_table(s.container,q.container,p.container,w.container,D.container)).buttonset().get(0),P=c.backside.create_standard_buttons(k,f),G=c.backside.create_infinite_stack_check_box(k,f);d.innerHTML="/";$(d).addClass("ui-widget");l.appendChild(A);l.appendChild(O);
l.appendChild(U);l.appendChild(P);l.appendChild(G.container);n.button.addEventListener("change",v);n.button.addEventListener("mouseout",v);n.button.addEventListener("mouseenter",function(){e=n.button.value.trim();b=a.button.value.trim()});a.button.addEventListener("change",v);a.button.addEventListener("mouseout",v);g.button.addEventListener("change",u);r.button.addEventListener("change",u);h.button.addEventListener("change",u);switch(f.get_format()){case "decimal":c.UTILITIES.check_radio_button(g);
break;case "improper_fraction":c.UTILITIES.check_radio_button(h);break;case "proper_fraction":c.UTILITIES.check_radio_button(r)}switch(f.get_operator()){case "+":c.UTILITIES.check_radio_button(s);break;case "-":c.UTILITIES.check_radio_button(q);break;case "*":c.UTILITIES.check_radio_button(p);break;case "/":c.UTILITIES.check_radio_button(w);break;case "^":c.UTILITIES.check_radio_button(D)}s.button.addEventListener("change",z);q.button.addEventListener("change",z);p.button.addEventListener("change",
z);w.button.addEventListener("change",z);D.button.addEventListener("change",z);k.update_display=function(){$(n.button).val(f.numerator_string());$(a.button).val(f.denominator_string());this.display_updated()};return k}}}(window.TOONTALK);window.TOONTALK.box=function(c){var f=Object.create(c.widget);f.create=function(k,l,d){var e=Object.create(f);d?d.forEach(function(b){b&&b.set_parent_of_frontside(e)}):d=[];c.debugging&&k!==d.length&&(console.log("JSON size should be "+d.length+" not "+k),k=d.length);"undefined"===typeof l&&(l=!0);e.get_size=function(){return k};e.set_size=function(b,e){if(k===b)return!1;k=b;d.length=k;e&&this.rerender();c.debugging&&(this.debug_string=this.toString());return!0};e.get_horizontal=function(){return l};
e.set_horizontal=function(b,c){l=b;c&&this.rerender();return this};e.get_hole=function(b){return d[b]};e.set_hole=function(b,e,a){d[b]=e;d[b].set_parent_of_frontside(this);a&&this.update_hole_display(b);c.debugging&&(this.debug_string=this.toString())};e.get_contents=function(){return d};e.set_contents=function(b){var c,a;if(d)for(c=0;c<d.length;c++)(a=d[c])&&a.set_parent_of_frontside(void 0);d=b;for(c=0;c<d.length;c++)(a=d[c])&&a.set_parent_of_frontside(this)};e=e.add_standard_widget_functionality(e);
c.debugging&&(e.debug_string=e.toString(),e.debug_id=c.UTILITIES.generate_unique_id());return e};f.copy=function(k){var l=f.create(this.get_size(),this.get_horizontal(),c.UTILITIES.copy_widgets(this.get_contents(),k,l));return this.add_to_copy(l,k)};f.create_backside=function(){return c.box_backside.create(this).update_run_button_disabled_attribute()};f.equals=function(c){return c.equals_box(this)};f.equals_box=function(c){var f=this.get_size(),d,e,b;if(f!==c.get_size())return!1;for(d=0;d<f;d++)if(e=
this.get_hole(d),b=c.get_hole(d),!e&&b||e&&!b||e&&b&&!e.equals(b))return!1;return!0};f.match=function(c){return this.get_erased&&this.get_erased()?c.match_with_any_box?c.match_with_any_box():"not matched":c.match_with_this_box?c.match_with_this_box(this):"not matched"};f.match_with_any_box=function(){return"matched"};f.match_with_this_box=function(f){var l=this.get_size(),d=[],e,b,n;if(l!==f.get_size())return"not matched";for(e=0;e<l;e++)if(n=f.get_hole(e)){b=this.get_hole(e);if(!b)return"not matched";
b=c.UTILITIES.match(n,b);if("not matched"===b)return"not matched";"matched"!==b&&(d=0===d.length?b:d.concat(b))}return 0<d.length?d:"matched"};f.toString=function(){var c="",f=this.get_size(),d,e;for(d=0;d<f;d++)c=(e=this.get_hole(d))?c+e.get_description():c+"_",d<f-1&&(c+=" | ");return"box that looks like ["+c.replace("box that looks like ","")+"]"};f.get_type_name=function(){return"box"};f.get_json=function(f){var l=[],d=this.get_size(),e;for(e=0;e<d;e++)this.get_hole(e)?l[e]=c.UTILITIES.get_json(this.get_hole(e),
f):l[e]=null;return{type:"box",size:d,contents:l,horizontal:this.get_horizontal()}};f.create_from_json=function(k,l){return f.create(k.size,k.horizontal,c.UTILITIES.create_array_from_json(k.contents,l))};f.to_HTML=function(){var c=this.get_horizontal(),f=c?"horizontal":"vertical",d="<table class='toontalk-box toontalk-box-"+f+"'>",e=this.get_size(),b;b=0===e?1:100/e;var n=c?" style='width:"+b+"%;'":"",a=c?"":" style='height:"+b+"%;'",g=this.get_erased&&this.get_erased(),d=d+("<tr"+a+">");for(b=0;b<
e;b++)d+="<td class='toontalk-box-hole toontalk-box-hole-"+f+"'"+n+">",g||(d+="<div class='toontalk-hole-about-to-be-replaced' />"),d+="</td>",c||(d+="</tr>",b+1<e&&(d+="<tr"+a+">"));c&&(d+="</tr>");return d+"</table>"};f.update_display=function(){var f=this.get_frontside(!0).get_element(),l=this.to_HTML();f.firstChild||f.appendChild(document.createElement("div"));f.firstChild.innerHTML=l;$(f.firstChild).addClass("toontalk-widget");$(".toontalk-hole-about-to-be-replaced").each(this.update_hole_display.bind(this));
f.title=this.get_title();c.debugging&&(this.debug_string=this.toString())};f.update_hole_display=function(f,l){var d,e,b;this.visible()&&(d=this.get_hole(f),e=this.get_frontside(),this.get_size(),d||(d=c.box_empty_hole.create(f),this.set_hole(f,d)),b=d.get_frontside(!0),l&&l.parentNode?(e=b.get_element(),l.parentNode.replaceChild(e,l),c.UTILITIES.set_position_is_absolute(e,!1),$(e).addClass("toontalk-frontside-in-box")):(l=b.get_element(),e=$(e.get_element()).find(".toontalk-box-hole").eq(f),l.width_before_in_box=
$(l).width(),l.height_before_in_box=$(l).height(),this.get_horizontal()?$(l).css({width:"auto",height:e.height()}):$(l).css({width:e.width(),height:"auto"}),d.update_display(),0<e.children(".toontalk-empty-hole").length&&e.empty(),e.append(l),c.UTILITIES.set_position_is_absolute(l,!1),$(l).addClass("toontalk-frontside-in-box")),d.rerender())};f.empty_hole=function(f,l){this.set_hole(f,c.box_empty_hole.create(f),l)};f.drop_on=function(c,f,d){if(c.box_dropped_on_me)return f=c.box_dropped_on_me(this,
d),d&&c.rerender(),this.remove(),f;if(c.widget_dropped_on_me)return c.widget_dropped_on_me(this,f,d);console.log("No handler for drop of "+this.toString()+" on "+c.toString())};f.box_dropped_on_me=function(c,f){console.log("box on box not yet implemented");return!1};f.removed_from_container=function(c,f,d){f=this.get_size();d=!!d;var e,b;for(e=0;e<f;e++)if(c===this.get_hole(e))return this.empty_hole(e,d),d&&(this.rerender(),b=c.get_frontside_element(),$(b).removeClass("toontalk-frontside-in-box"),
b.width_before_in_box&&setTimeout(function(){$(b).css({width:b.width_before_in_box,height:b.height_before_in_box});c.rerender()},10)),this};f.get_path_to=function(f,l){var d=this.get_size(),e,b,n,a="pick up"===l.current_action_name;for(e=0;e<d;e++){b=this.get_hole(e);if(f===b)return c.box.path.create(e,a);if(b.get_path_to&&(n=b.get_path_to(f,l)))return d=c.box.path.create(e),"nest"!==b.get_type_name()&&(d.next=n),d}};f.dereference=function(f,l){var d;if(f){d=f.get_index&&f.get_index();if("number"===
typeof d&&(d=this.get_hole(d))){if(f.next)return d.dereference(f.next,l);f.removing_widget()&&("empty hole"===d.get_type_name()?console.log("Robot is trying to remove something from an empty hole. "):d.get_infinite_stack()||l.remove_from_container(d,this));return d}console.log("box "+this.toString()+" unable to dereference path "+c.path.toString(f))}else return this};f.path={create:function(f,l){return{get_index:function(){return f},removing_widget:function(){return l},toString:function(){return"the "+
c.UTILITIES.cardinal(f)+" hole "},get_json:function(){return{type:"box_path",index:f,removing_widget:l,next:this.next&&this.next.get_json()}}}},create_from_json:function(k,l){var d=f.path.create(k.index,k.removing_widget);k.next&&(d.next=c.UTILITIES.create_from_json(k.next,l));return d}};return f}(window.TOONTALK);
window.TOONTALK.box_backside=function(c){return{create:function(f){var k=c.backside.create(f),l=c.UTILITIES.create_text_input(f.get_size().toString(),"toontalk-box-size-input","Number of holes","Type here to edit the number of holes."),d=c.UTILITIES.create_radio_button("box_orientation","horizontal","toontalk-horizontal-radio-button","Left to right","Show box horizontally."),e=c.UTILITIES.create_radio_button("box_orientation","vertical","toontalk-vertical-radio-button","Top to bottom","Show box vertically."),
b=function(){var a=parseInt(l.button.value.trim(),10);f.set_size(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_size",argument_1:a,toString:"change the number of holes to "+a+" of the box",button_selector:".toontalk-box-size-input"})},n=function(){var a=c.UTILITIES.selected_radio_button(d.button,e.button),b=a.value,g="horizontal"===b;f.set_horizontal(g,!0);c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_horizontal",argument_1:g,toString:"change the orientation to "+
b+" of the box",button_selector:"."+a.className.split(" ",1)[0]})},a=k.get_element(),g=c.backside.create_standard_buttons(k,f),r=c.backside.create_infinite_stack_check_box(k,f);l.button.addEventListener("change",b);l.button.addEventListener("mouseout",b);d.button.addEventListener("change",n);e.button.addEventListener("change",n);a.appendChild(l.container);a.appendChild($(c.UTILITIES.create_horizontal_table(d.container,e.container)).buttonset().get(0));a.appendChild(g);a.appendChild(r.container);k.update_display=
function(){l.button.value=f.get_size().toString();f.get_horizontal()?c.UTILITIES.check_radio_button(d):c.UTILITIES.check_radio_button(e);this.display_updated()};k.render();return k}}}(window.TOONTALK);
window.TOONTALK.box_empty_hole=function(c){return{create:function(f){var k=Object.create(this),l;k.get_element=function(){l||(l=document.createElement("div"),l.className="toontalk-empty-hole toontalk-frontside toontalk-side",$(l).data("owner",k));return l};k.get_frontside=function(){return this.get_element()};k.get_side_element=function(){return this.get_element()};k.get_frontside_element=k.get_side_element;k.update_display=function(){var c,e=this.get_parent_of_frontside().widget;e&&!e.get_horizontal()&&
(c=e.get_frontside_element(),$(this.get_element()).css({"min-height":$(c).height()/e.get_size()}))};k.get_frontside=function(){return this};k.widget_dropped_on_me=function(d){var e=this.get_parent_of_frontside().widget,b=d.get_parent_of_frontside();b&&b.widget&&b.widget.removed_from_container&&b.widget.removed_from_container(d);c.robot.in_training&&c.robot.in_training.dropped_on(d,k);e.set_hole(f,d,!0);d.set_parent_of_frontside(this,!1);e.rerender();d.dropped_on_other&&d.dropped_on_other(this,!1,
event);return!0};k.get_json=function(){return null};k.add_to_json=function(c){return c};k.copy=function(d){return c.box_empty_hole.create(f)};k.match=function(){return"matched"};k.get_type_name=function(){return"empty hole"};k.visible=function(){return this.get_parent_of_frontside().widget.visible()};k.render=function(){};k.rerender=function(){var c=this.get_parent_of_frontside().widget;c.get_hole(f)!==this&&c.rerender()};c.debugging&&(k.debug_string="An empty hole");c.widget.has_parent(k);return k},
toString:function(){return"_"},get_description:function(){return"_"}}}(window.TOONTALK);window.TOONTALK.bird=function(c){var f=Object.create(c.widget);f.create=function(k,l){var d=Object.create(f);d.get_description=function(){return l};d.set_description=function(c,b){if(l===c)return!1;l=c;b&&this.rerender();return!0};d.widget_dropped_on_me=function(d,b,f,a){var g={widget:d,is_backside:b},l,h,s,q,p,w;k?k.visible&&(f||a&&a.visible())?(this.element_to_display_when_flying=d.get_frontside_element(),$(this.element_to_display_when_flying).addClass("toontalk-carried-by-bird"),b=$(k.get_frontside_element()).offset(),
h=this.get_frontside_element(),l=$(h).offset(),s=h.parentElement,p=$(h).width(),w=$(h).height(),f=$(".toontalk-top-level-backside"),a=f.offset(),q=h.style.position,h.style.position="absolute",f.append(h),$(h).css({left:l.left-a.left,top:l.top-a.top,width:p,height:w}),setTimeout(function(){$(this.element_to_display_when_flying).css({width:p,height:w/3})}.bind(this),100),f=function(){var a=function(){var a=this.get_parent_of_frontside();h.style.position=q;s.appendChild(h);"top-level"===a.widget.get_type_name()?
this.rerender():a.widget.rerender()}.bind(this);$(this.element_to_display_when_flying).removeClass("toontalk-carried-by-bird");h.removeChild(this.element_to_display_when_flying);this.element_to_display_when_flying=void 0;k.add_to_contents(g,this);setTimeout(function(){this.fly_to(l,a)}.bind(this),1)}.bind(this),this.fly_to(b,f)):k.add_to_contents(g,this):console.log("to do: handle drop on a nestless bird -- just removes other?");c.robot.in_training&&c.robot.in_training.dropped_on(d,this);return!0};
d.get_json=function(d){return{semantic:{type:"bird",nest:k&&c.UTILITIES.get_json(k,d)},view:{description:this.get_description()}}};d.copy=function(c){var b=this.create(k);return this.add_to_copy(b,c)};d.deliver_to=function(c,b){c.add_to_contents(b)};d=d.add_standard_widget_functionality(d);c.debugging&&(d.debug_id=c.UTILITIES.generate_unique_id(),d.debug_string=k?"a bird with "+k.debug_string:"a bird without a nest");return d};f.create_backside=function(){return c.bird_backside.create(this)};f.match=
function(c){return c.match_with_any_bird?c.match_with_any_bird(this):"not matched"};f.match_with_any_bird=function(){return"matched"};f.update_display=function(){for(var f=this.get_frontside(!0),l=this.get_backside(),f=f.get_element();f.firstChild;)f.removeChild(f.firstChild);f.title=this.get_title();$(f).addClass("toontalk-bird");$(f).is(".toontalk-side-animating")||c.UTILITIES.add_animation_class(f,"toontalk-bird-waiting");this.element_to_display_when_flying&&f.appendChild(this.element_to_display_when_flying);
l&&l.rerender()};f.fly_to=function(f,l){var d=this.get_frontside_element(),e=$(d).offset(),b=f.left-e.left,e=f.top-e.top,n=Math.atan2(e,b),a="toontalk-fly-west toontalk-fly-northwest toontalk-fly-north toontalk-fly-northeast toontalk-fly-east toontalk-fly-southeast toontalk-fly-south toontalk-fly-southwest".split(" ")[Math.round(4*(n/Math.PI+1))%8];Math.round(Math.sqrt(b*b+e*e));$(d).position();c.UTILITIES.add_animation_class(d,a);this.animate_to_absolute_position(f,function(){$(d).removeClass(a);
l()})};f.toString=function(){return"a bird"};f.get_type_name=function(){return"bird"};f.create_from_json=function(f,l){return c.bird.create(c.UTILITIES.create_from_json(f.nest,l))};return f}(window.TOONTALK);
window.TOONTALK.bird_backside=function(c){return{create:function(f){var k=c.backside.create(f),l=k.get_element(),d=c.UTILITIES.create_text_area(f.get_description(),"toontalk-bird-description-input","This&nbsp;bird&nbsp;","Type here to provide additional information about this bird."),e=c.backside.create_standard_buttons(k,f),b=c.backside.create_infinite_stack_check_box(k,f),n=function(){var a=d.button.value.trim();f.set_description(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_description",
argument_1:a,toString:"change the description to '"+a+"'' of the bird",button_selector:",toontalk-bird-description-input"})};d.button.addEventListener("change",n);d.button.addEventListener("mouseout",n);n=c.UTILITIES.create_vertical_table(d.container);$(n).css({width:"90%"});l.appendChild(n);l.appendChild(e);l.appendChild(b.container);k.update_display=function(){var a=f.get_frontside_element();$(d.button).val(f.get_description());a&&(a.title=f.get_title(),a=$(a).closest(".toontalk-backside"),0<a.length&&
a.data("owner").get_backside().update_run_button_disabled_attribute());k.update_run_button_disabled_attribute();this.display_updated()};return k}}}(window.TOONTALK);
window.TOONTALK.nest=function(c){var f=Object.create(c.widget),k={};f.create=function(l,d,e,b,n){var a=Object.create(f),g;d||(d=[]);e||(e=[]);a.get_description=function(){return l};a.set_description=function(a,b){if(l===a)return!1;l=a;b&&this.rerender();return!0};a.matched_by=function(a){return 0<d.length?c.UTILITIES.match(a,d[0].widget):[this]};a.run_when_non_empty=function(a){e.push(a)};a.add_to_contents=function(a,b){var c,f;1===d.push(a)?0<e.length&&(c=e,e=[],c.forEach(function(a){a.robot.run(a.context,
a.top_level_context,a.queue)})):a.widget.hide();a.is_backside?a.widget.set_parent_of_backside(this):a.widget.set_parent_of_frontside(this);b&&g&&g.forEach(function(c){f={widget:a.widget.copy(),is_backside:a.is_backside};b.deliver_to(c,f)});this.rerender()};a.removed_from_container=function(a,b,e){d.splice(0,1);this.visible()&&(0<d.length&&$(c.UTILITIES.get_side_element_from_side(d[0])).show(),this.render())};a.get_json=function(a){var g=e&&e.map(function(b){return{robot:c.UTILITIES.get_json(b.robot,
a),context:context&&c.UTILITIES.get_json(b.context,a),top_level_context:top_level_context&&c.UTILITIES.get_json(b.top_level_context,a)}});return{semantic:{type:"nest",contents:c.UTILITIES.get_json_of_array(d,a),guid:b,original_nest:n&&c.UTILITIES.get_json(n,a),waiting_robots:g},view:{description:l}}};a.copy=function(a){var e;if(a&&0<d.length)return d[0].widget.copy(a);e=c.UTILITIES.copy_array(d);e=c.nest.create(l,e,[],b,n||this);return this.add_to_copy(e,a)};a.dropped_on_other=function(d,e,g){var f,
k,l,n,v,u,z;b||(b=c.UTILITIES.generate_unique_id(),c.debugging&&(a.debug_string="A nest with id "+b),this.rerender(),k=this.get_frontside_element(!0),c.UTILITIES.add_animation_class(k,"toontalk-hatch-egg"),v=function(){var a,b;a=e?d.get_backside():$(".toontalk-top-level-backside").data("owner").get_backside();f=c.bird.create(this);l=f.get_frontside_element(!0);c.UTILITIES.add_animation_class(l,"toontalk-fly-southwest");n=c.UTILITIES.relative_position(k,a.get_element());$(l).css({left:n.left,top:n.top});
a.widget_dropped_on_me(f,!1,g);$(k).removeClass("toontalk-hatch-egg");c.UTILITIES.add_animation_class(k,"toontalk-empty-nest");z=function(){$(l).removeClass("toontalk-fly-southwest");setTimeout(function(){c.UTILITIES.add_animation_class(l,"toontalk-fly-down");u=function(){$(l).removeClass("toontalk-fly-down");$(l).removeClass("toontalk-side-animating");l.style.transitionDuration="0s";c.UTILITIES.add_animation_class(l,"toontalk-bird-waiting")};c.UTILITIES.add_one_shot_event_handler(k,"animationend",
2E3,u)},1)};a=Math.max(10,n.left-100);b=Math.max(10,n.top+300);f.animate_to_absolute_position({left:a,top:b},z);this.rerender()}.bind(this),c.UTILITIES.add_one_shot_event_handler(k,"animationend",2E3,v))};a.widget_dropped_on_me=function(a,b,c,e){0===d.length?this.add_to_contents({widget:a,is_backside:b}):d[0].widget.widget_dropped_on_me(a,b,c,e)};a.update_display=function(){for(var a=this.get_frontside(!0),e=this.get_backside(),g,f,a=a.get_element();a.firstChild;)a.removeChild(a.firstChild);0<d.length?
(d[0].is_backside?(g=d[0].widget.get_backside(!0),f=g.get_element(),g.update_display(),g.scale_to_fit(f,a)):(d[0].widget.render(),f=d[0].widget.get_frontside_element()),$(f).addClass("toontalk-widget-on-nest"),f.style.position="static",a.appendChild(f)):(a.title=this.get_title(),b?c.UTILITIES.add_animation_class(a,"toontalk-empty-nest"):c.UTILITIES.add_animation_class(a,"toontalk-nest-with-egg"));$(a).addClass("toontalk-nest");e&&e.rerender()};a[k]=function(a){g||(g=[]);g.push(a)};a.get_path_to=function(a,
b){if(0<d.length&&d[0].widget===a)return!0};a=a.add_standard_widget_functionality(a);c.debugging&&(a.debug_id=c.UTILITIES.generate_unique_id(),a.debug_string=b?"A nest with id "+b:"A nest with an egg");if(n&&b)n[k](a);return a};f.create_backside=function(){return c.nest_backside.create(this)};f.match=function(c){return"not matched"};f.toString=function(){return"a nest"};f.get_type_name=function(){return"nest"};f.create_from_json=function(f,d){return c.nest.create(d.json_view.description,c.UTILITIES.create_array_from_json(f.contents,
d),void 0,f.guid,f.original_nest&&c.UTILITIES.create_from_json(f.original_nest,d))};return f}(window.TOONTALK);
window.TOONTALK.nest_backside=function(c){return{create:function(f){var k=c.backside.create(f),l=k.get_element(),d=c.UTILITIES.create_text_area(f.get_description(),"toontalk-nest-description-input","This&nbsp;nest&nbsp;","Type here to provide additional information about this nest."),e=c.backside.create_standard_buttons(k,f),b=c.backside.create_infinite_stack_check_box(k,f),n=function(){var a=d.button.value.trim();f.set_description(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_description",
argument_1:a,toString:"change the description to '"+a+"'' of the nest",button_selector:",toontalk-nest-description-input"})};d.button.addEventListener("change",n);d.button.addEventListener("mouseout",n);n=c.UTILITIES.create_vertical_table(d.container);$(n).css({width:"90%"});l.appendChild(n);l.appendChild(e);l.appendChild(b.container);k.update_display=function(){var a=f.get_frontside_element();$(d.button).val(f.get_description());a&&(a.title=f.get_title(),a=$(a).closest(".toontalk-backside"),0<a.length&&
a.data("owner").get_backside().update_run_button_disabled_attribute());k.update_run_button_disabled_attribute();this.display_updated()};return k}}}(window.TOONTALK);window.TOONTALK.robot=function(c){var f=Object.create(c.widget);f.create=function(k,l,d,e,b,n,a){var g=Object.create(f),r,h=!1;d||(d=c.actions.create());e||(e="");r||(r=g);g.get_frontside_conditions=function(){return k};g.set_frontside_conditions=function(a){(k=a)&&c.widget.erasable(k)};g.get_backside_conditions=function(){return l};g.set_backside_conditions=function(a){(l=a)&&c.UTILITIES.available_types.forEach(function(a){l[a]&&c.widget.erasable(l[a])})};g.add_to_backside_conditions=function(a){var b=
a.copy(!0);l||(l={});l[a.get_type_name()]=b;c.widget.erasable(b)};g.get_body=function(){return d};g.get_animating=function(){return h};g.set_animating=function(a){var b=this.get_frontside_element();(h=a)?(b.style["z-index"]=1E3,$(b).addClass("toontalk-robot-animating")):(b.style["z-index"]="auto",$(b).removeClass("toontalk-robot-animating"))};g.get_description=function(){return e};g.set_description=function(a,b){if(e===a)return!1;e=a;b&&this.rerender();return!0};g.get_thing_in_hand=function(){return b};
g.set_thing_in_hand=function(a){b=a};g.get_next_robot=function(){return a};g.set_next_robot=function(b){var c=this.get_backside_element();b&&b.set_first_in_team(this.get_first_in_team());!b&&a&&a.set_first_in_team(a);a=b;c&&(b=b?"When the robot can't run then this one will try: ":window.TOONTALK.robot.empty_drop_area_instructions,$(c).find(".toontalk-drop-area-instructions").get(0).innerHTML=b)};g.get_first_in_team=function(){return r};g.set_first_in_team=function(b){r=b;a&&a.set_first_in_team(b)};
g.get_run_once=function(){return n};g.set_run_once=function(a){n=a};g=g.add_standard_widget_functionality(g);c.debugging&&(this.debug_id=c.UTILITIES.generate_unique_id());return g};f.create_backside=function(){return c.robot_backside.create(this).update_run_button_disabled_attribute()};f.copy=function(f){var l=this.get_frontside_conditions(),d=this.get_backside_conditions(),l=l?l.copy(!0):void 0,e=this.get_next_robot(),e=e?e.copy(f):void 0,b;d&&(b={},c.UTILITIES.available_types.forEach(function(c){b[c]&&
(b[c]=b[c].copy(!0))}));d=this.create(l,b,this.get_body().copy(),this.get_description(),this.get_thing_in_hand(),this.get_run_once(),e);return this.add_to_copy(d,f)};f.match=function(){console.log("Robot-to-robot matching could be more sophisticated.");return"matched"};f.run=function(f,l,d){var e=this.get_frontside_conditions(),b,n,a;if(this.stopped||this.being_trained||!e)return"not matched";this.match_status=c.UTILITIES.match(e,f);(n=e.get_frontside_element())&&("matched"===this.match_status?$(n).removeClass("toontalk-conditions-not-matched"):
$(n).addClass("toontalk-conditions-not-matched"));"matched"===this.match_status?(b=this.get_backside_conditions())&&(e=f.get_backside_widgets())&&e.some(function(a){var d=!a.is_backside&&b[a.widget.get_type_name()];if(d&&(a=c.UTILITIES.match(d,a.widget),(n=d.get_frontside_element())&&("matched"===this.match_status?$(n).removeClass("toontalk-conditions-not-matched"):$(n).addClass("toontalk-conditions-not-matched")),"matched"!==a))return this.match_status=a,!0}.bind(this)):this.match_status||(this.match_status=
"not matched");switch(this.match_status){case "matched":return d||(d=c.QUEUE),this.get_body().reset_newly_created_widgets(),d.enqueue({robot:this,context:f,top_level_context:l,queue:d}),this.match_status;case "not matched":return this.get_next_robot()?this.get_next_robot().run(f,l,d):this.match_status;default:return a={robot:this,context:f,top_level_context:l,queue:d},this.match_status.forEach(function(b){b.run_when_non_empty(a)}),this.match_status}};f.set_stopped=function(c){(this.stopped=c)&&this.set_animating(!1)};
f.run_actions=function(c,f,d){return this.stopped?!1:this.visible()?this.get_body().run_watched(c,f,d,this):this.get_body().run_unwatched(c,f,d,this)};f.picked_up=function(f,l,d){var e;f.get_infinite_stack&&f.get_infinite_stack()?this.current_action_name="pick up a copy of":this.current_action_name="pick up";d?(e=f,l=f.copy(),l=c.path.get_path_to_resource(l)):l=c.path.get_path_to(f,this);l&&this.add_step(c.robot_action.create(l,this.current_action_name),e);f.last_action=this.current_action_name;this.current_action_name=
void 0;this.set_thing_in_hand(f)};f.dropped_on=function(f,l){var d;this.current_action_name="drop it on";(d=c.path.get_path_to(l,this))&&this.add_step(c.robot_action.create(d,this.current_action_name));f.last_action=this.current_action_name+" "+l.get_type_name();this.current_action_name=void 0;this.set_thing_in_hand(void 0)};f.copied=function(f,l,d){this.current_action_name=d?"pick up a copy of":"copy";(f=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(f,this.current_action_name),
l);l.last_action=this.current_action_name;this.current_action_name=void 0};f.removed=function(f){var l;this.current_action_name="remove";(l=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(l,this.current_action_name));f.last_action=this.current_action_name;this.current_action_name=void 0};f.edited=function(f,l){var d;this.current_action_name="edit";(d=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(d,this.current_action_name,l));this.current_action_name=void 0};f.set_erased=
function(f,l){var d;this.current_action_name="set_erased";(d=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(d,this.current_action_name,{erased:l,toString:l?"erase":"un-erase"}));this.current_action_name=void 0};f.remove_from_container=function(f,l){this.get_animating()?c.UTILITIES.add_one_shot_event_handler(this.get_frontside_element(),"transitionend",2500,function(){l.removed_from_container(f,!1,!0)}):l.removed_from_container(f);this.add_newly_created_widget(f)};f.add_step=function(c,
f){this.get_body().add_step(c,f);this.get_frontside_element().title=this.get_title()};f.get_context=function(){var c=this.get_frontside_element();return $(c).parent().data("owner")};f.training_started=function(){var c=this.get_context();c?(this.being_trained=!0,this.set_frontside_conditions(c.copy(!0)),$("div").css({cursor:'url("images/RB19.32x32.PNG"), default'}),this.get_frontside_element().title=this.get_title()):console.log("Robot started training but can't find its 'context'.")};f.training_finished=
function(){var f=this.get_body().get_newly_created_widgets(),l,d;$("div").css({cursor:""});for(l=0;l<f.length;l++)d=f[l],"drop it on top-level"!==d.last_action&&"copy"!==d.last_action||this.add_step(c.robot_action.create(c.newly_created_widgets_path.create(l),"add to the top-level backside"));this.rerender();this.being_trained=!1;this.get_frontside_element().title=this.get_title();c.UTILITIES.backup_all()};f.update_display=function(){var f=this.get_frontside(!0),l=this.get_backside(),d,e=this.get_thing_in_hand(),
b;c.debugging&&(this.debug_string=this.toString());d=f.get_element();e&&(b=e.get_frontside_element());for(d.firstChild&&$(d.firstChild).is(".toontalk-robot-image");d.firstChild;)d.removeChild(d.firstChild);d.title=this.get_title();$(d).addClass("toontalk-robot");b&&d.appendChild(b);"not matched"===this.match_status?$(d).addClass("toontalk-side-animating toontalk-robot-not-matched"):$(d).removeClass("toontalk-robot-not-matched");setTimeout(function(){var c,a,f,k,h;e&&(h={position:"absolute"},$(b).addClass("toontalk-held-by-robot"),
c=$(b).width(),a=$(b).height(),f=$(d).width(),k=$(d).height(),0===c&&(c=2*f,a=k/2,h.width=c,h.height=a),h.left=(f-c)/2,h.top=(k-a)/2,$(b).css(h),e.render())},1);l&&l.rerender()};f.add_newly_created_widget=function(c){return this.get_body().add_newly_created_widget(c)};f.add_newly_created_widget_if_new=function(c){return this.get_body().add_newly_created_widget_if_new(c)};f.get_recently_created_widget=function(){var c=this.get_body().get_newly_created_widgets();return c[c.length-1]};f.get_title=function(){var c=
this.get_description();if(c)return c="This robot "+c,0>c.lastIndexOf(".")&&(c+="."),c+"\n"+this.toString();c=this.get_frontside_element();return $(c).is(".toontalk-top-level-resource")?"Drag this robot to a work area.":this.toString()};f.toString=function(){var f=this.get_frontside_conditions(),l=this.get_body(),d="",e="",b=this.get_next_robot();if(!f)return"has yet to be trained.";f=f.get_description();this.being_trained&&(d="is being trained.\n",e="\n...");f=c.UTILITIES.add_a_or_an(f);l=d+"When working on something that matches "+
f+" he will \n"+l.toString()+e;"not matched"===this.match_status&&(l="He isn't running because his conditions don't match. Click to edit his conditions.\n"+l);b&&(l+="\nIf it doesn't match then the next robot will try to run.\n"+b.toString());return l};f.get_type_name=function(){return"robot"};f.get_json=function(f){var l=this.get_frontside_conditions(),d=this.get_backside_conditions(),e,b,n;l&&(e="top-level"===l.get_type_name()?{type:"top_level"}:c.UTILITIES.get_json(l,f));d&&c.UTILITIES.available_types.forEach(function(a){d[a]&&
(b||(b={}),b[a]=c.UTILITIES.get_json(d[a],f))});this.get_next_robot()&&(n=c.UTILITIES.get_json(this.get_next_robot(),f));return{semantic:{type:"robot",frontside_conditions:e,backside_conditions:b,body:this.get_body().get_json(),run_once:this.get_run_once(),next_robot:n},view:{description:this.get_description()}}};f.create_from_json=function(f,l){var d=l.json_view,e,b,n;f.thing_in_hand&&(b=c.UTILITIES.create_from_json(f.thing_in_hand,l));f.next_robot&&(e=c.UTILITIES.create_from_json(f.next_robot,l));
f.backside_conditions&&(n={},c.UTILITIES.available_types.forEach(function(a){n[a]=c.UTILITIES.create_from_json(f.backside_conditions[a],l)}));return c.robot.create(c.UTILITIES.create_from_json(f.frontside_conditions||f.bubble,l),n,c.UTILITIES.create_from_json(f.body,l),d.description,b,f.run_once,e)};return f}(window.TOONTALK);
window.TOONTALK.robot_backside=function(c){var f=function(f,d,e,b){f=c.UTILITIES.create_text_element(f);var k=d.get_frontside_element(!0);c.UTILITIES.set_position_is_absolute(k,!1);$(k).addClass("toontalk-conditions-contents "+b);setTimeout(function(){$(k).parent().addClass("toontalk-conditions-contents-container");d.render()},1);"not matched"===e.match_status?$(k).addClass("toontalk-conditions-not-matched"):$(k).removeClass("toontalk-conditions-not-matched");return c.UTILITIES.create_horizontal_table(f,
k)},k=function(c,d){var e=d.get_frontside_conditions(),b=d.get_backside_conditions(),k,a;e&&0===$(c).find(".toontalk-frontside-conditions-area").length&&c.insertBefore(f("Runs only if the widget matches: ",e,d,"toontalk-frontside-conditions-area"),c.firstChild);b&&Object.keys(b).forEach(function(e){if(k=b[e])a="toontalk-backside-"+e+"-conditions-area",0===$(c).find("."+a).length&&(c.insertBefore(f("Runs only if the "+e+" on the backside matches: ",k,d,a),c.firstChild.nextSibling),k.render())})};return{create:function(f){var d=
c.backside.create(f),e=d.get_element(),b=c.UTILITIES.create_text_area(f.get_description(),"toontalk-robot-description-input","This&nbsp;robot&nbsp;","Type here to provide additional information about this robot."),n=c.UTILITIES.create_check_box(!f.get_run_once(),"toontalk-run-once-check-box","When finished start again","Check this if you want the robot to start over again after finishing what he was trained to do."),a=c.UTILITIES.create_drop_area(window.TOONTALK.robot.empty_drop_area_instructions),
g=f.get_next_robot(),r=c.backside.create_standard_buttons(d,f),h=c.backside.create_infinite_stack_check_box(d,f),s=function(){var a=b.button.value.trim();f.set_description(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_description",argument_1:a,toString:"change the description to '"+a+"'' of the robot",button_selector:",toontalk-robot-description-input"})};a.data("drop_area_owner",f);r.insertBefore(this.create_train_button(d,f),r.firstChild);b.button.addEventListener("change",
s);b.button.addEventListener("mouseout",s);$(n.button).click(function(a){var b=n.button.checked;f.set_run_once(!b);c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_run_once",argument_1:!b,toString:"change to "+(b?"run again":"run once")+" of the robot",button_selector:".toontalk-run-once-check-box"});a.stopPropagation()});s=c.UTILITIES.create_vertical_table(b.container,n.container);$(s).css({width:"90%"});e.appendChild(s);e.appendChild(r);e.appendChild(h.container);g&&a.append(g.get_frontside_element());
e.appendChild(a.get(0));d.update_display=function(){var a=f.get_frontside_element();$(b.button).val(f.get_description());$(n.button).prop("checked",!f.get_run_once());a&&(a.title=f.get_title(),a=$(a).closest(".toontalk-backside"),0<a.length&&a.data("owner").get_backside().update_run_button_disabled_attribute());d.update_run_button_disabled_attribute();this.display_updated()};k(e,f);return d},create_train_button:function(f,d){var e=f.get_element();$(e);var b=$("<button>Train</button>").button();b.addClass("toontalk-train-backside-button");
var n=!1,a=function(){n?(b.button("option","label","Stop training"),b.attr("title","Click to stop training this robot.")):d.get_body().is_empty()?(b.button("option","label","Train"),b.attr("title","Click to start training this robot.")):(b.button("option","label","Re-train"),b.attr("title","Click to start training this robot all over again."));k(e,d)};a();b.click(function(b){n=!n;a();n?(d.get_body().reset_steps(),c.robot.in_training=d,d.training_started()):(d.training_finished(),c.robot.in_training=
null);b.stopPropagation()});return b.get(0)}}}(window.TOONTALK);window.TOONTALK.robot.empty_drop_area_instructions="Drop a robot here to run when this robot can't.";(function(){var c=function(c){return"rotate"===c||"skewX"===c||"skewY"===c||"transform-origin-x"===c||"transform-origin-y"===c};window.TOONTALK.element=function(f){var k=Object.create(f.widget),l=function(c,e){var b,f;"number"===typeof c&&(f=c);0===c.length&&(f=0);if("undefined"===typeof f&&(b=c.substring(c.length-1),0<="0123456789x".indexOf(b)&&(f=parseFloat(c),isNaN(f))))return;b=f;0<=["rotate","skewX","skewY"].indexOf(e)&&(b%=360,0>b&&(b+=360));return b};k.create=function(d,e){var b=Object.create(k),
l,a,g,r;e||(e=[]);b.get_HTML=function(){return d};b.set_HTML=function(a){var b=this.get_frontside_element();if(!b||d===a)return!1;d=a;$(b).children(":not(.ui-resizable-handle)").remove();this.rerender();return!0};b.get_style_attributes=function(){return e};b.set_style_attributes=function(a){e=a};b.get_pending_css=function(){return l};b.get_transform_css=function(){return a};b.add_to_css=function(b,d){c(b)?(a||(a={}),a[b]=d):(l||(l={}),l[b]=d)};b.apply_css=function(){var b,c;if(l||a)if(b=this.get_frontside_element()){if(a){a.rotate&&
(c="rotate("+a.rotate+"deg)");a.skewX&&(c||(c=""),c+="skewX("+a.skewX+"deg)");a.skewY&&(c||(c=""),c+="skewY("+a.skewY+"deg)");if(a["transform-origin-x"]||a["transform-origin-y"])l||(l={}),l["transform-origin"]=(a["transform-origin-x"]||0)+" "+(a["transform-origin-y"]||0);c&&(l||(l={}),l["-webkit-transform"]=c,l["-moz-transform"]=c,l["-ms-transform"]=c,l["o-transform"]=c,l.transform=c)}l&&($(b).css(l),r&&(l.width||l.height)&&(b={},b.width=l.width,b.height=l.height,r.css(b)),l=void 0)}};b.on_update_display=
function(a){g?g.push(a):g=[a]};b.fire_on_update_display_handlers=function(){g&&setTimeout(function(){g.forEach(function(a){a()});g=[]},1)};b.get_image_element=function(){return r};b.set_image_element=function(a,b){r=$(a).find("img");0===r.length?r=void 0:($(b).width(r.width()),$(b).height(r.height()))};b=b.add_standard_widget_functionality(b);f.debugging&&(b.debug_string=b.toString(),b.debug_id=f.UTILITIES.generate_unique_id());return b};k.copy=function(c){var e=k.create(this.get_HTML(),this.get_style_attributes().slice());
return this.add_to_copy(e,c)};k.match=function(c){return this.get_erased&&this.get_erased()?c.match_with_any_element?c.match_with_any_element():"not matched":c.match_with_this_element?c.match_with_this_element(this):"not matched"};k.match_with_any_element=function(){return"matched"};k.match_with_this_element=function(c){return this.get_HTML()===c.get_HTML()?"matched":"not matched"};k.create_backside=function(){return f.element_backside.create(this).update_run_button_disabled_attribute()};k.get_attribute=
function(c){var e=this.get_pending_css(),b;if(e&&e[c]||(e=this.get_transform_css())&&e[c])return e[c];e=this.get_frontside_element();b=e.style[c];""===b&&(b=$(e).css(c));return b?"number"===typeof b?b:b.replace("px",""):0};k.set_attribute=function(c,e,b){var k,a;if(!this.get_frontside().get_element())return!1;k=this.get_attribute(c);if(k===e)return!1;if(a=l(e,c)){if(k===a)return;e=a}b&&f.robot.in_training&&f.robot.in_training.edited(this,{setter_name:"set_attribute",argument_1:c,argument_2:e,toString:"change the '"+
c+"' style to "+e+" of",button_selector:".toontalk-element-"+c+"-attribute-input"});this.add_to_css(c,e);this.rerender();return!0};k.dropped_on_style_attribute=function(c,e){var b,k,a;if(c){b=c.toString();if("number"===c.get_type_name()){k=this.get_attribute(e);if("number"===typeof k)a=k;else if("auto"===k)switch(e){case "left":a=$(this.get_frontside_element()).offset().left;break;case "top":a=$(this.get_frontside_element()).offset().top;break;default:a=0}else a=parseFloat(k);k=c.to_float();switch(b.substring(0,
1)){case "-":b=a-k;break;case "*":b=a*k;break;case "/":b=a/k;break;case "^":b=Math.pow(a,k);break;default:b=a+k}this.set_attribute(e,b,!1)}c.get_infinite_stack()||c.remove();f.robot.in_training&&f.robot.in_training.dropped_on(c,this.create_attribute_object(e))}};k.create_attribute_object=function(c){var e=".toontalk-element-"+c+"-attribute-input",b=this.get_backside_element(),k;b&&(k=$(b).find(e),0<k.length&&k.data("owner",this));e={element_widget:this,attribute:c,get_type_name:function(){return"element attribute"},
toString:function(){return"the "+this.attribute+" of "+this.element_widget},get_side_element:function(){if(k&&0<k.length)return k.get(0)},equals:function(a){return c===a.attribute?this.equals(a.element_widget):!1},visible:function(){return k&&k.is(":visible")},widget_dropped_on_me:function(a){this.element_widget.dropped_on_style_attribute(a,c)},update_display:function(){k&&k.val(this.element_widget.get_attribute(this.attribute))},render:function(){f.DISPLAY_UPDATES.pending_update(this)}};f.debugging&&
(e.debug_id=f.UTILITIES.generate_unique_id());return e};k.update_display=function(){var c=this.get_frontside_element(),e,b=this.get_backside();this.get_erased&&this.get_erased()?$(c).css({opacity:0}):(this.get_erased&&"0"===$(c).css("opacity")&&$(c).css({opacity:1}),c.children.length===$(c).children(".ui-resizable-handle").length&&(e=document.createElement("div"),e.innerHTML=this.get_HTML(),c.appendChild(e),this.set_image_element(e,c),$(c).addClass("toontalk-element-frontside"),"<"!==e.innerHTML.substring(0,
1)&&$(c).addClass("ui-widget toontalk-plain-text-element")),this.apply_css(),b&&b.update_display(),this.fire_on_update_display_handlers())};k.toString=function(){return"element whose HTML is '"+f.UTILITIES.maximum_string_length(this.get_HTML(),40)+"'"};k.get_type_name=function(){return"element"};k.get_json=function(){var c=[];this.get_style_attributes().forEach(function(e){c.push(e)});return{type:"element",html:encodeURIComponent(this.get_HTML()),attributes:c,attribute_values:c.map(this.get_attribute.bind(this))}};
k.create_from_json=function(c){var e=k.create(decodeURIComponent(c.html),c.attributes);c.attribute_values.forEach(function(b,f){e.add_to_css(c.attributes[f],l(b)||b)});return e};k.create_attribute_path=function(c,e){var b=f.path.get_path_to(c.element_widget,e);return this.extend_attribute_path(b,c.attribute)};k.extend_attribute_path=function(c,e){return{dereference:function(b,f,a){return c.dereference(f||b,void 0,a).create_attribute_object(e)},toString:function(){return"the '"+e+"' property of "+
c},get_json:function(){return{type:"path_to_style_attribute",attribute:e,element_widget_path:c.get_json()}}}};k.create_path_from_json=function(c){var e=f.UTILITIES.create_from_json(c.element_widget_path);return k.extend_attribute_path(e,c.attribute)};return k}(window.TOONTALK);window.TOONTALK.element_backside=function(f){var k=function(d,b,n){var a=function(a){var c=b.get_style_attributes();0>c.indexOf(a)&&(c.push(a),"left"===a?(a=b.get_frontside_element(),$(a).on("drag",function(a){var c=b.get_backside_element(),
d=b.get_frontside_element();c&&d&&$(c).find(".toontalk-element-left-attribute-input").val(a.originalEvent.clientX)})):"top"===a&&(a=b.get_frontside_element(),$(a).on("drag",function(a){var c=b.get_backside_element(),d=b.get_frontside_element();c&&d&&$(c).find(".toontalk-element-top-attribute-input").val(a.originalEvent.clientY)})))},g=function(g,r){var q=0<=b.get_style_attributes().indexOf(g),p=f.UTILITIES.create_check_box(q,"toontalk-style-attribute-check-box",g,"Click to add or remove the '"+g+
"' style attribute from the backside of this element."),q=f.UTILITIES.create_anchor_element(" (?)",("transform-origin-x"===g||"transform-origin-y"===g?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin#":c(g)?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform#":"http://www.w3.org/community/webed/wiki/CSS/Properties/")+g),w=document.createElement("li");p.container.appendChild(q);p.button.addEventListener("click",function(c){if(p.button.checked)a(g);else{c=b.get_style_attributes();
var f=c.indexOf(g);0<=f&&(c.splice(f,1),k(d,b,n))}l(n,b)});w.appendChild(p.container);r.appendChild(w)},r=function(a,b){var c,d;"string"===typeof a?g(a,b):a.label?(c=document.createElement("h3"),c.textContent=a.label,d=document.createElement("ul"),b.appendChild(c),b.appendChild(d),r(a.sub_menus,d)):a.forEach(function(a){r(a,b)})};$(d).is(".ui-accordion")&&$(d).accordion("destroy");$(d).empty();r([{label:"Geometry attributes",sub_menus:["left","top","width","height","z-index"]},{label:"Color attributes",
sub_menus:["background-color","color","opacity"]},{label:"Font attributes",sub_menus:["font-size","font-weight"]},{label:"Transformations",sub_menus:["rotate","skewX","skewY","transform-origin-x","transform-origin-y"]}],d);$(d).accordion({active:0,heightStyle:"content"});return d},l=function(c,b){var d=b.get_style_attributes();b.get_frontside_element();var a,g,k;$(c).empty();d.forEach(function(d){var l=b.get_attribute(d),n="toontalk-element-attribute-input toontalk-element-"+d+"-attribute-input";
a=document.createElement("tr");c.appendChild(a);g=document.createElement("td");a.appendChild(g);g.appendChild(f.UTILITIES.create_text_element(d));g=document.createElement("td");a.appendChild(g);k=f.UTILITIES.create_text_input(l,n,void 0,"Click here to edit the '"+d+"' style attribute of this element.");k.button.name=d;k.button.addEventListener("input",function(a){b.set_attribute(d,this.value.trim(),!0)});f.UTILITIES.can_receive_drops($(k));g.appendChild(k.container)});return c},d=function(c){var b=
$("<button>Add or remove style attributes</button>").button();b.addClass("toontalk-show-attributes-chooser-button");b.click(function(d){$(c).is(":visible")?($(c).hide(),b.button("option","label","Add or remove style attributes"),b.attr("title","Click to add widgets for reading and writing style attributes of this element.")):($(c).show(),b.button("option","label","Hide style attributes list"),b.attr("title","Click to hide the list of attributes that can be added or removed."))});b.attr("title","Click to add widgets for reading and writing style attributes of this element.");
return b.get(0)};return{create:function(c){var b=f.backside.create(c),n=b.get_element(),a=c.get_HTML(),g=f.UTILITIES.create_text_area(a,"toontalk-html-input","","Type here to edit the html."),r=document.createElement("table"),h=document.createElement("div"),a=d(h),s=f.backside.create_standard_buttons(b,c),q=function(a){a=g.button.value.trim();c.get_frontside_element();c.set_HTML(a)&&f.robot.in_training&&f.robot.in_training.edited(c,{setter_name:"set_HTML",argument_1:a,toString:"change the HTML to "+
a+" of",button_selector:".toontalk-html-input"})};b.get_attributes_chooser=function(){return h};k(h,c,r);$(g.container).resizable();$(g.container).css({width:"100%"});$(g.button).css({width:"100%"});g.button.addEventListener("change",q);g.button.addEventListener("mouseout",q);n.appendChild(g.container);l(r,c);n.appendChild(h);n.appendChild(a);n.appendChild(r);n.appendChild(s);$(h).hide();$(h).addClass("toontalk-attributes-chooser");b.update_display=function(){$(g.button).val(c.get_HTML());l(r,c);
$(h).is(":visible")&&k(h,c,r);this.display_updated()};$(n).find(".toontalk-hide-backside-button").click(function(a){$(h).hide()});return b}}}(window.TOONTALK)})();window.TOONTALK.DISPLAY_UPDATES=function(c){var f=[],k=0;return{pending_update:function(c){c.update_display&&(0<=f.indexOf(c)||f.push(c))},update_display:function(){var k=f;f=[];0!==k.length&&k.forEach(function(d){var e=d.get_frontside_element&&d.get_frontside_element();d.update_display();$(e).is(".toontalk-top-level-resource, .ui-resizable, .toontalk-bird, .toontalk-nest, .toontalk-robot, .toontalk-widget, .toontalk-held-by-robot")||setTimeout(function(){c.UTILITIES.make_resizable($(e),d)},1)})},
run_cycle_is_over:function(){var c=(new Date).getTime();20<=c-k&&(this.update_display(),k=c)}}}(window.TOONTALK);window.TOONTALK.actions=function(c){return{create:function(f){var k=Object.create(this),l=[];f||(f=[]);k.copy=function(){return c.actions.create(c.UTILITIES.copy_array(f))};k.get_steps=function(){return f};k.initialise_steps=function(c){f=c};k.is_empty=function(){return 0===f.length};k.reset_steps=function(){f=[];this.reset_newly_created_widgets()};k.reset_newly_created_widgets=function(){l=[]};k.add_step=function(c,e){f.push(c);e&&this.add_newly_created_widget(e)};k.add_newly_created_widget_if_new=
function(c){0<=l.indexOf(c)||this.add_newly_created_widget(c)};k.add_newly_created_widget=function(d){c.debugging&&0<=l.indexOf(d)?console.log("add_newly_created_widget called with not new widget."):l.push(d)};k.get_newly_created_widgets=function(){return l};k.get_path_to=function(d){var e,b;l.some(function(f,a){if(f===d)return e=c.newly_created_widgets_path.create(a),!0;if(f.get_path_to&&(b=f.get_path_to(d)))return e=c.newly_created_widgets_path.create(a),e.next=b,!0});return e};k.dereference=function(c){return l[c]};
return k},run_unwatched:function(c,k,l,d){this.get_steps().forEach(function(e){e.run_unwatched(c,k,d)});d.get_run_once()||d.get_first_in_team().run(c,k,l)},run_watched:function(f,k,l,d){var e=this.get_steps(),b=d.get_frontside_element(),n=$(b).position(),a=function(){$(b).removeClass("toontalk-side-animating");d.set_animating(!1);d.get_run_once()||d.get_first_in_team().run(f,k,l);d.render()},g=function(r){var h=function(a){e[r].do_step(a,f,k,d);d.get_thing_in_hand()&&d.render();setTimeout(function(){if(d.visible())g(r+
1);else{for(r+=1;r<e.length;r++)e[r].run_unwatched(f,k,d);d.get_run_once()||d.get_first_in_team().run(f,k,l)}},500)};r<e.length?e[r].run_watched(f,k,d,h):($(b).addClass("toontalk-side-animating"),b.style.left=n.left+"px",b.style.top=n.top+"px",c.UTILITIES.add_one_shot_event_handler(b,"transitionend",2500,a))}.bind(this);if(d.get_animating())return!0;d.set_animating(!0);g(0);return!0},toString:function(){var c="",k=this.get_steps();k.forEach(function(l,d){c+=l.toString();c=d===k.length-2?c+" and \n":
d<k.length-2?c+", \n":c+"."});return c},get_json:function(){return{type:"body",steps:c.UTILITIES.get_json_of_array(this.get_steps())}},create_from_json:function(f){var k=c.actions.create();k.initialise_steps(c.UTILITIES.create_array_from_json(f.steps,{body:k}));return k}}}(window.TOONTALK);
window.TOONTALK.newly_created_widgets_path=function(c){return{create:function(c){return{dereference:function(k,l,d){return d.get_body().dereference(c)},toString:function(){var k;switch(c){case 0:k="first";break;case 1:k="second";break;case 2:k="third";break;default:k=c+1+"th"}return"the "+k+" widget he created"},get_json:function(){return{type:"newly_created_widgets_path",index:c}}}},create_from_json:function(f){return c.newly_created_widgets_path.create(f.index)}}}(window.TOONTALK);window.TOONTALK.robot_action=function(c){var f={copy:function(b,c,a,d){d.add_newly_created_widget(b.copy());return!0},"pick up":function(b,c,a,d){d.set_thing_in_hand(b);return!0},"pick up a copy of":function(b,c,a,d){b=b.copy();d.add_newly_created_widget(b);d.set_thing_in_hand(b);return!0},"drop it on":function(b,c,a,d){if(b){if(c=d.get_thing_in_hand()){if(c.drop_on)b instanceof jQuery?(c=c.get_frontside_element(),b.append(c),d.set_thing_in_hand(void 0)):(b.visible&&b.visible()&&b.render(),d.set_thing_in_hand(void 0),
c.drop_on(b,!1,void 0,d),d.rerender());else return console.log("Thing in robot's hand doesn't handle 'drop_on': "+c.toString()+". Robot that "+d.toString()),!1;return!0}console.log("The robot that '"+d.toString()+"' is executing drop_on but has nothing in its hand.")}return!1},remove:function(b,c,a,d){b.remove();return!0},edit:function(b,c,a,d,e){if(b[e.setter_name])return e.argument_2?b[e.setter_name].call(b,e.argument_1,e.argument_2,b.visible()):b[e.setter_name].call(b,e.argument_1,b.visible()),
!0;console.log(b+" can be edited.")},set_erased:function(b,c,a,d,e){b.set_erased(e.erased);return!0},"add to the top-level backside":function(b,c,a,d,e){d.visible()||(a=b.get_frontside_element(!0),c=$(c.get_frontside_element()).position(),d=$(".toontalk-top-level-backside").get(0),$(a).css({left:c.left,top:c.top}),d.appendChild(a),$(d).data("owner").add_backside_widget(b),b.animate_to_element(d))}},k=function(b,c,a,d,e){c=d.get_thing_in_hand();d.get_frontside_element();var f,k;if(b instanceof jQuery)b=
b.data("owner");else{if(b.get_frontside_element)f=b.get_frontside_element();else if(b.get_side_element)f=b.get_side_element();else{console.log("Unable to find element corresponding to widget "+b);e();return}k=$(f).width()/2;f=$(f).height()/-2}d.animate_to_widget(b,e,.25,k,f);c&&d.render()},l=function(b,c){var a=b.get_backside_element(!0);return $(a).find(c).get(0)},d=function(b,c,a,d,e,f){var k=l(b,f),q=d.get_frontside_element(),p=k&&$(k).is(":visible"),w=function(){e();$(k).addClass("ui-state-active");
setTimeout(function(){$(k).removeClass("ui-state-active");!p&&b.get_backside()&&b.get_backside().hide_backside()},500)};c=function(){d.animate_to_element(k,w,.25,0,-$(q).height())};!p&&b.open_backside?b.open_backside(c):c()},e={copy:function(b,c,a,e,f){d(b,c,a,e,function(){f();b.add_copy_to_container(e.get_recently_created_widget())},".toontalk-copy-backside-button")},"pick up":function(b,c,a,d,e){var f=b.get_frontside_element();$(f).css({width:f.offsetWidth+"px",height:f.offsetHeight+"px"});k(b,
c,a,d,e)},"pick up a copy of":k,"drop it on":function(b,d,a,e,f){var h=e.get_thing_in_hand(),l;h?(l=$(h.get_frontside_element()),k(b,d,a,e,function(){var a=l.offset();l.removeClass("toontalk-held-by-robot");f();l.is(":visible")&&c.UTILITIES.set_absolute_position(l,a)})):(console.log("Expected "+e+" to have thing_in_hand."),k(b,d,a,e,f))},remove:function(b,c,a,e,f){d(b,c,a,e,f,".toontalk-remove-backside-button")},edit:function(b,c,a,e,f,h){d(b,c,a,e,function(){b.get_backside()&&b.get_backside().update_display();
f()},h.button_selector)},"add to the top-level backside":function(b,c,a,d,e){e()}};return{create:function(b,d,a){var g=Object.create(this),k=f[d],h=e[d];h||(h=function(a,b,c,d,e,f){setTimeout(function(){e(a)},3E3)});b||console.log("path undefined in "+d+" action");k||console.log("no run_function for "+d);g.run_unwatched=function(d,e,f){var g=c.path.dereference_path(b,d,e,f);return g?k(g,d,e,f,a):(console.log("Unable to dereference path: "+c.path.toString(b)+" in context: "+d.toString()),!1)};g.do_step=
function(b,c,d,e){return k(b,c,d,e,a)};g.run_watched=function(d,e,f,g){var k=c.path.dereference_path(b,d,e,f);return k?h(k,d,e,f,function(){g(k)},a):(console.log("Unable to dereference the path: "+c.path.toString(b)+" in context: "+d.toString()),!1)};g.toString=function(){return(a&&a.toString?a.toString:d)+" "+c.path.toString(b)};g.get_json=function(){return{type:"robot_action",action_name:d,path:c.path.get_json(b),additional_info:a}};return g},create_from_json:function(b,d,a){return b.additional_info?
c.robot_action.create(c.path.create_from_json(b.path,a),b.action_name,b.additional_info):c.robot_action.create(c.path.create_from_json(b.path,a),b.action_name)}}}(window.TOONTALK);window.TOONTALK.queue=function(c){return{create:function(){var c=Object.create(this);c.to_run=[];return c},enqueue:function(c){return this.to_run.push(c)},maximum_run:1,paused:!1,run:function(f,k){for(var l,d=(new Date).getTime()+this.maximum_run;0<this.to_run.length&&!this.paused;){l=(new Date).getTime();if(l>=d)break;l=this.to_run.shift();l.robot.run_actions(l.context,l.top_level_context,l.queue);if(f&&(f-=1,0===f)){k&&k();break}}c.DISPLAY_UPDATES.run_cycle_is_over();setTimeout(function(){this.run(f,
k)}.bind(this),0)}}}(window.TOONTALK);window.TOONTALK.QUEUE=window.TOONTALK.queue.create();window.TOONTALK.path=function(c){return{get_path_to:function(f,k){var l=k.get_context(),d=k.get_body(),e,b;if(l===f)return c.path.to_entire_context();b=f.get_type_name();if("top-level"===b)return c.path.top_level_backside;if(e=d.get_path_to(f,k))return e;if("element attribute"===b)return c.element.create_attribute_path(f,k);if(l.get_path_to&&(d=l.get_path_to(f,k)))return e=c.path.to_entire_context(),e.next=d,e;l.backside_widgets.some(function(b){b=b.widget;var a;if(b===f)return e=c.path.get_path_to_backside_widget_of_context(b.get_type_name()),
k.add_to_backside_conditions(b),!0;if(b.get_path_to&&(a=b.get_path_to(f,k)))return e=c.path.get_path_to_backside_widget_of_context(b.get_type_name()),e.next=a,k.add_to_backside_conditions(b),!0});return e?e:c.path.get_path_to_resource(f.copy())},dereference_path:function(c,k,l,d){return c?c.dereference?c.dereference(k,l,d):k.dereference(c,l,d):k},toString:function(f){return f.next?c.path.toString(f.next)+"of "+f.toString():f.toString()},get_json:function(f){var k=f.get_json();f.next&&(k.next_path=
c.path.get_json(f.next));return k},create_from_json:function(f,k){var l=c.UTILITIES.create_from_json(f,k),d;f.next_path&&(d=c.UTILITIES.create_from_json(f.next_path,k),l.next=d);return l},to_entire_context:function(){return{dereference:function(c,k,l){if(this.next){if(c.dereference)return c.dereference(this.next,l);console.log("Expected context to support dereference.")}return c},toString:function(){return"what he's working on"},get_json:function(){return{type:"path.to_entire_context"}}}},entire_context_create_from_json:function(){return c.path.to_entire_context()},
get_path_to_resource:function(f){f.widget&&(f=f.widget);return{dereference:function(k,l,d){k=f.copy();var e,b;d.add_newly_created_widget(k);d.visible()&&!f.visible()&&(e=c.UTILITIES.find_resource_equal_to_widget(f))&&(b=k.get_frontside_element(),setTimeout(function(){$(b).css({width:e.offsetWidth,height:e.offsetHeight})},0));return k},toString:function(){return c.UTILITIES.add_a_or_an(f.toString())},get_json:function(){return{type:"path.to_resource",resource:c.path.get_json(f)}}}},path_to_resource_create_from_json:function(f,
k){return c.path.get_path_to_resource(c.UTILITIES.create_from_json(f.resource,k))},get_path_to_backside_widget_of_context:function(c){return{dereference:function(k,l,d){var e;k.backside_widgets.some(function(b){if(b.widget.get_type_name()===c)return e=b.widget,!0});if(e){if(this.next){if(e.dereference)return e.dereference(this.next,d);console.log("Expected "+e+" to support dereference.")}return e}},toString:function(){return"the "+c+" on the back of what he's working on"},get_json:function(){return{type:"path.to_backside_widget_of_context",
type_name:c}}}},path_to_backside_widget_of_context_create_from_json:function(f){return c.path.get_path_to_backside_widget_of_context(f.type_name)},top_level_backside:{dereference:function(){return $(".toontalk-top-level-backside")},toString:function(){return"the top-level backside"},get_json:function(){return{type:"path.top_level_backside"}},create_from_json:function(){return c.path.top_level_backside}}}}(window.TOONTALK);window.TOONTALK.UTILITIES=function(c){var f,k={box:c.box.create_from_json,number:c.number.create_from_json,robot:c.robot.create_from_json,element:c.element.create_from_json,bird:c.bird.create_from_json,nest:c.nest.create_from_json,body:c.actions.create_from_json,robot_action:c.robot_action.create_from_json,box_path:c.box.path.create_from_json,"path.to_entire_context":c.path.entire_context_create_from_json,"path.top_level_backside":c.path.top_level_backside.create_from_json,"path.to_resource":c.path.path_to_resource_create_from_json,
newly_created_widgets_path:c.newly_created_widgets_path.create_from_json,"path.to_backside_widget_of_context":c.path.path_to_backside_widget_of_context_create_from_json,path_to_style_attribute:c.element.create_path_from_json,top_level:c.widget.top_level_create_from_json},l=(new Date).getTime(),d=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(!(0>b||0>c))return a.substring(b,c+1)},e=function(a,b,c,d,f,k,l,n,D,v){var u=!0,z,A;if(a.is(".toontalk-backside")){if("top-level"===c.get_type_name()){z=
l.semantic.backside_widgets;A=l.shared_widgets;c.get_backside_widgets().forEach(function(b,c){var g=b.widget.copy(),n,r,u,v,w,D,ga;n=0<=z[c].widget.shared_widget_index?A[z[c].widget.shared_widget_index].view:z[c].widget.view;b.is_backside?(r=g.get_backside_element(!0),u=n.backside_left,v=n.backside_top,w=n.backside_width,D=n.backside_height):(r=g.get_frontside_element(!0),u=n.frontside_left,v=n.frontside_top,w=n.frontside_width,D=n.frontside_height);e(a,$(r),g,d,f,k,l,0,0,b.is_backside);ga=$(r).position();
$(r).css({left:ga.left+u,top:ga.top+v,width:w,height:D});b.is_backside&&(g.backside_geometry=n.backside_geometry,g.apply_backside_geometry())}.bind(this));return}c?d.get_backside().widget_dropped_on_me(c,v,k):console.log("No source_widget");n||(n=0);D||(D=0);b.css({left:k.originalEvent.pageX-(f.left+n),top:k.originalEvent.pageY-(f.top+D)});l&&l.semantic.running&&c.set_running(!0)}else if(a.is(".toontalk-drop-area"))b.addClass("toontalk-widget-in-drop_area"),a.append(b.get(0)),b.is(".toontalk-robot")&&
a.data("drop_area_owner").set_next_robot(b.data("owner")),u=!0;else if(d)if(c.drop_on&&c.drop_on(d,v,k))u=!0;else if(d.widget_dropped_on_me&&d.widget_dropped_on_me(c,v,k))u=!0;else{if(n=a.closest(".toontalk-backside"),0<n.length&&(d=n.data("owner")))d.get_backside().widget_dropped_on_me(c,v,k),b.css({left:a.position().left,top:a.position().top+a.height()}),u=!0}else{console.log("target element has no 'owner'");return}d&&!u&&d.widget_dropped_on_me&&d.widget_dropped_on_me(c,v,k)},b=function(a,b,f,h,
k){var l=new FileReader,n=0===a.type.indexOf("image"),w,D;l.onloadend=function(){if(n)w=c.element.create("<img src='"+l.result+"' alt='"+a.name+"'/>");else{if(D=d(l.result))try{w=c.UTILITIES.create_from_json(JSON.parse(D))}catch(v){}w||(w=c.element.create(l.result))}e(b,$(w.get_frontside_element(!0)),w,f,h,k)};n?l.readAsDataURL(a):l.readAsText(a)},n=function(){f&&(f.removeClass("toontalk-being-dragged"),f.find("*").removeClass("toontalk-ignore-events"),f=void 0)};$(document).ready(function(){var a=
!1;c.debugging=!0;$(".toontalk-json").each(function(b,d){var e=d.textContent,f,k;e&&(f=JSON.parse(e),(k=c.UTILITIES.create_from_json(f))?(d.textContent="","top-level"===k.get_type_name()?((e=window.localStorage.getItem(c.UTILITIES.current_URL()))&&0>window.location.href.indexOf("reset=1")&&(f=JSON.parse(e),k=c.UTILITIES.create_from_json(f)),e=k.get_backside(!0),e=e.get_element(),$(d).replaceWith(e),$(e).css({width:f.view.backside_width,height:f.view.backside_height,"background-color":f.view.background_color,
"border-width":f.view.border_width}),a=!0):($(d).addClass("toontalk-top-level-resource"),e=k.get_frontside_element(),$(e).addClass("toontalk-top-level-resource"),d.appendChild(e)),setTimeout(function(){k.update_display();f.semantic.running&&k.set_running(!0)},1)):console.log("Could not recreate a widget from this JSON: "+e))});a||$(document).click(function(){$(".toontalk-frontside").each(function(a,b){var c=$(b).data("owner");c&&c.set_running&&c.set_running(!1)})});c.QUEUE.run();window.addEventListener("beforeunload",
function(a){c.UTILITIES.backup_all(!0)})});return{create_from_json:function(a,b){var d,e,f,l,n;if(a){a.shared_widgets&&(b||(b={}),b.json_of_shared_widgets=a.shared_widgets,b.shared_widgets=[]);if(a.widget)return{widget:c.UTILITIES.create_from_json(a.widget,b),is_backside:a.is_backside};if(0<=a.shared_widget_index){if(d=b.shared_widgets[a.shared_widget_index])return d;d=b.json_of_shared_widgets[a.shared_widget_index];d=c.UTILITIES.create_from_json(d,b);return b.shared_widgets[a.shared_widget_index]=
d}(l=a.semantic)||(l=a);f=a.view;if(k[l.type]){b||(b={});b.json_view=f;if(d=k[l.type](l,b)){l.erased&&(c.widget.erasable(d),d.set_erased(l.erased));l.infinite_stack&&d.set_infinite_stack(l.infinite_stack);if(f&&f.frontside_width)if(e=a.view.backside?d.get_backside(!0).get_element():d.get_frontside_element(),n={width:f.frontside_width,height:f.frontside_height},"element"===l.type)d.on_update_display(function(){$(e).css(n);$(e).find("img").css(n)});else $(e).css(n);f&&f.backside_geometry&&(d.backside_geometry=
f.backside_geometry);l.backside_widgets&&(f=this.create_array_from_json(l.backside_widgets,b),d.set_backside_widget_sides(f,l.backside_widgets.map(function(a){return 0<=a.widget.shared_widget_index?b.json_of_shared_widgets[a.widget.shared_widget_index].view:a.widget.view})))}return d}console.log("json type '"+l.type+"' not yet supported.")}},create_array_from_json:function(a,b){var d=[];a.forEach(function(a,e){d[e]=a?c.UTILITIES.create_from_json(a,b):a});return d},get_json_of_array:function(a,b){var d=
[];a.forEach(function(e,f){e&&(e.widget?e.widget.get_json?d[f]={widget:c.UTILITIES.get_json(e.widget,b),is_backside:e.is_backside}:console.log("No get_json for "+a[i].toString()):d[f]=e.get_type_name?c.UTILITIES.get_json(e,b):e.get_json())});return d},get_json_top_level:function(a){var b={widgets_encountered:[],shared_widgets:[],json_of_widgets_encountered:[]},d=a.add_to_json(a.get_json(b),b);0<b.shared_widgets.length&&(d.shared_widgets=b.shared_widgets.map(function(a,e){var f=b.widgets_encountered.indexOf(a),
f=b.json_of_widgets_encountered[f];c.UTILITIES.tree_replace_once(d,f,{shared_widget_index:e});return f}));return d},get_json:function(a,b){var c=b.shared_widgets.indexOf(a),d;if(0<=c)return{shared_widget_index:c};c=b.widgets_encountered.indexOf(a);if(0<=c)return c=b.shared_widgets.push(a)-1,{shared_widget_index:c};c=b.widgets_encountered.push(a)-1;d=a.get_json(b);d=a.add_to_json(d,b);return b.json_of_widgets_encountered[c]=d},tree_replace_once:function(a,b,c){var d,e;for(e in a)if(a.hasOwnProperty(e)){d=
a[e];if(d===b)return a[e]=c,!0;if(!(0<=["string","number","function"].indexOf(typeof d))&&this.tree_replace_once(d,b,c))return!0}return!1},copy_widgets:function(a,b){var c=[],d;for(d=0;d<a.length;d++)c[d]=a[d].copy(b);return c},copy_widget_sides:function(a,b){return a.map(function(a){return{widget:a.widget.copy(b),is_backside:a.is_backside}})},copy_array:function(a){return a.slice()},generate_unique_id:function(){l+=1;return"toontalk_id_"+l},get_style_property:function(a,b){if(a.currentStyle)return a.currentStyle[b];
if(window.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},get_style_numeric_property:function(a,b){var c=this.get_style_property(a,b),d;return"string"===typeof c?(d=c.indexOf("px"),0<=d&&(c=c.substring(0,d)),parseInt(c,10)):c},data_transfer_json_object:function(a){var b;if(a.originalEvent.dataTransfer){try{b=a.originalEvent.dataTransfer.getData("text/html")}catch(e){b=a.originalEvent.dataTransfer.getData("text")}if(!b||b.match(/[\u3400-\u9FBF]/))b=a.originalEvent.dataTransfer.getData("text");
if(b){a=d(b);if(!a)return c.UTILITIES.get_json_top_level(c.element.create(b));try{return JSON.parse(a)}catch(f){console.log("Exception parsing "+a+"\n"+f.toString())}}else console.log("No data in dataTransfer in drop.")}else console.log("no dataTransfer in drop event")},drag_and_drop:function(a){c.UTILITIES.draggable(a);c.UTILITIES.can_receive_drops(a)},draggable:function(a){a.attr("draggable",!0);a.on("dragstart",function(b){var d=$(b.originalEvent.srcElement).closest(".toontalk-side"),e,k,l;0<b.originalEvent.dataTransfer.getData("text/plain").length||
(f=d||a,k=f.data("owner"),k||(k=a.data("owner"),f=a),e=f.get(0).getBoundingClientRect(),l=f.is(".toontalk-top-level-resource"),b.originalEvent.dataTransfer&&k.get_json&&(b.originalEvent.dataTransfer.effectAllowed=l?"copy":"move",d=c.UTILITIES.get_json_top_level(k),d.view.drag_x_offset=b.originalEvent.clientX-e.left,d.view.drag_y_offset=b.originalEvent.clientY-e.top,!d.view.frontside_width&&f.parent().is(".toontalk-backside")&&(d.view.frontside_width=f.width(),d.view.frontside_height=f.height()),f.is(".toontalk-backside")&&
(d.view.backside=!0),a.data("json",d),e="<div class='toontalk-json'>"+JSON.stringify(d,null,"  ")+"</div>",b.originalEvent.dataTransfer.setData("text/html",e),b.originalEvent.dataTransfer.setData("text",e),k.drag_started(d,l)),a.addClass("toontalk-being-dragged"),b.stopPropagation())});a.on("dragend",function(a){f||(f=$(a.originalEvent.srcElement).closest(".toontalk-side"));if(f.is(".toontalk-frontside"))if(f.parent().is(".toontalk-backside")){var b=f.data("json");b&&(f.data("json",""),f.css({width:b.view.frontside_width,
height:b.view.frontside_height}))}else f.parent().is(".toontalk-top-level-resource, .toontalk-drop-area")||f.css({width:"100%",height:"100%"});n();a.stopPropagation()})},can_receive_drops:function(a){a.on("dragover",function(a){a.preventDefault();return!1});a.on("drop",function(d){var k,h,l,q,p,w,D,v,u,z,A=c.UTILITIES.data_transfer_json_object(d);d.preventDefault();a.find("*").removeClass("toontalk-ignore-events");k=f;n();if(k||A||d.originalEvent.dataTransfer.files){if($(d.target).is(".toontalk-drop-area-instructions"))l=
$(d.target).parent();else if($(d.target).is(".toontalk-element-attribute-input")){if(l=$(d.target).closest(".toontalk-side"),q=l.data("owner")){h=k?k.data("owner"):c.UTILITIES.create_from_json(A);c.UTILITIES.restore_resource(k,h);q.dropped_on_style_attribute(h,d.target.name);d.stopPropagation();return}}else l=$(d.target).is(".toontalk-drop-area")?$(d.target):$(d.target).closest(".toontalk-side");if(0!==l.length){D=l.offset();l.removeClass("toontalk-highlight");if(k&&0<k.length&&(k.get(0)===l.get(0)||
jQuery.contains(k.get(0),l.get(0)))){if(k.is(".toontalk-top-level-backside"))return;l.hide();q=document.elementFromPoint(d.originalEvent.pageX,d.originalEvent.pageY);l.show();q&&(l=$(q).closest(".toontalk-side"),D=l.offset())}q=l.data("owner");A&&A.view&&A.view.drag_x_offset?(p=A.view.drag_x_offset,w=A.view.drag_y_offset):w=p=0;if(k&&0<k.length){if(k.get(0)===l.get(0)||jQuery.contains(k.get(0),l.get(0))){k.css({left:k.get(0).offsetLeft+(d.originalEvent.layerX-p),top:k.get(0).offsetTop+(d.originalEvent.layerY-
w)});d.stopPropagation();return}v=k.is(".toontalk-backside");h=k.data("owner");k.parent().is(".toontalk-drop-area")?(k.removeClass("toontalk-widget-in-drop_area"),k.parent().data("drop_area_owner").set_next_robot(void 0)):(u=k.parents(".toontalk-side:first"),(u=u.data("owner"))?!v&&h.get_infinite_stack()?(h=h.copy(),u=k.width(),z=k.height(),k=$(h.get_frontside_element(!0)),l.is(".toontalk-backside")&&k.css({width:A.view.frontside_width||u,height:A.view.frontside_height||z})):u.removed_from_container&&
u.removed_from_container(h,v,d):c.UTILITIES.restore_resource(k,h),c.robot.in_training&&c.robot.in_training.add_newly_created_widget_if_new(h))}else{if(0<d.originalEvent.dataTransfer.files.length){for(k=0;k<d.originalEvent.dataTransfer.files.length;k++)b(d.originalEvent.dataTransfer.files[k],l,q,D,d);d.stopPropagation();return}h=c.UTILITIES.create_from_json(A);if(!h){console.log("Unable to construct a ToonTalk widget from the JSON.");d.stopPropagation();return}(v=A.view.backside)?(k=$(h.get_backside_element()),
k.css({width:A.view.backside_width,height:A.view.backside_height,"background-color":A.view.background_color,"border-width":json.view.border_width}),h.apply_backside_geometry()):k=$(h.get_frontside_element())}h!==q&&e(l,k,h,q,D,d,A,p,w,v);d.stopPropagation()}}else d.originalEvent.dataTransfer?console.log("Drop failed since unable to parse as JSON."):console.log("Drop failed since there is no event.originalEvent.dataTransfer"),d.stopPropagation()});a.on("dragenter",function(b){a.is(".toontalk-top-level-backside")||
a.is(".toontalk-top-level-resource")||a.is(".toontalk-being-dragged")||(a.addClass("toontalk-highlight"),a.is(".toontalk-backside")||"box"===a.data("owner").get_type_name()||a.find("*").addClass("toontalk-ignore-events"));b.stopPropagation()});a.on("dragleave",function(b){a.is(".toontalk-top-level-backside")||a.is(".toontalk-top-level-resource")||a.removeClass("toontalk-highlight");b.stopPropagation()})},create_drop_area:function(a){var b=$(document.createElement("div")),d=document.createElement("div");
d.innerHTML=a;$(d).addClass("toontalk-drop-area-instructions ui-widget");b.addClass("toontalk-drop-area");b.append(d);c.UTILITIES.can_receive_drops(b);return b},set_absolute_position:function(a,b){for(var c,d=a.parent();!d.is("html");)c=d.position(),b.left-=c.left,b.top-=c.top,d=d.parent();a.css({left:b.left,top:b.top,position:"absolute"})},restore_resource:function(a,b){var d,e;a.is(".toontalk-top-level-resource")&&(d=b.copy(),e=d.get_frontside_element(),$(e).css({width:a.width(),height:a.height()}),
a.removeClass("toontalk-top-level-resource"),$(e).addClass("toontalk-top-level-resource"),a.get(0).parentElement.appendChild(e),c.DISPLAY_UPDATES.pending_update(d))},find_resource_equal_to_widget:function(a){var b;$(".toontalk-top-level-resource").each(function(c,d){var e=$(d).children(":first"),f=e.data("owner");if(f&&a.equals(f))return b=e.get(0),!1});return b},set_position_is_absolute:function(a,b,c){b?(c=$(a).position(),b=c.left,c=c.top,$(a).css({left:b,top:c,position:"absolute"})):a.style.position=
"static"},cardinal:function(a){switch(a){case 0:return"first";case 1:return"second";case 2:return"third";default:return a+"th"}},add_one_shot_event_handler:function(a,b,d,e){var f=!1,k=function(c){f=!0;e&&e();a.removeEventListener(b,k)};a.addEventListener(b,k);setTimeout(function(){f||(c.debugging&&console.log("Timed out after "+d+"ms while waiting for "+b),k())},d)},animate_to_absolute_position:function(a,b,d,e,f){var k=$(a).offset(),l=$(a).position(),n=c.UTILITIES.distance(b,k);e||(e=.5);e=Math.round(n/
e);$(a).addClass("toontalk-side-animating");a.style.transitionDuration=e+"ms";a.style.left=l.left+(b.left-k.left)+"px";a.style.top=l.top+(b.top-k.top)+"px";f||c.UTILITIES.add_one_shot_event_handler(a,"transitionend",e+500,function(){$(a).removeClass("toontalk-side-animating");a.style.transitionDuration=""});c.UTILITIES.add_one_shot_event_handler(a,"transitionend",e+500,d)},distance:function(a,b){var c=a.left-b.left,d=a.top-b.top;return Math.sqrt(c*c+d*d)},highlight_element:function(a,b){b||(b=1E3);
$(a).addClass("toontalk-highlight");setTimeout(function(){$(a).removeClass("toontalk-highlight")},b)},cursor_of_image:function(a){var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b)+".32x32"+a.substring(b):a},check_radio_button:function(a){$(a.button).prop("checked",!0);$(a.label).addClass("ui-state-active")},create_button_set:function(){var a=document.createElement("div"),b,c;for(b=0;b<arguments.length;b++)if(0<=arguments[b].length)for(c=0;c<arguments[b].length;c++)a.appendChild(arguments[b][c]);
else a.appendChild(arguments[b]);$(a).buttonset();return a},create_text_element:function(a){var b=document.createElement("div");b.textContent=a;$(b).addClass("ui-widget");return b},create_anchor_element:function(a,b){var c=document.createElement("a");c.innerHTML=a;c.href=b;c.target="_blank";return c},create_text_input:function(a,b,d,e){var f=document.createElement("input");f.type="text";f.className=b;f.value=a;f.title=e;d?(a=document.createElement("label"),a.innerHTML=d,f.id=c.UTILITIES.generate_unique_id(),
a.htmlFor=f.id,d=c.UTILITIES.create_horizontal_table(a,f),$(a).addClass("ui-widget")):d=f;$(f).button().addClass("toontalk-text-input");$(f).css({"background-color":"white"});return{container:d,button:f}},create_text_area:function(a,b,d,e){var f=document.createElement("textarea");f.className=b;f.value=a;f.title=e;a=document.createElement("label");a.innerHTML=d;f.id=c.UTILITIES.generate_unique_id();a.htmlFor=f.id;d=c.UTILITIES.create_horizontal_table(a,f);$(f).button().addClass("toontalk-text-text_area");
$(f).css({background:"white"});$(a).addClass("ui-widget");return{container:d,button:f}},create_radio_button:function(a,b,d,e,f){var k=document.createElement("div"),l=document.createElement("input"),n=document.createElement("label");l.type="radio";l.className=d;l.name=a;l.value=b;n.innerHTML=e;l.id=c.UTILITIES.generate_unique_id();n.htmlFor=l.id;k.appendChild(l);k.appendChild(n);k.title=f;$(l).button();return{container:k,button:l,label:n}},create_check_box:function(a,b,d,e){var f=document.createElement("div"),
k=document.createElement("input"),l=document.createElement("label");k.type="checkbox";k.className=b;k.checked=a;l.innerHTML=d;k.id=c.UTILITIES.generate_unique_id();l.htmlFor=k.id;$(l).addClass("ui-widget");f.appendChild(k);f.appendChild(l);f.title=e;return{container:f,button:k,label:l}},create_horizontal_table:function(){var a=document.createElement("table"),b,c,d;c=document.createElement("tr");a.appendChild(c);for(b=0;b<arguments.length;b++)d=document.createElement("td"),c.appendChild(d),d.appendChild(arguments[b]);
return a},create_vertical_table:function(){var a=document.createElement("table"),b,c,d;for(b=0;b<arguments.length;b++)c=document.createElement("tr"),a.appendChild(c),d=document.createElement("td"),c.appendChild(d),d.appendChild(arguments[b]);return a},selected_radio_button:function(){var a;for(a=0;a<arguments.length;a++)if(arguments[a].checked)return arguments[a]},create_image:function(a,b){var c=document.createElement("img"),d;c.src=a;b&&$(c).addClass(b);0===a.indexOf("images/")&&(d=function(b){c.removeEventListener("error",
d);c.src="http://toontalk.github.io/ToonTalk/"+a},c.addEventListener("error",d));return c},get_dragee:function(){return f},add_a_or_an:function(a,b){var c=a.charAt(0);return 0>"aeiou".indexOf(c)?b?"A "+a:"a "+a:b?"An "+a:"an "+a},maximum_string_length:function(a,b){var c;if(a.length<=b)return a;c=a.substring(0,Math.round(.75*b));return c+" ... "+a.substring(a.length-(b-c.length))},backup_all:function(a){var b=$(".toontalk-top-level-backside").data("owner"),d=function(){var a=c.UTILITIES.get_json_top_level(b);
window.localStorage.setItem(c.UTILITIES.current_URL(),JSON.stringify(a))};b&&(a&&d(),setTimeout(d,100))},make_resizable:function(a,b){a.is(".toontalk-plain-text-element")||a.resizable({resize:function(c,d){a.find("img").css({width:d.size.width,height:d.size.height});b.render()},handles:"n,e,s,w"})},match:function(a,b){var c=a.match(b);return"not matched"===c&&b.matched_by?b.matched_by(a):c},current_URL:function(){var a=window.location.href.indexOf("?");return 0>a?window.location.href:window.location.href.substring(0,
a)},get_side_element_from_side:function(a,b){return a.is_backside?a.widget.get_backside_element(b):a.widget.get_frontside_element(b)},scale_to_fit:function(a,b,c,d){var e=$(b).width();b=$(b).height();c||(c=$(a).width());d||(d=$(a).height());e/=c;b/=d;$(a).css({transform:"scale("+e+", "+b+")","transform-origin":"top left",width:c,height:d});return{x_scale:e,y_scale:b}},relative_position:function(a,b){var c=$(a).offset(),d=$(b).offset();return{left:c.left-d.left,top:c.top-d.top}},add_animation_class:function(a,
b){$(a).css({width:"",height:""});$(a).addClass(b)}}}(window.TOONTALK);window.TOONTALK.UTILITIES.available_types=["number","box","element","robot","top-level"];
