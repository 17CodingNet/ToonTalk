'use strict';(function(c){var k;"undefined"===typeof exports?"function"===typeof define&&"object"===typeof define.amd&&define.amd?(k={},define(function(){return k})):k="undefined"!==typeof window?window:c:k=exports;(function(c){var d={greatest_common_divisor:function(a,b){if(1===b||1===a)return 1;for(var c;0!==b;){c=b;b=a%b;if(!isFinite(b))return 0;a=c}return a}};d.gcd=d.greatest_common_divisor;d.fromRandom=function(a){return Math.random()*(1<<a)>>>0};d.fromMillitime=function(){return+new Date};d.fromUnixtime=
function(){return.001*d.fromMillitime()|0};"undefined"!==typeof c&&(c.integer=d);(function(a){function b(a,g,n){if(n!==c)return a instanceof b?a:"undefined"===typeof a?e:b.parse(a);for(a=a||[];a.length&&!a[a.length-1];)--a.length;this._d=a;this._s=a.length?g||1:0}var c={};b._construct=function(a,g){return new b(a,g,c)};b.base=1E7;b.base_log10=7;var e=new b([],0,c);b.ZERO=e;var n=new b([1],1,c);b.ONE=n;var d=new b(n._d,-1,c);b.M_ONE=d;b._0=e;b._1=n;b.small=[e,n,new b([2],1,c),new b([3],1,c),new b([4],
1,c),new b([5],1,c),new b([6],1,c),new b([7],1,c),new b([8],1,c),new b([9],1,c),new b([10],1,c),new b([11],1,c),new b([12],1,c),new b([13],1,c),new b([14],1,c),new b([15],1,c),new b([16],1,c),new b([17],1,c),new b([18],1,c),new b([19],1,c),new b([20],1,c),new b([21],1,c),new b([22],1,c),new b([23],1,c),new b([24],1,c),new b([25],1,c),new b([26],1,c),new b([27],1,c),new b([28],1,c),new b([29],1,c),new b([30],1,c),new b([31],1,c),new b([32],1,c),new b([33],1,c),new b([34],1,c),new b([35],1,c),new b([36],
1,c)];b.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");b.prototype.toString=function(a){a=+a||10;if(2>a||36<a)throw Error("illegal radix "+a+".");if(0===this._s)return"0";if(10===a){a=0>this._s?"-":"";a+=this._d[this._d.length-1].toString();for(var g=this._d.length-2;0<=g;g--){for(var c=this._d[g].toString();7>c.length;)c="0"+c;a+=c}return a}g=b.digits;a=b.small[a];for(var c=this._s,e=this.abs(),n=[],d;0!==e._s;)d=e.divRem(a),e=d[0],d=d[1],n.push(g[d.valueOf()]);return(0>c?"-":"")+n.reverse().join("")};
b.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,
/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/];b.parse=function(a,g){function n(a){a=a.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e");return a.replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,function(a,g,b,c,u){u=+u;var e=0>u,n=b.length+u;a=(e?b:c).length;u=(u=Math.abs(u))>=a?u-a+e:0;a=Array(u+1).join("0");b+=c;return(g||"")+(e?b=a+b:b+=a).substr(0,n+=e?a.length:0)+(n<b.length?"."+b.substr(n):"")})}a=a.toString();if("undefined"===typeof g||10===+g)a=n(a);var d=RegExp("^([+\\-]?)("+("undefined"===
typeof g?"0[xcb]":16==g?"0x":8==g?"0c":2==g?"0b":"")+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(a);if(d){var f=d[1]||"+",h=d[2]||"",d=d[3]||"";if("undefined"===typeof g)g="0x"===h||"0X"===h?16:"0c"===h||"0C"===h?8:"0b"===h||"0B"===h?2:10;else if(2>g||36<g)throw Error("Illegal radix "+g+".");g=+g;if(!b.radixRegex[g].test(d))throw Error("Bad digit for radix "+g);d=d.replace(/^0+/,"").split("");if(0===d.length)return e;f="-"===f?-1:1;if(10==g){for(h=[];7<=d.length;)h.push(parseInt(d.splice(d.length-b.base_log10,
b.base_log10).join(""),10));h.push(parseInt(d.join(""),10));return new b(h,f,c)}h=e;g=b.small[g];for(var l=b.small,m=0;m<d.length;m++)h=h.multiply(g).add(l[parseInt(d[m],36)]);return new b(h._d,f,c)}throw Error("Invalid BigInteger format: "+a);};b.prototype.add=function(a){if(0===this._s)return b(a);a=b(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.subtract(a);var g=this._d;a=a._d;for(var e=g.length,n=a.length,d=Array(Math.max(e,n)+1),f=Math.min(e,n),h=0,l=0;l<f;l++)h=g[l]+
a[l]+h,d[l]=h%1E7,h=h/1E7|0;n>e&&(g=a,e=n);for(l=f;h&&l<e;l++)h=g[l]+h,d[l]=h%1E7,h=h/1E7|0;for(h&&(d[l]=h);l<e;l++)d[l]=g[l];return new b(d,this._s,c)};b.prototype.negate=function(){return new b(this._d,-this._s|0,c)};b.prototype.abs=function(){return 0>this._s?this.negate():this};b.prototype.subtract=function(a){if(0===this._s)return b(a).negate();a=b(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.add(a);var g=this;0>this._s&&(g=new b(a._d,1,c),a=new b(this._d,1,c));var n=
g.compareAbs(a);if(0===n)return e;if(0>n){var d=a;a=g;g=d}g=g._d;a=a._d;var d=g.length,f=a.length,h=Array(d),l=0,m,q;for(m=0;m<f;m++)q=g[m]-l-a[m],0>q?(q+=1E7,l=1):l=0,h[m]=q;for(m=f;m<d;m++){q=g[m]-l;if(0>q)q+=1E7;else{h[m++]=q;break}h[m]=q}for(;m<d;m++)h[m]=g[m];return new b(h,n,c)};(function(){function a(g,e){for(var n=g._d,d=n.slice(),f=0;;){var h=(n[f]||0)+1;d[f]=h%1E7;if(9999999>=h)break;++f}return new b(d,e,c)}function g(a,e){for(var n=a._d,d=n.slice(),f=0;;){var h=(n[f]||0)-1;if(0>h)d[f]=
h+1E7;else{d[f]=h;break}++f}return new b(d,e,c)}b.prototype.next=function(){switch(this._s){case 0:return n;case -1:return g(this,-1);default:return a(this,1)}};b.prototype.prev=function(){switch(this._s){case 0:return d;case -1:return a(this,-1);default:return g(this,1)}}})();b.prototype.compareAbs=function(a){if(this===a)return 0;if(!(a instanceof b)){if(!isFinite(a))return isNaN(a)?a:-1;a=b(a)}if(0===this._s)return 0!==a._s?-1:0;if(0===a._s)return 1;var g=this._d.length,c=a._d.length;if(g<c)return-1;
if(g>c)return 1;c=this._d;a=a._d;for(g-=1;0<=g;g--)if(c[g]!==a[g])return c[g]<a[g]?-1:1;return 0};b.prototype.compare=function(a){if(this===a)return 0;a=b(a);return 0===this._s?-a._s:this._s===a._s?this.compareAbs(a)*this._s:this._s};b.prototype.isUnit=function(){return this===n||this===d||1===this._d.length&&1===this._d[0]};b.prototype.multiply=function(a){if(0===this._s)return e;a=b(a);if(0===a._s)return e;if(this.isUnit())return 0>this._s?a.negate():a;if(a.isUnit())return 0>a._s?this.negate():
this;if(this===a)return this.square();var g=this._d.length>=a._d.length,n=(g?this:a)._d,g=(g?a:this)._d,d=n.length,f=g.length,h=d+f,l=Array(h),m;for(m=0;m<h;m++)l[m]=0;for(m=0;m<f;m++){for(var h=0,q=g[m],k=d+m,v,r=m;r<k;r++)v=l[r]+q*n[r-m]+h,h=v/1E7|0,l[r]=v%1E7|0;h&&(v=l[r]+h,l[r]=v%1E7)}return new b(l,this._s*a._s,c)};b.prototype.multiplySingleDigit=function(a){if(0===a||0===this._s)return e;if(1===a)return this;var g;if(1===this._d.length)return g=this._d[0]*a,1E7<=g?new b([g%1E7|0,g/1E7|0],1,
c):new b([g],1,c);if(2===a)return this.add(this);if(this.isUnit())return new b([a],1,c);var n=this._d,d=n.length;g=d+1;for(var f=Array(g),h=0;h<g;h++)f[h]=0;for(var l=h=0;l<d;l++)g=a*n[l]+h,h=g/1E7|0,f[l]=g%1E7|0;h&&(f[l]=h);return new b(f,1,c)};b.prototype.square=function(){if(0===this._s)return e;if(this.isUnit())return n;var a=this._d,g=a.length,d=Array(g+g+1),f,h,l,m;for(m=0;m<g;m++)l=2*m,f=a[m]*a[m],h=f/1E7|0,d[l]=f%1E7,d[l+1]=h;for(m=0;m<g;m++){h=0;l=2*m+1;for(var q=m+1;q<g;q++,l++)f=a[q]*a[m]*
2+d[l]+h,h=f/1E7|0,d[l]=f%1E7;l=g+m;f=h+d[l];h=f/1E7|0;d[l]=f%1E7;d[l+1]+=h}return new b(d,1,c)};b.prototype.quotient=function(a){return this.divRem(a)[0]};b.prototype.divide=b.prototype.quotient;b.prototype.remainder=function(a){return this.divRem(a)[1]};b.prototype.divRem=function(a){a=b(a);if(0===a._s)throw Error("Divide by zero");if(0===this._s)return[e,e];if(1===a._d.length)return this.divRemSmall(a._s*a._d[0]);switch(this.compareAbs(a)){case 0:return[this._s===a._s?n:d,e];case -1:return[e,this]}var g=
this._s*a._s,f=a.abs(),h=this._d,l=h.length,m=[],q,k=new b([],0,c);for(k._s=1;l;)if(k._d.unshift(h[--l]),0>k.compareAbs(a))m.push(0);else{if(0===k._s)q=0;else{var r=k._d.length;q=f._d.length;r=1E7*k._d[r-1]+k._d[r-2];q=1E7*f._d[q-1]+f._d[q-2];k._d.length>f._d.length&&(r=1E7*(r+1));q=Math.ceil(r/q)}do{r=f.multiplySingleDigit(q);if(0>=r.compareAbs(k))break;q--}while(q);m.push(q);q&&(q=k.subtract(r),k._d=q._d.slice(),0===k._d.length&&(k._s=0))}return[new b(m.reverse(),g,c),new b(k._d,this._s,c)]};b.prototype.divRemSmall=
function(a){a=+a;if(0===a)throw Error("Divide by zero");var g=this._s*(0>a?-1:1);a=Math.abs(a);if(1>a||1E7<=a)throw Error("Argument out of range");if(0===this._s)return[e,e];if(1===a||-1===a)return[1===g?this.abs():new b(this._d,g,c),e];if(1===this._d.length){var d=new b([this._d[0]/a|0],1,c);a=new b([this._d[0]%a|0],1,c);0>g&&(d=d.negate());0>this._s&&(a=a.negate());return[d,a]}for(var n=this._d.slice(),d=Array(n.length),f=0,h=0,l=0,m;n.length;)f=1E7*f+n[n.length-1],f<a?(d[l++]=0,n.pop(),h=1E7*h+
f):(m=0===f?0:f/a|0,h=f-a*m,(d[l++]=m)?(n.pop(),f=h):n.pop());a=new b([h],1,c);0>this._s&&(a=a.negate());return[new b(d.reverse(),g,c),a]};b.prototype.isEven=function(){var a=this._d;return 0===this._s||0===a.length||0===a[0]%2};b.prototype.isOdd=function(){return!this.isEven()};b.prototype.sign=function(){return this._s};b.prototype.isPositive=function(){return 0<this._s};b.prototype.isNegative=function(){return 0>this._s};b.prototype.isZero=function(){return 0===this._s};b.prototype.exp10=function(a){a=
+a;if(0===a)return this;if(Math.abs(a)>Number(f))throw Error("exponent too large in BigInteger.exp10");if(0<a){for(var g=new b(this._d.slice(),this._s,c);7<=a;a-=7)g._d.unshift(0);if(0==a)return g;g._s=1;g=g.multiplySingleDigit(Math.pow(10,a));return 0>this._s?g.negate():g}if(-a>=7*this._d.length)return e;g=new b(this._d.slice(),this._s,c);for(a=-a;7<=a;a-=7)g._d.shift();return 0==a?g:g.divRemSmall(Math.pow(10,a))[0]};b.prototype.pow=function(a){if(this.isUnit())return 0<this._s?this:b(a).isOdd()?
this:this.negate();a=b(a);if(0===a._s)return n;if(0>a._s){if(0===this._s)throw Error("Divide by zero");return e}if(0===this._s)return e;if(a.isUnit())return this;if(0<a.compareAbs(f))throw Error("exponent too large in BigInteger.pow");for(var g=this,c=n,d=b.small[2];a.isPositive()&&(!a.isOdd()||(c=c.multiply(g),!a.isUnit()));)g=g.square(),a=a.quotient(d);return c};b.prototype.modPow=function(a,g){for(var c=n,e=this;a.isPositive();)a.isOdd()&&(c=c.multiply(e).remainder(g)),a=a.quotient(b.small[2]),
a.isPositive()&&(e=e.square().remainder(g));return c};b.prototype.log=function(){switch(this._s){case 0:return-Infinity;case -1:return NaN}var a=this._d.length;if(30>7*a)return Math.log(this.valueOf());var g=Math.ceil(30/7),e=this._d.slice(a-g);return Math.log((new b(e,1,c)).valueOf())+(a-g)*Math.log(1E7)};b.prototype.valueOf=function(){return parseInt(this.toString(),10)};b.prototype.toJSValue=function(){return parseInt(this.toString(),10)};var f=b(2147483647);b.MAX_EXP=f;(function(){function a(g){return function(a){return g.call(b(a))}}
function g(a){return function(g,c){return a.call(b(g),b(c))}}function c(a){return function(g,c,e){return a.call(b(g),b(c),b(e))}}(function(){var e,d,n="toJSValue isEven isOdd sign isZero isNegative abs isUnit square negate isPositive toString next prev log".split(" "),f="compare remainder divRem subtract add quotient divide multiply pow compareAbs".split(" "),w=["modPow"];for(e=0;e<n.length;e++)d=n[e],b[d]=a(b.prototype[d]);for(e=0;e<f.length;e++)d=f[e],b[d]=g(b.prototype[d]);for(e=0;e<w.length;e++)d=
w[e],b[d]=c(b.prototype[d]);b.exp10=function(a,g){return b(a).exp10(g)}})()})();a.BigInteger=b})("undefined"!==typeof c?c:this);var q={greatest_common_divisor:function(a,b){if(b.isUnit()||a.isUnit())return BigInteger.ONE;for(var c;!b.isZero();)c=b,b=a.remainder(b),a=c;return a},create:function(){return[0]},clone:function(a){for(var b=[],c=0,e=a.length;c<e;c++)b[c]=a[c];return b},copy:function(a,b){a=[];for(var c=0,e=b.length;c<e;c++)a[c]=b[c];return a},abs:function(a,b){a[0]=Math.abs(b[0]);return a},
str:function(a){return a[0].toString()},toInteger:function(a){return out[0]},fromInteger:function(a){return[parseInt(a)]}};q.ZERO=q.fromInteger(0);q.ONE=q.fromInteger(1);"undefined"!==typeof c&&(c.bigint=q);if(!l)var l=Array;if(!m)var m=Math.pow(2,56);if(!k)var k=16777216;var h={EPSILON:2E-16};h.MAX_LOOPS=k;h.create=function(){var a=new l(2);a[0]=0;a[1]=1;return a};h.clone=function(a){var b=new l(2);b[0]=a[0];b[1]=a[1];return b};h.fromValues=function(a,b){var c=new l(2);c[0]=a;c[1]=b;return h.normalize(c,
c)};h.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};h.set=function(a,b,c){a[0]=b;a[1]=c;return h.normalize(a,a)};h.abs=function(a,b){a[0]=Math.abs(b[0]);a[1]=b[1];return a};h.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};h.reciprocal=h.invert;h.add=function(a,b,c){b[1]===c[1]?(a[0]=b[0]+c[0],a[1]=b[1]):(a[0]=b[0]*c[1]+c[0]*b[1],a[1]=b[1]*c[1]);return h.normalize(a,a)};h.subtract=function(a,b,c){b[1]===c[1]?(a[0]=b[0]-c[0],a[1]=b[1]):(a[0]=b[0]*c[1]-c[0]*b[1],a[1]=b[1]*c[1]);return h.normalize(a,
a)};h.sub=h.subtract;h.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return h.normalize(a,a)};h.mul=h.multiply;h.mediant=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return h.normalize(a,a)};h.divide=function(a,b,c){a[0]=b[0]*c[1];a[1]=b[1]*c[0];return h.normalize(a,a)};h.div=h.divide;h.equals=function(a,b){return 0===a[0]&&0===b[0]||0===a[1]&&0===b[1]?!0:a[0]===b[0]&&a[1]===b[1]};h.approximates=function(a,b){if(h.equals(a,b))return!0;var c=h.create();h.sub(c,a,b);h.abs(c,c);return h.isLessThan(c,
h.INFINITESIMAL)};h.isGreaterThan=function(a,b){return h.equals(a,b)?!1:a[0]*b[1]>b[0]*a[1]};h.isLessThan=function(a,b){return h.equals(a,b)?!1:a[0]*b[1]<b[0]*a[1]};h.isNegative=function(a){return 0>a[0]};h.min=function(a,b,c){h.isLessThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};h.max=function(a,b,c){h.isGreaterThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};h.scalar_multiply=function(a,b,c){a[0]=b[0]*c;a[1]=b[1];return h.normalize(a,a)};h.scalar_divide=function(a,
b,c){a[0]=b[0];a[1]=b[1]*c;return h.normalize(a,a)};h.normalize=function(a,b){if(isNaN(b[0])||isNaN(b[1])||0===b[0]&&0===b[1])return a[0]=0,a[1]=0,a;if(0===b[0])return a[0]=0,a[1]=1,a;if(0===b[1])return a[0]=1,a[1]=0,a;if(b[0]===b[1])return a[0]=1,a[1]=1,a;0<b[1]?(a[0]=b[0],a[1]=b[1]):(a[0]=-b[0],a[1]=-b[1]);var c=d.greatest_common_divisor(Math.abs(a[0]),a[1]);1<c&&(a[0]/=c,a[1]/=c);return a};h.opposite=function(a,b){a[0]=-b[0];a[1]=b[1];return a};h.negative=h.opposite;h.neg=h.opposite;h.power=function(a,
b,c){2===c?(a[0]=b[0]*b[0],a[1]=b[1]*b[1]):0<c?(a[0]=Math.pow(b[0],c),a[1]=Math.pow(b[1],c)):0>c?(c=Math.abs(c),a[0]=Math.pow(b[1],c),a[1]=Math.pow(b[0],c)):h.copy(a,h.ONE);return h.normalize(a,a)};h.pow=h.power;h.sqrt=function(a,b){return h.nthRoot(a,b,2)};h.nthRoot=function(a,b,c){if(h.equals(b,h.ZERO))return h.copy(a,h.ZERO);if(h.equals(b,h.ONE))return h.copy(a,h.ONE);if(h.equals(b,h.INFINITY))return h.copy(a,h.INFINITY);if(h.equals(b,h.INFINULL))return h.copy(a,h.INFINULL);var e=h.isNegative(b);
e&&(b[0]=-b[0]);a=h.copy(a,h.ONE);for(var d=[1,0,0,1],n=h.clone(h.ONE),f=h.MAX_LOOPS;!h.approximates(b,n)&&f--;)h.isLessThan(b,n)?(d[0]+=d[1],d[2]+=d[3]):(d[1]+=d[0],d[3]+=d[2]),a[0]=d[0]+d[1],a[1]=d[2]+d[3],h.pow(n,a,c);e&&(b[0]=-b[0],1===c%2&&h.neg(a,a));return a};h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};h.str=function(a){return 1===a[1]?a[0].toString():a[0]+"/"+a[1]};h.toDecimal=function(a){return a[0]/a[1]};h.dec=h.toDecimal;h.toInteger=function(a){return Math.round(h.toDecimal(a))};h.round=
h.toInteger;h.floor=function(a){return Math.floor(h.toDecimal(a))};h.ceil=function(a){return Math.ceil(h.toDecimal(a))};h.fromInteger_copy=function(a,b){a[0]=parseInt(b);a[1]=1;return a};h.fromInteger=function(a){return h.fromInteger_copy(h.create(),a)};h.fromIntegerInverse_copy=function(a,b){a[0]=1;a[1]=parseInt(b);0>a[1]&&(a[0]=-a[0],a[1]=-a[1]);return a};h.fromIntegerInverse=function(a){return h.fromIntegerInverse_copy(h.create(),a)};h.fromDecimal=function(a){return h.fromDecimal_copy(h.create(),
a)};h.fromDecimal_copy=function(a,b){b=parseFloat(b);if(isNaN(b))return h.copy(a,h.INFINULL);if(Infinity===b)return h.copy(a,h.INFINITY);if(Math.abs(b)<h.EPSILON)return h.copy(a,h.ZERO);if(Math.abs(b-1)<h.EPSILON)return h.copy(a,h.ONE);if(Math.abs(b%1)<h.EPSILON)return h.fromInteger_copy(a,b);if(Math.abs(1/b%1)<h.EPSILON)return h.fromIntegerInverse_copy(a,Math.round(1/b));h.copy(a,h.ONE);for(var c=[1,0,0,1],e=b,d=1,n=h.MAX_LOOPS;n--&&Math.abs(b-h.toDecimal(a))>h.EPSILON;)d=Math.floor(e),a[0]=d*c[0]+
c[2],a[1]=d*c[1]+c[3],e=1/(e-d),c[2]=c[0],c[3]=c[1],c[0]=a[0],c[1]=a[1];return a};h.fromRandom=function(a){a[0]=0xfffffffffffff*Math.random()<<0;a[1]=Math.abs(0xfffffffffffff*Math.random()<<0);return h.normalize(a,a)};h.sin=function(a,b){if(0===b[1])return h.copy(a,h.ZERO);h.scalar_multiply(a,b,2);var c=h.create();h.pow(c,b,2);h.add(c,c,h.ONE);h.divide(a,a,c);return a};h.cos=function(a,b){if(0===b[1])return h.neg(a,h.ONE);var c=h.create();h.pow(c,b,2);h.sub(a,h.ONE,c);var e=h.create();h.add(e,h.ONE,
c);h.divide(a,a,e);return a};h.tan=function(a,b){h.scalar_multiply(a,b,2);var c=h.create();h.pow(c,b,2);h.scalar_multiply(c,c,2);h.add(a,a,c);h.pow(c,b,4);h.sub(c,h.ONE,c);h.divide(a,a,c);return a};h.toEgyptian=function(a){a=h.clone(a);h.abs(a,a);var b=h.floor(a);b&&h.sub(a,a,h.fromInteger(b));if(!a[0])return b.toString();b||(b="");for(var c=1,e=h.create();1!==a[0];)c++,e=h.fromValues(1,c),h.isGreaterThan(a,e)&&(b&&(b+=" + "),b+=h.str(e),h.sub(a,a,e));return a?b?b+" + "+h.str(a):h.str(a):b?b:"0"};
h.toBabylonian=function(a){var b="",c=h.toDecimal(a);a=parseInt(c);for(var c=c-a,e=0,d=0;0<a;)(e=a%60)&&(b=e+" * 60^"+d+(b?" + ":"")+b),a=(a-e)/60,d++;for(d=-1;0<c;)c*=60,e=parseInt(c+1E-13),c-=e,-1E-13>c||(e&&(b+=(b?" + ":"")+e+" * 60^"+d),d--);return b?b:"0"};h.traceSternBrocot=function(a){var b="";if(h.equals(a,h.ZERO)||h.equals(a,h.ONE)||h.equals(a,h.INFINITY)||h.equals(a,h.INFINULL))return b;if(h.equals(a,h.ZERO))return h.copy(out,h.ZERO);if(h.equals(a,h.ONE))return h.copy(out,h.ONE);if(h.equals(a,
h.INFINITY))return h.copy(out,h.INFINITY);if(h.equals(a,h.INFINULL))return h.copy(out,h.INFINULL);a=h.clone(a);h.isNegative(a)&&(a[0]=-a[0]);for(var c=h.clone(h.ONE),e=[1,0,0,1],d=0,n=0,f=h.MAX_LOOPS;!h.approximates(a,c)&&f--;)h.isLessThan(a,c)?(e[0]+=e[1],e[2]+=e[3],n++,d&&(b+="R",1!==d&&(b+=d),d=0,b+=" ")):(e[1]+=e[0],e[3]+=e[2],d++,n&&(b+="L",1!==n&&(b+=n),n=0,b+=" ")),c[0]=e[0]+e[1],c[1]=e[2]+e[3];n?(b+="L",1!==n&&(b+=n)):d&&(b+="R",1!==d&&(b+=d));0>f&&(b+="...");return b};h.toContinuedFraction=
function(a,b){b="undefined"===typeof b?65536:parseInt(b);if(h.equals(a,h.ZERO))return[0];if(h.equals(a,h.ONE))return[1];if(h.equals(a,h.NEGONE))return[-1];if(h.equals(a,h.INFINITY))return[1,0];if(h.equals(a,h.INFINULL))return[0,0];var c=h.clone(a),e=h.isNegative(c);e&&(c[0]=-c[0]);for(var d=h.clone(h.ONE),n=[1,0,0,1],f=1,l=[0],m=l.length-1;!h.equals(c,d)&&b--;)h.isLessThan(c,d)?(-1===f?l[m]++:(f=-1,l.push(1),m++),n[0]+=n[1],n[2]+=n[3]):(1===f?l[m]++:(f=1,l.push(1),m++),n[1]+=n[0],n[3]+=n[2]),d[0]=
n[0]+n[1],d[1]=n[2]+n[3];0>b?l.push(0):l[m]++;if(e)for(var q in l)l[q]=-l[q];return l};h.fromContinuedFraction=function(a,b){h.fromInteger_copy(a,b[b.length-1]);for(var c=b.length-2;-1<c;c--)h.invert(a,a),h.add(a,h.fromInteger(b[c]),a);return a};h.dump=function(a){h.create();return"rat\t"+h.str(a)+"\n~\t"+h.toDecimal(a)+"\nCF:\t["+h.toContinuedFraction(a)+"]\n"};h.ZERO=h.fromInteger(0);h.ONE=h.fromInteger(1);h.NEGONE=h.fromInteger(-1);h.INFINITY=h.fromValues(1,0);h.INFINULL=h.fromValues(0,0);h.INFINITESIMAL=
h.clone([1,m]);h.PI=h.fromValues(1320192667429,420230377710);"undefined"!==typeof c&&(c.rat=h);if(!b)var b=new BigInteger("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF");if(!n)var n=1073741824;var a={EPSILON:2E-16};a.MAX_LOOPS=n;a.create=function(){var a=[];a[0]=BigInteger.ZERO;a[1]=BigInteger.ONE;return a};a.clone=function(a){var b=[];b[0]=a[0];b[1]=a[1];return b};a.fromValues=function(b,c){var e=[];e[0]=new BigInteger(b);e[1]=new BigInteger(c);return a.normalize(e,e)};a.copy=function(a,b){a[0]=b[0];a[1]=
b[1];return a};a.set=function(b,c,e){b[0]=c;b[1]=e;return a.normalize(b,b)};a.toRat=function(a,b){return h.set(a,b[0].toJSValue(),b[1].toJSValue())};a.fromRat=function(b,c){return a.set(b,BigInteger(c[0]),BigInteger(c[1]))};a.abs=function(a,b){a[0]=b[0].abs();a[1]=b[1];return a};a.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};a.reciprocal=a.invert;a.add=function(b,c,e){0===c[1].compare(e[1])?(b[0]=c[0].add(e[0]),b[1]=c[1]):(b[0]=c[0].multiply(e[1]).add(e[0].multiply(c[1])),b[1]=c[1].multiply(e[1]));
return a.normalize(b,b)};a.subtract=function(b,c,e){0===c[1].compare(e[1])?(b[0]=c[0].subtract(e[0]),b[1]=c[1]):(b[0]=c[0].multiply(e[1]).subtract(e[0].multiply(c[1])),b[1]=c[1].multiply(e[1]));return a.normalize(b,b)};a.sub=a.subtract;a.multiply=function(b,c,e){b[0]=c[0].multiply(e[0]);b[1]=c[1].multiply(e[1]);return a.normalize(b,b)};a.mul=a.multiply;a.mediant=function(b,c,e){b[0]=c[0].add(e[0]);b[1]=c[1].add(e[1]);return a.normalize(b,b)};a.divide=function(b,c,e){b[0]=c[0].multiply(e[1]);b[1]=
c[1].multiply(e[0]);return a.normalize(b,b)};a.div=a.divide;a.equals=function(a,b){return a[0].isZero()&&b[0].isZero()||a[1].isZero()&&b[1].isZero()?!0:0===a[0].compare(b[0])&&0===a[1].compare(b[1])};a.approximates=function(b,c){if(a.equals(b,c))return!0;var e=a.create();a.sub(e,b,c);a.abs(e,e);return a.isLessThan(e,a.INFINITESIMAL)};a.isGreaterThan=function(b,c){return a.equals(b,c)?!1:0<b[0].multiply(c[1]).compare(c[0].multiply(b[1]))};a.isLessThan=function(b,c){return a.equals(b,c)?!1:0>b[0].multiply(c[1]).compare(c[0].multiply(b[1]))};
a.isNegative=function(a){return a[0].isNegative()};a.min=function(b,c,e){a.isLessThan(c,e)?(b[0]=c[0],b[1]=c[1]):(b[0]=e[0],b[1]=e[1]);return b};a.max=function(b,c,e){a.isGreaterThan(c,e)?(b[0]=c[0],b[1]=c[1]):(b[0]=e[0],b[1]=e[1]);return b};a.scalar_multiply=function(b,c,e){b[0]=c[0].multiply(e);b[1]=c[1];return a.normalize(b,b)};a.scalar_divide=function(b,c,e){b[0]=c[0];b[1]=c[1].multiply(e);return a.normalize(b,b)};a.normalize=function(b,c){if(c[0].isZero()||c[1].isZero())return c;if(0===c[0].compare(c[1]))return a.clone(a.ONE);
if(c[1].isNegative())b[0]=c[0].negate(),b[1]=c[1].negate();else if(b[0]=c[0],b[1]=c[1],b[1].isZero())return b;var e=q.greatest_common_divisor(b[0].abs(),b[1]);0<e.compare(BigInteger.ONE)&&(b[0]=b[0].quotient(e),b[1]=b[1].quotient(e));return b};a.opposite=function(a,b){a[0]=b[0].negate();a[1]=b[1];return a};a.negative=a.opposite;a.neg=a.opposite;a.power=function(b,c,e){2===e?(b[0]=c[0].square(),b[1]=c[1].square()):0<e?(b[0]=c[0].pow(e),b[1]=c[1].pow(e)):0>e?(e=Math.abs(e),b[0]=c[1].pow(e),b[1]=c[0].pow(e)):
a.copy(b,a.ONE);return b};a.pow=a.power;a.sqrt=function(b,c){return a.nthRoot(b,c,2)};a.nthRoot=function(b,c,e){if(a.equals(c,a.ZERO))return a.copy(b,a.ZERO);if(a.equals(c,a.ONE))return a.copy(b,a.ONE);if(a.equals(c,a.INFINITY))return a.copy(b,a.INFINITY);if(a.equals(c,a.INFINULL))return a.copy(b,a.INFINULL);var d=a.isNegative(c);d&&(c[0]=c[0].negate());a.copy(b,a.ONE);for(var f=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],h=a.clone(a.ONE),l=n;!a.approximates(c,h)&&l--;)a.isLessThan(c,
h)?(f[0]=f[0].add(f[1]),f[2]=f[2].add(f[3])):(f[1]=f[1].add(f[0]),f[3]=f[3].add(f[2])),b[0]=f[0].add(f[1]),b[1]=f[2].add(f[3]),a.pow(h,b,e);d&&(c[0]=c[0].negate(),1===e%2&&a.neg(b,b));return b};a.dot=function(a,b){return a[0].multiply(b[0]).add(a[1].multiply(b[1]))};a.str=function(a){return 0===a[1].compare(BigInteger.ONE)?a[0].toString():a[0].toString()+"/"+a[1].toString()};a.toDecimal=function(a){return a[0].toJSValue()/a[1].toJSValue()};a.dec=a.toDecimal;a.toInteger=function(a){return a[0].quotient(a[1]).toJSValue()};
a.round=a.toInteger;a.toBigInteger=function(a){return a[0].quotient(a[1])};a.floor=function(b){return Math.floor(a.toDecimal(b))};a.ceil=function(b){return Math.ceil(a.toDecimal(b))};a.fromInteger_copy=function(a,b){a[0]=BigInteger(b);a[1]=BigInteger.ONE;return a};a.fromInteger=function(b){return a.fromInteger_copy(a.create(),b)};a.fromIntegerInverse_copy=function(a,b){a[0]=BigInteger.ONE;a[1]=BigInteger(b);a[1].isNegative()&&(a[0]=a[0].negate(),a[1]=a[1].negate());return a};a.fromIntegerInverse=
function(b){return a.fromIntegerInverse_copy(a.create(),b)};a.fromDecimal=function(b){return a.fromDecimal_copy(a.create(),b)};a.fromDecimal_copy=function(b,c){c=parseFloat(c);if(isNaN(c))return a.copy(b,a.INFINULL);if(Infinity===c)return a.copy(b,a.INFINITY);if(Math.abs(c)<a.EPSILON)return a.copy(b,a.ZERO);if(Math.abs(c-1)<a.EPSILON)return a.copy(b,a.ONE);if(Math.abs(c%1)<a.EPSILON)return a.fromInteger_copy(b,c);if(Math.abs(1/c%1)<a.EPSILON)return a.fromIntegerInverse_copy(b,Math.round(1/c));a.copy(b,
a.ONE);for(var e=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],d=c,n=1,f=a.MAX_LOOPS;f--&&Math.abs(c-a.toDecimal(b))>a.EPSILON;)n=Math.floor(d),b[0]=BigInteger(n*e[0]+e[2]),b[1]=BigInteger(n*e[1]+e[3]),d=1/(d-n),e[2]=e[0],e[3]=e[1],e[0]=b[0],e[1]=b[1];return b};a.fromRandom=function(b){b[0]=BigInteger(0xfffffffffffff*Math.random()<<0);b[1]=BigInteger(Math.abs(0xfffffffffffff*Math.random()<<0));return a.normalize(b,b)};a.sin=function(b,c){if(c[1].isZero())return a.copy(b,a.ZERO);a.scalar_multiply(b,
c,2);var e=a.create();a.pow(e,c,2);a.add(e,e,a.ONE);a.divide(b,b,e);return b};a.cos=function(b,c){if(c[1].isZero())return a.neg(b,a.ONE);var e=a.create();a.pow(e,c,2);a.sub(b,a.ONE,e);var d=a.create();a.add(d,a.ONE,e);a.divide(b,b,d);return b};a.tan=function(b,c){a.scalar_multiply(b,c,2);var e=a.create();a.pow(e,c,2);a.scalar_multiply(e,e,2);a.add(b,b,e);a.pow(e,c,4);a.sub(e,a.ONE,e);a.divide(b,b,e);return b};a.toEgyptian=function(b){b=a.clone(b);a.abs(b,b);var c=a.floor(b);c&&a.sub(b,b,a.fromInteger(c));
if(!b[0])return c.toString();c||(c="");for(var e=1,d=a.create();1!==b[0];)e++,d=a.fromValues(1,e),a.isGreaterThan(b,d)&&(c&&(c+=" + "),c+=a.str(d),a.sub(b,b,d));return b?c?c+" + "+a.str(b):a.str(b):c?c:"0"};a.toBabylonian=function(b){var c="",e=a.toDecimal(b);b=parseInt(e);for(var e=e-b,d=0,n=0;0<b;)(d=b%60)&&(c=d+" * 60^"+n+(c?" + ":"")+c),b=(b-d)/60,n++;for(n=-1;0<e;)e*=60,d=parseInt(e+1E-13),e-=d,-1E-13>e||(d&&(c+=(c?" + ":"")+d+" * 60^"+n),n--);return c?c:"0"};a.traceSternBrocot=function(b){var c=
"";if(a.equals(b,a.ZERO)||a.equals(b,a.ONE)||a.equals(b,a.INFINITY)||a.equals(b,a.INFINULL))return c;b=a.clone(b);a.isNegative(b)&&(b[0]=b[0].negate());for(var e=a.clone(a.ONE),d=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],n=0,f=0,h=65536;!a.equals(b,e)&&h--;)a.isLessThan(b,e)?(d[0]=d[0].add(d[1]),d[2]=d[2].add(d[3]),f++,n&&(c+="R",1!==n&&(c+=n),n=0,c+=" ")):(d[1]=d[1].add(d[0]),d[3]=d[3].add(d[2]),n++,f&&(c+="L",1!==f&&(c+=f),f=0,c+=" ")),e[0]=d[0].add(d[1]),e[1]=d[2].add(d[3]);f?(c+=
"L",1!==f&&(c+=f)):n&&(c+="R",1!==n&&(c+=n));0>h&&(c+="...");return c};a.toContinuedFraction=function(b,c){c="undefined"===typeof c?65536:parseInt(c);if(a.equals(b,a.ZERO))return[0];if(a.equals(b,a.ONE))return[1];if(a.equals(b,a.NEGONE))return[-1];if(a.equals(b,a.INFINITY))return[1,0];if(a.equals(b,a.INFINULL))return[0,0];var e=a.clone(b),d=a.isNegative(e);d&&(e[0]=e[0].negate());for(var n=a.clone(a.ONE),f=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],h=1,l=[0],m=l.length-1;!a.equals(e,
n)&&c--;)a.isLessThan(e,n)?(-1===h?l[m]++:(h=-1,l.push(1),m++),f[0]=f[0].add(f[1]),f[2]=f[2].add(f[3])):(1===h?l[m]++:(h=1,l.push(1),m++),f[1]=f[1].add(f[0]),f[3]=f[3].add(f[2])),n[0]=f[0].add(f[1]),n[1]=f[2].add(f[3]);0>c?l.push(0):l[m]++;if(d)for(var q in l)l[q]=-l[q];return l};a.fromContinuedFraction=function(b,c){a.fromInteger_copy(b,c[c.length-1]);for(var e=c.length-2;-1<e;e--)a.invert(b,b),a.add(b,a.fromInteger(c[e]),b);return b};a.fromFactorial=function(b,c){if("undefined"!==typeof factorial.PREPARED[c])return a.fromInteger_copy(b,
factorial.PREPARED[c]);var e=factorial.PREPARED.length-1;for(a.fromInteger_copy(b,factorial.PREPARED[e]);e<c;)a.scalar_multiply(b,b,++e);return b};a.dump=function(b){return"bigrat\t"+a.str(b)+"\n~\t"+a.toDecimal(b)+"\nCF:\t["+a.toContinuedFraction(b)+"]\n"};a.ZERO=a.fromInteger(0);a.ONE=a.fromInteger(1);a.NEGONE=a.fromInteger(-1);a.INFINITY=a.fromValues(1,0);a.INFINULL=a.fromValues(0,0);a.INFINITESIMAL=a.clone([new BigInteger(1),b]);a.PI=a.fromValues("3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587",
"1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");"undefined"!==typeof c&&(c.bigrat=a);var e=function(a,b){this.a=h.fromValues(parseInt(a),parseInt(b))};e.prototype.toString=function(){return h.str(this.a)};e.prototype.toContinuedFraction=function(a){return h.toContinuedFraction(this.a,
a)};e.prototype.invert=function(){return h.invert(this.a)};e.prototype.reciprocal=e.prototype.invert;e.prototype.add=function(a){var b=h.create();h.add(b,this.a,a.a);return new e(b[0],b[1])};e.prototype.plus=e.prototype.add;e.prototype.subtract=function(a){var b=h.create();h.sub(b,this.a,a.a);return new e(b[0],b[1])};e.prototype.sub=e.prototype.subtract;e.prototype.minus=e.prototype.subtract;e.prototype.multiply=function(a){var b=h.create();h.mul(b,this.a,a.a);return new e(b[0],b[1])};e.prototype.mul=
e.prototype.multiply;e.prototype.times=e.prototype.multiply;e.prototype.mediant=function(a){var b=h.create();h.mediant(b,this.a,a.a);return new e(b[0],b[1])};e.prototype.divide=function(a){var b=h.create();h.div(b,this.a,a.a);return new e(b[0],b[1])};e.prototype.div=e.prototype.divide;e.prototype.divided_by=e.prototype.divide;e.prototype.power=function(a){var b=h.create();h.pow(b,this.a,a);return new e(b[0],b[1])};e.prototype.pow=e.prototype.power;e.prototype.dump=function(){return h.dump(this.a)};
e.prototype.toRat=function(){return h.clone(this.a)};e.prototype.toDecimal=function(){return h.toDecimal(this.a)};e.fromRat=function(a){var b=new e;b.a[0]=a[0];b.a[1]=a[1];return b};e.fromInteger=function(a){return e.fromRat(h.fromInteger(a))};e.fromIntegerInverse=function(a){return e.fromRat(h.fromIntegerInverse(a))};e.fromDecimal=function(a){return e.fromRat(h.fromDecimal(a))};e.fromContinuedFraction=function(a){return e.fromRat(h.fromContinuedFraction(h.create(),a))};"undefined"!==typeof c&&(c.rational=
e)})(k)})(this);(function(c,k){"object"===typeof module&&"object"===typeof module.exports?module.exports=c.document?k(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return k(c)}:k(c)})("undefined"!==typeof window?window:this,function(c,k){function f(a){var b=a.length,c=p.type(a);return"function"===c||p.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function d(a,b,c){if(p.isFunction(b))return p.grep(a,function(a,e){return!!b.call(a,
e,a)!==c});if(b.nodeType)return p.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Ab.test(b))return p.filter(b,a,c);b=p.filter(b,a)}return p.grep(a,function(a){return 0<=pa.call(b,a)!==c})}function q(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function l(a){var b=lb[a]={};p.each(a.match(qa)||[],function(a,c){b[c]=!0});return b}function m(){J.removeEventListener("DOMContentLoaded",m,!1);c.removeEventListener("load",m,!1);p.ready()}function r(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=p.expando+Math.random()}function h(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Qa,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Bb.test(c)?p.parseJSON(c):c}catch(e){}S.set(a,b,c)}else c=void 0;return c}function b(){return!0}function n(){return!1}function a(){try{return J.activeElement}catch(a){}}function e(a,b){return p.nodeName(a,"table")&&p.nodeName(11!==b.nodeType?
b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function g(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function u(a){var b=bb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function w(a,b){for(var c=0,e=a.length;c<e;c++)M.set(a[c],"globalEval",!b||M.get(b[c],"globalEval"))}function B(a,b){var c,e,g,d;if(1===b.nodeType){if(M.hasData(a)&&(d=M.access(a),c=M.set(b,d),d=d.events))for(g in delete c.handle,
c.events={},d)for(c=0,e=d[g].length;c<e;c++)p.event.add(b,g,d[g][c]);S.hasData(a)&&(g=S.access(a),g=p.extend({},g),S.set(b,g))}}function v(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&p.nodeName(a,b)?p.merge([a],c):c}function x(a,b){var e,g=p(b.createElement(a)).appendTo(b.body),d=c.getDefaultComputedStyle&&(e=c.getDefaultComputedStyle(g[0]))?e.display:p.css(g[0],"display");g.detach();return d}function z(a){var b=
J,c=Ra[a];c||(c=x(a,b),"none"!==c&&c||(Sa=(Sa||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Sa[0].contentDocument,b.write(),b.close(),c=x(a,b),Sa.detach()),Ra[a]=c);return c}function A(a,b,c){var e,g,d=a.style;(c=c||Ta(a))&&(g=c.getPropertyValue(b)||c[b]);c&&(""!==g||p.contains(a.ownerDocument,a)||(g=p.style(a,b)),ma.test(g)&&Ga.test(b)&&(a=d.width,b=d.minWidth,e=d.maxWidth,d.minWidth=d.maxWidth=d.width=g,g=c.width,d.width=a,d.minWidth=b,d.maxWidth=e));return void 0!==
g?g+"":g}function E(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function C(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),e=b,g=ia.length;g--;)if(b=ia[g]+c,b in a)return b;return e}function H(a,b,c){return(a=ja.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function V(a,b,c,e,g){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var d=0;4>b;b+=2)"margin"===c&&(d+=p.css(a,c+wa[b],!0,g)),e?("content"===c&&(d-=p.css(a,"padding"+
wa[b],!0,g)),"margin"!==c&&(d-=p.css(a,"border"+wa[b]+"Width",!0,g))):(d+=p.css(a,"padding"+wa[b],!0,g),"padding"!==c&&(d+=p.css(a,"border"+wa[b]+"Width",!0,g)));return d}function K(a,b,c){var e=!0,g="width"===b?a.offsetWidth:a.offsetHeight,d=Ta(a),n="border-box"===p.css(a,"boxSizing",!1,d);if(0>=g||null==g){g=A(a,b,d);if(0>g||null==g)g=a.style[b];if(ma.test(g))return g;e=n&&(W.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+V(a,b,c||(n?"border":"content"),e,d)+"px"}function P(a,
b){for(var c,e,g,d=[],n=0,f=a.length;n<f;n++)e=a[n],e.style&&(d[n]=M.get(e,"olddisplay"),c=e.style.display,b?(d[n]||"none"!==c||(e.style.display=""),""===e.style.display&&Aa(e)&&(d[n]=M.access(e,"olddisplay",z(e.nodeName)))):(g=Aa(e),"none"===c&&g||M.set(e,"olddisplay",g?c:p.css(e,"display"))));for(n=0;n<f;n++)e=a[n],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?d[n]||"":"none");return a}function N(a,b,c,e,g){return new N.prototype.init(a,b,c,e,g)}function L(){setTimeout(function(){Ba=
void 0});return Ba=p.now()}function X(a,b){var c,e=0,g={height:a};for(b=b?1:0;4>e;e+=2-b)c=wa[e],g["margin"+c]=g["padding"+c]=a;b&&(g.opacity=g.width=a);return g}function ca(a,b,c){for(var e,g=(F[b]||[]).concat(F["*"]),d=0,n=g.length;d<n;d++)if(e=g[d].call(c,b,a))return e}function U(a,b){var c,e,g,d,n;for(c in a)if(e=p.camelCase(c),g=b[e],d=a[c],p.isArray(d)&&(g=d[1],d=a[c]=d[0]),c!==e&&(a[e]=d,delete a[c]),(n=p.cssHooks[e])&&"expand"in n)for(c in d=n.expand(d),delete a[e],d)c in a||(a[c]=d[c],b[c]=
g);else b[e]=g}function ka(a,b,c){var e,g=0,d=O.length,n=p.Deferred().always(function(){delete f.elem}),f=function(){if(e)return!1;for(var b=Ba||L(),b=Math.max(0,h.startTime+h.duration-b),c=1-(b/h.duration||0),g=0,d=h.tweens.length;g<d;g++)h.tweens[g].run(c);n.notifyWith(a,[h,c,b]);if(1>c&&d)return b;n.resolveWith(a,[h]);return!1},h=n.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ba||L(),duration:c.duration,tweens:[],createTween:function(b,
c){var e=p.Tween(a,h.opts,b,c,h.opts.specialEasing[b]||h.opts.easing);h.tweens.push(e);return e},stop:function(b){var c=0,g=b?h.tweens.length:0;if(e)return this;for(e=!0;c<g;c++)h.tweens[c].run(1);b?n.resolveWith(a,[h,b]):n.rejectWith(a,[h,b]);return this}});c=h.props;for(U(c,h.opts.specialEasing);g<d;g++)if(b=O[g].call(h,a,c,h.opts))return b;p.map(c,ca,h);p.isFunction(h.opts.start)&&h.opts.start.call(a,h);p.fx.timer(p.extend(f,{elem:a,anim:h,queue:h.opts.queue}));return h.progress(h.opts.progress).done(h.opts.done,
h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function oa(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var e,g=0,d=b.toLowerCase().match(qa)||[];if(p.isFunction(c))for(;e=d[g++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function za(a,b,c,e){function g(f){var h;d[f]=!0;p.each(a[f]||[],function(a,s){var G=s(b,c,e);if("string"===typeof G&&!n&&!d[G])return b.dataTypes.unshift(G),g(G),!1;if(n)return!(h=G)});return h}var d={},n=a===cb;return g(b.dataTypes[0])||
!d["*"]&&g("*")}function ha(a,b){var c,e,g=p.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((g[c]?a:e||(e={}))[c]=b[c]);e&&p.extend(!0,a,e);return a}function ra(a,b,c,e){var g;if(p.isArray(b))p.each(b,function(b,g){c||Ma.test(a)?e(a,g):ra(a+"["+("object"===typeof g?b:"")+"]",g,c,e)});else if(c||"object"!==p.type(b))e(a,b);else for(g in b)ra(a+"["+g+"]",b[g],c,e)}function sa(a){return p.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ta=[],da=ta.slice,Ha=ta.concat,Ca=ta.push,pa=ta.indexOf,
xa={},Db=xa.toString,Da=xa.hasOwnProperty,W={},J=c.document,p=function(a,b){return new p.fn.init(a,b)},Eb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Fb=/^-ms-/,mb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"2.1.1",constructor:p,selector:"",length:0,toArray:function(){return da.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:da.call(this)},pushStack:function(a){a=p.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a,b){return p.each(this,a,b)},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(da.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ca,sort:ta.sort,splice:ta.splice};p.extend=p.fn.extend=function(){var a,
b,c,e,g,d=arguments[0]||{},n=1,f=arguments.length,h=!1;"boolean"===typeof d&&(h=d,d=arguments[n]||{},n++);"object"===typeof d||p.isFunction(d)||(d={});n===f&&(d=this,n--);for(;n<f;n++)if(null!=(a=arguments[n]))for(b in a)c=d[b],e=a[b],d!==e&&(h&&e&&(p.isPlainObject(e)||(g=p.isArray(e)))?(g?(g=!1,c=c&&p.isArray(c)?c:[]):c=c&&p.isPlainObject(c)?c:{},d[b]=p.extend(h,c,e)):void 0!==e&&(d[b]=e));return d};p.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!p.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==p.type(a)||a.nodeType||p.isWindow(a)||a.constructor&&!Da.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?
xa[Db.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=p.trim(a))1===a.indexOf("use strict")?(b=J.createElement("script"),b.text=a,J.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(Fb,"ms-").replace(mb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,g=0,d=a.length;e=f(a);if(c)if(e)for(;g<d&&(e=b.apply(a[g],c),!1!==e);g++);else for(g in a){if(e=b.apply(a[g],c),!1===
e)break}else if(e)for(;g<d&&(e=b.call(a[g],g,a[g]),!1!==e);g++);else for(g in a)if(e=b.call(a[g],g,a[g]),!1===e)break;return a},trim:function(a){return null==a?"":(a+"").replace(Eb,"")},makeArray:function(a,b){var c=b||[];null!=a&&(f(Object(a))?p.merge(c,"string"===typeof a?[a]:a):Ca.call(c,a));return c},inArray:function(a,b,c){return null==b?-1:pa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,e=0,g=a.length;e<c;e++)a[g++]=b[e];a.length=g;return a},grep:function(a,b,c){for(var e=[],g=0,d=a.length,
n=!c;g<d;g++)c=!b(a[g],g),c!==n&&e.push(a[g]);return e},map:function(a,b,c){var e,g=0,d=a.length,n=[];if(f(a))for(;g<d;g++)e=b(a[g],g,c),null!=e&&n.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&n.push(e);return Ha.apply([],n)},guid:1,proxy:function(a,b){var c,e;"string"===typeof b&&(c=a[b],b=a,a=c);if(p.isFunction(a))return e=da.call(arguments,2),c=function(){return a.apply(b||this,e.concat(da.call(arguments)))},c.guid=a.guid=a.guid||p.guid++,c},now:Date.now,support:W});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){xa["[object "+b+"]"]=b.toLowerCase()});var Ia=function(a){function b(a,c,e,g){var d,n,t,f,G;(c?c.ownerDocument||c:X)!==L&&E(c);c=c||L;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(f=c.nodeType)&&9!==f)return[];if(y&&!g){if(d=qa.exec(a))if(t=d[1])if(9===f)if((n=c.getElementById(t))&&n.parentNode){if(n.id===t)return e.push(n),e}else return e;else{if(c.ownerDocument&&(n=c.ownerDocument.getElementById(t))&&ca(c,n)&&n.id===t)return e.push(n),e}else{if(d[2])return T.apply(e,c.getElementsByTagName(a)),
e;if((t=d[3])&&r.getElementsByClassName&&c.getElementsByClassName)return T.apply(e,c.getElementsByClassName(t)),e}if(r.qsa&&(!F||!F.test(a))){n=d=J;t=c;G=9===f&&a;if(1===f&&"object"!==c.nodeName.toLowerCase()){f=z(a);(d=c.getAttribute("id"))?n=d.replace(Da,"\\$&"):c.setAttribute("id",n);n="[id='"+n+"'] ";for(t=f.length;t--;)f[t]=n+I(f[t]);t=la.test(a)&&s(c.parentNode)||c;G=f.join(",")}if(G)try{return T.apply(e,t.querySelectorAll(G)),e}catch(h){}finally{d||c.removeAttribute("id")}}}return K(a.replace(da,
"$1"),c,e,g)}function c(){function a(c,e){b.push(c+" ")>v.cacheLength&&delete a[b.shift()];return a[c+" "]=e}var b=[];return a}function e(a){a[J]=!0;return a}function g(a){var b=L.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function d(a,b){for(var c=a.split("|"),e=a.length;e--;)v.attrHandle[c[e]]=b}function n(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(e)return e;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return e(function(b){b=+b;return e(function(c,e){for(var s,g=a([],c.length,b),d=g.length;d--;)c[s=g[d]]&&(c[s]=!(e[s]=c[s]))})})}function s(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function t(){}function I(a){for(var b=
0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function u(a,b,c){var e=b.dir,s=c&&"parentNode"===e,g=Q++;return b.first?function(b,c,g){for(;b=b[e];)if(1===b.nodeType||s)return a(b,c,g)}:function(b,c,d){var n,t,f=[O,g];if(d)for(;b=b[e];){if((1===b.nodeType||s)&&a(b,c,d))return!0}else for(;b=b[e];)if(1===b.nodeType||s){t=b[J]||(b[J]={});if((n=t[e])&&n[0]===O&&n[1]===g)return f[2]=n[2];t[e]=f;if(f[2]=a(b,c,d))return!0}}}function m(a){return 1<a.length?function(b,c,e){for(var s=a.length;s--;)if(!a[s](b,
c,e))return!1;return!0}:a[0]}function p(a,b,c,e,s){for(var g,d=[],n=0,t=a.length,f=null!=b;n<t;n++)if(g=a[n])if(!c||c(g,e,s))d.push(g),f&&b.push(n);return d}function q(a,c,s,g,d,n){g&&!g[J]&&(g=q(g));d&&!d[J]&&(d=q(d,n));return e(function(e,n,t,f){var G,I,h=[],l=[],u=n.length,m;if(!(m=e)){m=c||"*";for(var Y=t.nodeType?[t]:t,q=[],Fa=0,w=Y.length;Fa<w;Fa++)b(m,Y[Fa],q);m=q}m=!a||!e&&c?m:p(m,h,a,t,f);Y=s?d||(e?a:u||g)?[]:n:m;s&&s(m,Y,t,f);if(g)for(G=p(Y,l),g(G,[],t,f),t=G.length;t--;)if(I=G[t])Y[l[t]]=
!(m[l[t]]=I);if(e){if(d||a){if(d){G=[];for(t=Y.length;t--;)(I=Y[t])&&G.push(m[t]=I);d(null,Y=[],G,f)}for(t=Y.length;t--;)(I=Y[t])&&-1<(G=d?ha.call(e,I):h[t])&&(e[G]=!(n[G]=I))}}else Y=p(Y===n?Y.splice(u,Y.length):Y),d?d(null,n,Y,f):T.apply(n,Y)})}function w(a){var b,c,e,s=a.length,g=v.relative[a[0].type];c=g||v.relative[" "];for(var d=g?1:0,n=u(function(a){return a===b},c,!0),t=u(function(a){return-1<ha.call(b,a)},c,!0),f=[function(a,c,e){return!g&&(e||c!==V)||((b=c).nodeType?n(a,c,e):t(a,c,e))}];d<
s;d++)if(c=v.relative[a[d].type])f=[u(m(f),c)];else{c=v.filter[a[d].type].apply(null,a[d].matches);if(c[J]){for(e=++d;e<s&&!v.relative[a[e].type];e++);return q(1<d&&m(f),1<d&&I(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(da,"$1"),c,d<e&&w(a.slice(d,e)),e<s&&w(a=a.slice(e)),e<s&&I(a))}f.push(c)}return m(f)}function k(a,c){var s=0<c.length,g=0<a.length,d=function(e,d,n,t,f){var G,I,h,l=0,m="0",u=e&&[],Y=[],q=V,Fa=e||g&&v.find.TAG("*",f),w=O+=null==q?1:Math.random()||.1,k=Fa.length;
for(f&&(V=d!==L&&d);m!==k&&null!=(G=Fa[m]);m++){if(g&&G){for(I=0;h=a[I++];)if(h(G,d,n)){t.push(G);break}f&&(O=w)}s&&((G=!h&&G)&&l--,e&&u.push(G))}l+=m;if(s&&m!==l){for(I=0;h=c[I++];)h(u,Y,d,n);if(e){if(0<l)for(;m--;)u[m]||Y[m]||(Y[m]=Ha.call(t));Y=p(Y)}T.apply(t,Y);f&&!e&&0<Y.length&&1<l+c.length&&b.uniqueSort(t)}f&&(O=w,V=q);return u};return s?e(d):d}var B,r,v,x,C,z,H,K,V,A,N,E,L,P,y,F,U,M,ca,J="sizzle"+-new Date,X=a.document,O=0,Q=0,W=c(),za=c(),S=c(),xa=function(a,b){a===b&&(N=!0);return 0},ka=
{}.hasOwnProperty,R=[],Ha=R.pop,ra=R.push,T=R.push,Z=R.slice,ha=R.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},aa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),sa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+aa+"))|)[\\x20\\t\\r\\n\\f]*\\]",ta=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
sa+")*)|.*)\\)|)",da=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,oa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ga=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ia=new RegExp(ta),ja=new RegExp("^"+aa+"$"),ba={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+sa),PSEUDO:new RegExp("^"+ta),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,fa=/^[^{]+\{\s*\[native \w/,qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,la=/[+~]/,Da=/'|\\/g,ea=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,pa=function(a,b,c){a="0x"+b-65536;
return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{T.apply(R=Z.call(X.childNodes),X.childNodes),R[X.childNodes.length].nodeType}catch(wa){T={apply:R.length?function(a,b){ra.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,e=0;a[c++]=b[e++];);a.length=c-1}}}r=b.support={};C=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=b.setDocument=function(a){var b=a?a.ownerDocument||a:X;a=b.defaultView;if(b===
L||9!==b.nodeType||!b.documentElement)return L;L=b;P=b.documentElement;y=!C(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){E()},!1):a.attachEvent&&a.attachEvent("onunload",function(){E()}));r.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});r.getElementsByTagName=g(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});r.getElementsByClassName=fa.test(b.getElementsByClassName)&&g(function(a){a.innerHTML=
"<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});r.getById=g(function(a){P.appendChild(a).id=J;return!b.getElementsByName||!b.getElementsByName(J).length});r.getById?(v.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&y){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},v.filter.ID=function(a){var b=a.replace(ea,pa);return function(a){return a.getAttribute("id")===b}}):(delete v.find.ID,v.filter.ID=function(a){var b=
a.replace(ea,pa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});v.find.TAG=r.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,e=[],s=0,g=b.getElementsByTagName(a);if("*"===a){for(;c=g[s++];)1===c.nodeType&&e.push(c);return e}return g};v.find.CLASS=r.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&y)return b.getElementsByClassName(a)};
U=[];F=[];if(r.qsa=fa.test(b.querySelectorAll))g(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||F.push(":checked")}),g(function(a){var c=
b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||F.push(":enabled",":disabled");a.querySelectorAll("*,:x");F.push(",.*:")});(r.matchesSelector=fa.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&g(function(a){r.disconnectedMatch=M.call(a,"div");M.call(a,"[s!='']:x");U.push("!=",
ta)});F=F.length&&new RegExp(F.join("|"));U=U.length&&new RegExp(U.join("|"));ca=(a=fa.test(P.compareDocumentPosition))||fa.test(P.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(c.contains?c.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};xa=a?function(a,c){if(a===c)return N=!0,0;var e=!a.compareDocumentPosition-!c.compareDocumentPosition;
if(e)return e;e=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return e&1||!r.sortDetached&&c.compareDocumentPosition(a)===e?a===b||a.ownerDocument===X&&ca(X,a)?-1:c===b||c.ownerDocument===X&&ca(X,c)?1:A?ha.call(A,a)-ha.call(A,c):0:e&4?-1:1}:function(a,c){if(a===c)return N=!0,0;var e,s=0;e=a.parentNode;var g=c.parentNode,d=[a],t=[c];if(!e||!g)return a===b?-1:c===b?1:e?-1:g?1:A?ha.call(A,a)-ha.call(A,c):0;if(e===g)return n(a,c);for(e=a;e=e.parentNode;)d.unshift(e);for(e=
c;e=e.parentNode;)t.unshift(e);for(;d[s]===t[s];)s++;return s?n(d[s],t[s]):d[s]===X?-1:t[s]===X?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==L&&E(a);c=c.replace(ga,"='$1']");if(!(!r.matchesSelector||!y||U&&U.test(c)||F&&F.test(c)))try{var e=M.call(a,c);if(e||r.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(s){}return 0<b(c,L,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==L&&E(a);return ca(a,
b)};b.attr=function(a,b){(a.ownerDocument||a)!==L&&E(a);var c=v.attrHandle[b.toLowerCase()],c=c&&ka.call(v.attrHandle,b.toLowerCase())?c(a,b,!y):void 0;return void 0!==c?c:r.attributes||!y?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],e=0,s=0;N=!r.detectDuplicates;A=!r.sortStable&&a.slice(0);a.sort(xa);if(N){for(;b=a[s++];)b===a[s]&&(e=c.push(s));for(;e--;)a.splice(c[e],
1)}A=null;return a};x=b.getText=function(a){var b,c="",e=0;b=a.nodeType;if(!b)for(;b=a[e++];)c+=x(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===b||4===b)return a.nodeValue;return c};v=b.selectors={cacheLength:50,createPseudo:e,match:ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(ea,pa);a[3]=(a[3]||a[4]||a[5]||"").replace(ea,pa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ba.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ia.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ea,pa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=W[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&W(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,e){return function(s){s=
b.attr(s,a);if(null==s)return"!="===c;if(!c)return!0;s+="";return"="===c?s===e:"!="===c?s!==e:"^="===c?e&&0===s.indexOf(e):"*="===c?e&&-1<s.indexOf(e):"$="===c?e&&s.slice(-e.length)===e:"~="===c?-1<(" "+s+" ").indexOf(e):"|="===c?s===e||s.slice(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,c,e,s){var g="nth"!==a.slice(0,3),d="last"!==a.slice(-4),n="of-type"===b;return 1===e&&0===s?function(a){return!!a.parentNode}:function(b,c,t){var f,G,I,h,l;c=g!==d?"nextSibling":"previousSibling";var m=b.parentNode,
u=n&&b.nodeName.toLowerCase();t=!t&&!n;if(m){if(g){for(;c;){for(G=b;G=G[c];)if(n?G.nodeName.toLowerCase()===u:1===G.nodeType)return!1;l=c="only"===a&&!l&&"nextSibling"}return!0}l=[d?m.firstChild:m.lastChild];if(d&&t)for(t=m[J]||(m[J]={}),f=t[a]||[],h=f[0]===O&&f[1],I=f[0]===O&&f[2],G=h&&m.childNodes[h];G=++h&&G&&G[c]||(I=h=0)||l.pop();){if(1===G.nodeType&&++I&&G===b){t[a]=[O,h,I];break}}else if(t&&(f=(b[J]||(b[J]={}))[a])&&f[0]===O)I=f[1];else for(;(G=++h&&G&&G[c]||(I=h=0)||l.pop())&&((n?G.nodeName.toLowerCase()!==
u:1!==G.nodeType)||!++I||(t&&((G[J]||(G[J]={}))[a]=[O,I]),G!==b)););I-=s;return I===e||0===I%e&&0<=I/e}}},PSEUDO:function(a,c){var s,g=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return g[J]?g(c):1<g.length?(s=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,b){for(var e,s=g(a,c),d=s.length;d--;)e=ha.call(a,s[d]),a[e]=!(b[e]=s[d])}):function(a){return g(a,0,s)}):g}},pseudos:{not:e(function(a){var b=[],c=[],s=H(a.replace(da,"$1"));return s[J]?
e(function(a,b,c,e){e=s(a,null,e,[]);for(var g=a.length;g--;)if(c=e[g])a[g]=!(b[g]=c)}):function(a,e,g){b[0]=a;s(b,null,g,c);return!c.pop()}}),has:e(function(a){return function(c){return 0<b(a,c).length}}),contains:e(function(a){return function(b){return-1<(b.textContent||b.innerText||x(b)).indexOf(a)}}),lang:e(function(a){ja.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ea,pa).toLowerCase();return function(b){var c;do if(c=y?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=
c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===P},focus:function(a){return a===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&
!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===
a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,c){return[0>c?c+b:c]}),even:l(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:l(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:l(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:l(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};v.pseudos.nth=v.pseudos.eq;for(B in{radio:!0,checkbox:!0,file:!0,password:!0,
image:!0})v.pseudos[B]=f(B);for(B in{submit:!0,reset:!0})v.pseudos[B]=h(B);t.prototype=v.filters=v.pseudos;v.setFilters=new t;z=b.tokenize=function(a,c){var e,s,g,d,n,t,f;if(n=za[a+" "])return c?0:n.slice(0);n=a;t=[];for(f=v.preFilter;n;){if(!e||(s=oa.exec(n)))s&&(n=n.slice(s[0].length)||n),t.push(g=[]);e=!1;if(s=Ca.exec(n))e=s.shift(),g.push({value:e,type:s[0].replace(da," ")}),n=n.slice(e.length);for(d in v.filter)!(s=ba[d].exec(n))||f[d]&&!(s=f[d](s))||(e=s.shift(),g.push({value:e,type:d,matches:s}),
n=n.slice(e.length));if(!e)break}return c?n.length:n?b.error(a):za(a,t).slice(0)};H=b.compile=function(a,b){var c,e=[],s=[],g=S[a+" "];if(!g){b||(b=z(a));for(c=b.length;c--;)g=w(b[c]),g[J]?e.push(g):s.push(g);g=S(a,k(s,e));g.selector=a}return g};K=b.select=function(a,b,c,e){var g,d,n,t,f="function"===typeof a&&a,G=!e&&z(a=f.selector||a);c=c||[];if(1===G.length){d=G[0]=G[0].slice(0);if(2<d.length&&"ID"===(n=d[0]).type&&r.getById&&9===b.nodeType&&y&&v.relative[d[1].type]){b=(v.find.ID(n.matches[0].replace(ea,
pa),b)||[])[0];if(!b)return c;f&&(b=b.parentNode);a=a.slice(d.shift().value.length)}for(g=ba.needsContext.test(a)?0:d.length;g--;){n=d[g];if(v.relative[t=n.type])break;if(t=v.find[t])if(e=t(n.matches[0].replace(ea,pa),la.test(d[0].type)&&s(b.parentNode)||b)){d.splice(g,1);a=e.length&&I(d);if(!a)return T.apply(c,e),c;break}}}(f||H(a,G))(e,b,!y,c,la.test(a)&&s(b.parentNode)||b);return c};r.sortStable=J.split("").sort(xa).join("")===J;r.detectDuplicates=!!N;E();r.sortDetached=g(function(a){return a.compareDocumentPosition(L.createElement("div"))&
1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});r.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||d("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var e;if(!c)return!0===a[b]?b.toLowerCase():(e=a.getAttributeNode(b))&&e.specified?e.value:null});return b}(c);p.find=Ia;p.expr=Ia.selectors;p.expr[":"]=p.expr.pseudos;p.unique=Ia.uniqueSort;p.text=Ia.getText;p.isXMLDoc=Ia.isXML;p.contains=Ia.contains;var nb=p.expr.match.needsContext,ob=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ab=/^.[^:#\[\.,]*$/;p.filter=function(a,b,c){var e=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?p.find.matchesSelector(e,a)?[e]:[]:p.find.matches(a,p.grep(b,
function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var b,c=this.length,e=[],g=this;if("string"!==typeof a)return this.pushStack(p(a).filter(function(){for(b=0;b<c;b++)if(p.contains(g[b],this))return!0}));for(b=0;b<c;b++)p.find(a,g[b],e);e=this.pushStack(1<c?p.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===
typeof a&&nb.test(a)?p(a):a||[],!1).length}});var Ua,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(a,b){var c;if(!a)return this;if("string"===typeof a){c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Gb.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||Ua).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),ob.test(c[1])&&p.isPlainObject(b))for(c in b)if(p.isFunction(this[c]))this[c](b[c]);
else this.attr(c,b[c])}else(c=J.getElementById(c[2]))&&c.parentNode&&(this.length=1,this[0]=c),this.context=J,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(p.isFunction(a))return"undefined"!==typeof Ua.ready?Ua.ready(a):a(p);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return p.makeArray(a,this)}).prototype=p.fn;Ua=p(J);var Va=/^(?:parents|prev(?:Until|All))/,eb={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(a,
b,c){for(var e=[],g=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&p(a).is(c))break;e.push(a)}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});p.fn.extend({has:function(a){var b=p(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(p.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,e=0,g=this.length,d=[],n=nb.test(a)||"string"!==typeof a?p(a,b||this.context):0;e<g;e++)for(c=this[e];c&&c!==
b;c=c.parentNode)if(11>c.nodeType&&(n?-1<n.index(c):1===c.nodeType&&p.find.matchesSelector(c,a))){d.push(c);break}return this.pushStack(1<d.length?p.unique(d):d)},index:function(a){return a?"string"===typeof a?pa.call(p(a),this[0]):pa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(p.unique(p.merge(this.get(),p(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return q(a,"nextSibling")},prev:function(a){return q(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return a.contentDocument||p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,e){var g=p.map(this,b,c);"Until"!==a.slice(-5)&&(e=c);e&&"string"===typeof e&&(g=p.filter(e,g));1<this.length&&(eb[a]||p.unique(g),Va.test(a)&&g.reverse());return this.pushStack(g)}});var qa=/\S+/g,lb={};p.Callbacks=function(a){a="string"===typeof a?lb[a]||l(a):p.extend({},a);var b,c,e,g,d,n,f=[],h=!a.once&&[],m=function(t){b=
a.memory&&t;c=!0;n=g||0;g=0;d=f.length;for(e=!0;f&&n<d;n++)if(!1===f[n].apply(t[0],t[1])&&a.stopOnFalse){b=!1;break}e=!1;f&&(h?h.length&&m(h.shift()):b?f=[]:s.disable())},s={add:function(){if(f){var c=f.length;(function Y(b){p.each(b,function(b,c){var e=p.type(c);"function"===e?a.unique&&s.has(c)||f.push(c):c&&c.length&&"string"!==e&&Y(c)})})(arguments);e?d=f.length:b&&(g=c,m(b))}return this},remove:function(){f&&p.each(arguments,function(a,b){for(var c;-1<(c=p.inArray(b,f,c));)f.splice(c,1),e&&(c<=
d&&d--,c<=n&&n--)});return this},has:function(a){return a?-1<p.inArray(a,f):!(!f||!f.length)},empty:function(){f=[];d=0;return this},disable:function(){f=h=b=void 0;return this},disabled:function(){return!f},lock:function(){h=void 0;b||s.disable();return this},locked:function(){return!h},fireWith:function(a,b){!f||c&&!h||(b=b||[],b=[a,b.slice?b.slice():b],e?h.push(b):m(b));return this},fire:function(){s.fireWith(this,arguments);return this},fired:function(){return!!c}};return s};p.extend({Deferred:function(a){var b=
[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var n=p.isFunction(a[b])&&a[b];g[d[1]](function(){var a=n&&n.apply(this,arguments);if(a&&p.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[d[0]+"With"](this===e?c.promise():this,n?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?p.extend(a,e):e}},g={};e.pipe=e.then;p.each(b,function(a,d){var n=d[2],f=d[3];e[d[1]]=n.add;f&&n.add(function(){c=f},b[a^1][2].disable,b[2][2].lock);g[d[0]]=function(){g[d[0]+"With"](this===g?e:this,arguments);return this};g[d[0]+"With"]=n.fireWith});e.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,c=da.call(arguments),e=c.length,g=1!==e||a&&p.isFunction(a.promise)?
e:0,d=1===g?a:p.Deferred(),n=function(a,b,c){return function(e){b[a]=this;c[a]=1<arguments.length?da.call(arguments):e;c===f?d.notifyWith(b,c):--g||d.resolveWith(b,c)}},f,h,l;if(1<e)for(f=Array(e),h=Array(e),l=Array(e);b<e;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(n(b,l,c)).fail(d.reject).progress(n(b,h,f)):--g;g||d.resolveWith(l,c);return d.promise()}});var Wa;p.fn.ready=function(a){p.ready.promise().done(a);return this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:
p.ready(!0)},ready:function(a){(!0===a?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==a&&0<--p.readyWait||(Wa.resolveWith(J,[p]),p.fn.triggerHandler&&(p(J).triggerHandler("ready"),p(J).off("ready"))))}});p.ready.promise=function(a){Wa||(Wa=p.Deferred(),"complete"===J.readyState?setTimeout(p.ready):(J.addEventListener("DOMContentLoaded",m,!1),c.addEventListener("load",m,!1)));return Wa.promise(a)};p.ready.promise();var ea=p.access=function(a,b,c,e,g,d,n){var f=0,h=a.length,l=null==c;if("object"===p.type(c))for(f in g=
!0,c)p.access(a,b,f,c[f],!0,d,n);else if(void 0!==e&&(g=!0,p.isFunction(e)||(n=!0),l&&(n?(b.call(a,e),b=null):(l=b,b=function(a,b,c){return l.call(p(a),c)})),b))for(;f<h;f++)b(a[f],c,n?e:e.call(a[f],f,b(a[f],c)));return g?a:l?b.call(a):h?b(a[0],c):d};p.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};r.uid=1;r.accepts=p.acceptData;r.prototype={key:function(a){if(!r.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=r.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,
b)}catch(e){b[this.expando]=c,p.extend(a,b)}}this.cache[c]||(this.cache[c]={});return c},set:function(a,b,c){var e;a=this.key(a);var g=this.cache[a];if("string"===typeof b)g[b]=c;else if(p.isEmptyObject(g))p.extend(this.cache[a],b);else for(e in b)g[e]=b[e];return g},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return c=this.get(a,b),void 0!==c?c:this.get(a,p.camelCase(b));this.set(a,b,c);return void 0!==
c?c:b},remove:function(a,b){var c,e;c=this.key(a);var g=this.cache[c];if(void 0===b)this.cache[c]={};else for(p.isArray(b)?e=b.concat(b.map(p.camelCase)):(c=p.camelCase(b),b in g?e=[b,c]:(e=c,e=e in g?[e]:e.match(qa)||[])),c=e.length;c--;)delete g[e[c]]},hasData:function(a){return!p.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var M=new r,S=new r,Bb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qa=/([A-Z])/g;p.extend({hasData:function(a){return S.hasData(a)||
M.hasData(a)},data:function(a,b,c){return S.access(a,b,c)},removeData:function(a,b){S.remove(a,b)},_data:function(a,b,c){return M.access(a,b,c)},_removeData:function(a,b){M.remove(a,b)}});p.fn.extend({data:function(a,b){var c,e,g,d=this[0],n=d&&d.attributes;if(void 0===a){if(this.length&&(g=S.get(d),1===d.nodeType&&!M.get(d,"hasDataAttrs"))){for(c=n.length;c--;)n[c]&&(e=n[c].name,0===e.indexOf("data-")&&(e=p.camelCase(e.slice(5)),h(d,e,g[e])));M.set(d,"hasDataAttrs",!0)}return g}return"object"===
typeof a?this.each(function(){S.set(this,a)}):ea(this,function(b){var c,e=p.camelCase(a);if(d&&void 0===b){c=S.get(d,a);if(void 0!==c)return c;c=S.get(d,e);if(void 0!==c)return c;c=h(d,e,void 0);if(void 0!==c)return c}else this.each(function(){var c=S.get(this,e);S.set(this,e,b);-1!==a.indexOf("-")&&void 0!==c&&S.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){S.remove(this,a)})}});p.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+
"queue",e=M.get(a,b),c&&(!e||p.isArray(c)?e=M.access(a,b,p.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),e=c.length,g=c.shift(),d=p._queueHooks(a,b),n=function(){p.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),e--);g&&("fx"===b&&c.unshift("inprogress"),delete d.stop,g.call(a,n,d));!e&&d&&d.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return M.get(a,c)||M.access(a,c,{empty:p.Callbacks("once memory").add(function(){M.remove(a,[b+"queue",c])})})}});
p.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?p.queue(this[0],a):void 0===b?this:this.each(function(){var c=p.queue(this,a,b);p._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,g=p.Deferred(),d=this,n=this.length,f=function(){--e||g.resolveWith(d,[d])};"string"!==
typeof a&&(b=a,a=void 0);for(a=a||"fx";n--;)(c=M.get(d[n],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(f));f();return g.promise(b)}});var na=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],Aa=function(a,b){a=b||a;return"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)},pb=/^(?:checkbox|radio)$/i;(function(){var a=J.createDocumentFragment().appendChild(J.createElement("div")),b=J.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked",
"checked");b.setAttribute("name","t");a.appendChild(b);W.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";W.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();W.focusinBubbles="onfocusin"in c;var Hb=/^key/,Ib=/^(?:mouse|pointer|contextmenu)|click/,qb=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(a,b,c,e,g){var d,n,f,h,l,s,t,I,m;if(l=M.get(a))for(c.handler&&(d=c,c=d.handler,g=d.selector),c.guid||(c.guid=
p.guid++),(h=l.events)||(h=l.events={}),(n=l.handle)||(n=l.handle=function(b){return"undefined"!==typeof p&&p.event.triggered!==b.type?p.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(qa)||[""],l=b.length;l--;)f=Q.exec(b[l])||[],I=s=f[1],m=(f[2]||"").split(".").sort(),I&&(f=p.event.special[I]||{},I=(g?f.delegateType:f.bindType)||I,f=p.event.special[I]||{},s=p.extend({type:I,origType:s,data:e,handler:c,guid:c.guid,selector:g,needsContext:g&&p.expr.match.needsContext.test(g),namespace:m.join(".")},
d),(t=h[I])||(t=h[I]=[],t.delegateCount=0,f.setup&&!1!==f.setup.call(a,e,m,n)||a.addEventListener&&a.addEventListener(I,n,!1)),f.add&&(f.add.call(a,s),s.handler.guid||(s.handler.guid=c.guid)),g?t.splice(t.delegateCount++,0,s):t.push(s),p.event.global[I]=!0)},remove:function(a,b,c,e,g){var d,n,f,h,l,s,t,I,m,u,q,w=M.hasData(a)&&M.get(a);if(w&&(h=w.events)){b=(b||"").match(qa)||[""];for(l=b.length;l--;)if(f=Q.exec(b[l])||[],m=q=f[1],u=(f[2]||"").split(".").sort(),m){t=p.event.special[m]||{};m=(e?t.delegateType:
t.bindType)||m;I=h[m]||[];f=f[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");for(n=d=I.length;d--;)s=I[d],!g&&q!==s.origType||c&&c.guid!==s.guid||f&&!f.test(s.namespace)||e&&e!==s.selector&&("**"!==e||!s.selector)||(I.splice(d,1),s.selector&&I.delegateCount--,t.remove&&t.remove.call(a,s));n&&!I.length&&(t.teardown&&!1!==t.teardown.call(a,u,w.handle)||p.removeEvent(a,m,w.handle),delete h[m])}else for(m in h)p.event.remove(a,m+b[l],c,e,!0);p.isEmptyObject(h)&&(delete w.handle,M.remove(a,
"events"))}},trigger:function(a,b,e,g){var d,n,f,h,l,m,s=[e||J],t=Da.call(a,"type")?a.type:a;m=Da.call(a,"namespace")?a.namespace.split("."):[];n=d=e=e||J;if(3!==e.nodeType&&8!==e.nodeType&&!qb.test(t+p.event.triggered)&&(0<=t.indexOf(".")&&(m=t.split("."),t=m.shift(),m.sort()),h=0>t.indexOf(":")&&"on"+t,a=a[p.expando]?a:new p.Event(t,"object"===typeof a&&a),a.isTrigger=g?2:3,a.namespace=m.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,
a.target||(a.target=e),b=null==b?[a]:p.makeArray(b,[a]),m=p.event.special[t]||{},g||!m.trigger||!1!==m.trigger.apply(e,b))){if(!g&&!m.noBubble&&!p.isWindow(e)){f=m.delegateType||t;qb.test(f+t)||(n=n.parentNode);for(;n;n=n.parentNode)s.push(n),d=n;d===(e.ownerDocument||J)&&s.push(d.defaultView||d.parentWindow||c)}for(d=0;(n=s[d++])&&!a.isPropagationStopped();)a.type=1<d?f:m.bindType||t,(l=(M.get(n,"events")||{})[a.type]&&M.get(n,"handle"))&&l.apply(n,b),(l=h&&n[h])&&l.apply&&p.acceptData(n)&&(a.result=
l.apply(n,b),!1===a.result&&a.preventDefault());a.type=t;g||a.isDefaultPrevented()||m._default&&!1!==m._default.apply(s.pop(),b)||!p.acceptData(e)||!h||!p.isFunction(e[t])||p.isWindow(e)||((d=e[h])&&(e[h]=null),p.event.triggered=t,e[t](),p.event.triggered=void 0,d&&(e[h]=d));return a.result}},dispatch:function(a){a=p.event.fix(a);var b,c,e,g,d=[],n=da.call(arguments);b=(M.get(this,"events")||{})[a.type]||[];var f=p.event.special[a.type]||{};n[0]=a;a.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,
a)){d=p.event.handlers.call(this,a,b);for(b=0;(g=d[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,c=0;(e=g.handlers[c++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,e=((p.event.special[e.origType]||{}).handle||e.handler).apply(g.elem,n),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,e,g,d,n=[],f=
b.delegateCount,h=a.target;if(f&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!==this;h=h.parentNode||this)if(!0!==h.disabled||"click"!==a.type){e=[];for(c=0;c<f;c++)d=b[c],g=d.selector+" ",void 0===e[g]&&(e[g]=d.needsContext?0<=p(g,this).index(h):p.find(g,this,null,[h]).length),e[g]&&e.push(d);e.length&&n.push({elem:h,handlers:e})}f<b.length&&n.push({elem:this,handlers:b.slice(f)});return n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,g=b.button;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||J,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=
b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[p.expando])return a;var b,c,e;b=a.type;var g=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=Ib.test(b)?this.mouseHooks:Hb.test(b)?this.keyHooks:{});e=d.props?this.props.concat(d.props):this.props;a=new p.Event(g);for(b=e.length;b--;)c=e[b],a[c]=g[c];a.target||(a.target=J);3===a.target.nodeType&&(a.target=a.target.parentNode);return d.filter?
d.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==a()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===a()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,b,c,e){a=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?p.event.trigger(a,null,b):p.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};p.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)};p.Event=function(a,c){if(!(this instanceof p.Event))return new p.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
b:n):this.type=a;c&&p.extend(this,c);this.timeStamp=a&&a.timeStamp||p.now();this[p.expando]=!0};p.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=b;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=b;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
b;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,e=a.relatedTarget,g=a.handleObj;if(!e||e!==this&&!p.contains(this,e))a.type=g.origType,c=g.handler.apply(this,arguments),a.type=b;return c}}});W.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=
function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){var e=this.ownerDocument||this,g=M.access(e,b);g||e.addEventListener(a,c,!0);M.access(e,b,(g||0)+1)},teardown:function(){var e=this.ownerDocument||this,g=M.access(e,b)-1;g?M.access(e,b,g):(e.removeEventListener(a,c,!0),M.remove(e,b))}}});p.fn.extend({on:function(a,b,c,e,g){var d,f;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],g);return this}null==c&&null==
e?(e=b,c=b=void 0):null==e&&("string"===typeof b?(e=c,c=void 0):(e=c,c=b,b=void 0));if(!1===e)e=n;else if(!e)return this;1===g&&(d=e,e=function(a){p().off(a);return d.apply(this,arguments)},e.guid=d.guid||(d.guid=p.guid++));return this.each(function(){p.event.add(this,a,e,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),
this;if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=n);return this.each(function(){p.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return p.event.trigger(a,b,c,!0)}});var rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ja=/<([\w:]+)/,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,sb=/checked\s*(?:[^=]|=\s*.checked.)/i,
fb=/^$|\/(?:java|ecma)script/i,bb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ba={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ba.optgroup=ba.option;ba.tbody=ba.tfoot=ba.colgroup=ba.caption=ba.thead;ba.th=ba.td;p.extend({clone:function(a,b,c){var e,g,d,n,f=a.cloneNode(!0),h=p.contains(a.ownerDocument,
a);if(!(W.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a)))for(n=v(f),d=v(a),e=0,g=d.length;e<g;e++){var l=d[e],s=n[e],t=s.nodeName.toLowerCase();if("input"===t&&pb.test(l.type))s.checked=l.checked;else if("input"===t||"textarea"===t)s.defaultValue=l.defaultValue}if(b)if(c)for(d=d||v(a),n=n||v(f),e=0,g=d.length;e<g;e++)B(d[e],n[e]);else B(a,f);n=v(f,"script");0<n.length&&w(n,!h&&v(a,"script"));return f},buildFragment:function(a,b,c,e){for(var g,d,n,f=b.createDocumentFragment(),h=[],
l=0,s=a.length;l<s;l++)if((g=a[l])||0===g)if("object"===p.type(g))p.merge(h,g.nodeType?[g]:g);else if(Jb.test(g)){d=d||f.appendChild(b.createElement("div"));n=(Ja.exec(g)||["",""])[1].toLowerCase();n=ba[n]||ba._default;d.innerHTML=n[1]+g.replace(rb,"<$1></$2>")+n[2];for(n=n[0];n--;)d=d.lastChild;p.merge(h,d.childNodes);d=f.firstChild;d.textContent=""}else h.push(b.createTextNode(g));f.textContent="";for(l=0;g=h[l++];)if(!e||-1===p.inArray(g,e))if(a=p.contains(g.ownerDocument,g),d=v(f.appendChild(g),
"script"),a&&w(d),c)for(n=0;g=d[n++];)fb.test(g.type||"")&&c.push(g);return f},cleanData:function(a){for(var b,c,e,g,d=p.event.special,n=0;void 0!==(c=a[n]);n++){if(p.acceptData(c)&&(g=c[M.expando])&&(b=M.cache[g])){if(b.events)for(e in b.events)d[e]?p.event.remove(c,e):p.removeEvent(c,e,b.handle);M.cache[g]&&delete M.cache[g]}delete S.cache[c[S.expando]]}}});p.fn.extend({text:function(a){return ea(this,function(a){return void 0===a?p.text(this):this.empty().each(function(){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||e(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=e(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=a?p.filter(a,this):this,g=0;null!=(c=e[g]);g++)b||1!==c.nodeType||p.cleanData(v(c)),c.parentNode&&(b&&p.contains(c.ownerDocument,c)&&w(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(p.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,
b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return p.clone(this,a,b)})},html:function(a){return ea(this,function(a){var b=this[0]||{},c=0,e=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Kb.test(a)&&!ba[(Ja.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(rb,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},1===b.nodeType&&(p.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=
arguments[0];this.domManip(arguments,function(b){a=this.parentNode;p.cleanData(v(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Ha.apply([],a);var c,e,d,n,f=0,h=this.length,l=this,m=h-1,s=a[0],t=p.isFunction(s);if(t||1<h&&"string"===typeof s&&!W.checkClone&&sb.test(s))return this.each(function(c){var e=l.eq(c);t&&(a[0]=s.call(this,c,e.html()));e.domManip(a,b)});if(h&&(c=p.buildFragment(a,
this[0].ownerDocument,!1,this),e=c.firstChild,1===c.childNodes.length&&(c=e),e)){e=p.map(v(c,"script"),g);for(d=e.length;f<h;f++)n=c,f!==m&&(n=p.clone(n,!0,!0),d&&p.merge(e,v(n,"script"))),b.call(this[f],n,f);if(d)for(c=e[e.length-1].ownerDocument,p.map(e,u),f=0;f<d;f++)n=e[f],fb.test(n.type||"")&&!M.access(n,"globalEval")&&p.contains(c,n)&&(n.src?p._evalUrl&&p._evalUrl(n.src):p.globalEval(n.textContent.replace(Lb,"")))}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(a){for(var c=[],e=p(a),g=e.length-1,d=0;d<=g;d++)a=d===g?this:this.clone(!0),p(e[d])[b](a),Ca.apply(c,a.get());return this.pushStack(c)}});var Sa,Ra={},Ga=/^margin/,ma=new RegExp("^("+na+")(?!px)[a-z%]+$","i"),Ta=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function a(){n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
n.innerHTML="";g.appendChild(d);var f=c.getComputedStyle(n,null);b="1%"!==f.top;e="4px"===f.width;g.removeChild(d)}var b,e,g=J.documentElement,d=J.createElement("div"),n=J.createElement("div");n.style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===n.style.backgroundClip,d.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",d.appendChild(n),c.getComputedStyle&&p.extend(W,{pixelPosition:function(){a();
return b},boxSizingReliable:function(){null==e&&a();return e},reliableMarginRight:function(){var a;a=n.appendChild(J.createElement("div"));a.style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";a.style.marginRight=a.style.width="0";n.style.width="1px";g.appendChild(d);a=!parseFloat(c.getComputedStyle(a,null).marginRight);g.removeChild(d);return a}}))})();p.swap=function(a,b,c,e){var g,d={};for(g in b)d[g]=
a.style[g],a.style[g]=b[g];c=c.apply(a,e||[]);for(g in b)a.style[g]=d[g];return c};var tb=/^(none|table(?!-c[ea]).+)/,ja=new RegExp("^("+na+")(.*)$","i"),T=new RegExp("^([+-])=("+na+")","i"),ub={position:"absolute",visibility:"hidden",display:"block"},gb={letterSpacing:"0",fontWeight:"400"},ia=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,d,n,f=p.camelCase(b),h=a.style;b=p.cssProps[f]||(p.cssProps[f]=C(h,f));n=p.cssHooks[b]||p.cssHooks[f];if(void 0!==c)d=typeof c,"string"===d&&(g=T.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(p.css(a,b)),d="number"),null!=c&&c===c&&("number"!==d||p.cssNumber[f]||(c+="px"),W.clearCloneStyle||""!==c||0!==b.indexOf("background")||(h[b]="inherit"),
n&&"set"in n&&void 0===(c=n.set(a,c,e))||(h[b]=c));else return n&&"get"in n&&void 0!==(g=n.get(a,!1,e))?g:h[b]}},css:function(a,b,c,e){var g,d;d=p.camelCase(b);b=p.cssProps[d]||(p.cssProps[d]=C(a.style,d));(d=p.cssHooks[b]||p.cssHooks[d])&&"get"in d&&(g=d.get(a,!0,c));void 0===g&&(g=A(a,b,e));"normal"===g&&b in gb&&(g=gb[b]);return""===c||c?(a=parseFloat(g),!0===c||p.isNumeric(a)?a||0:g):g}});p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,e){if(c)return tb.test(p.css(a,"display"))&&
0===a.offsetWidth?p.swap(a,ub,function(){return K(a,b,e)}):K(a,b,e)},set:function(a,c,e){var g=e&&Ta(a);return H(a,c,e?V(a,b,e,"border-box"===p.css(a,"boxSizing",!1,g),g):0)}}});p.cssHooks.marginRight=E(W.reliableMarginRight,function(a,b){if(b)return p.swap(a,{display:"inline-block"},A,[a,"marginRight"])});p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var e=0,g={};for(c="string"===typeof c?c.split(" "):[c];4>e;e++)g[a+wa[e]+b]=c[e]||c[e-2]||c[0];return g}};
Ga.test(a)||(p.cssHooks[a+b].set=H)});p.fn.extend({css:function(a,b){return ea(this,function(a,b,c){var e,g={},d=0;if(p.isArray(b)){c=Ta(a);for(e=b.length;d<e;d++)g[b[d]]=p.css(a,b[d],!1,c);return g}return void 0!==c?p.style(a,b,c):p.css(a,b)},a,b,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Aa(this)?p(this).show():p(this).hide()})}});p.Tween=N;N.prototype={constructor:N,
init:function(a,b,c,e,g,d){this.elem=a;this.prop=c;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=d||(p.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];this.pos=this.options.duration?b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,
this.now,this);c&&c.set?c.set(this):N.propHooks._default.set(this);return this}};N.prototype.init.prototype=N.prototype;N.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=p.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(p.fx.step[a.prop])p.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};N.propHooks.scrollTop=
N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};p.fx=N.prototype.init;p.fx.step={};var Ba,Xa,Mb=/^(?:toggle|show|hide)$/,y=new RegExp("^(?:([+-])=|)("+na+")([a-z%]*)$","i"),aa=/queueHooks$/,O=[function(a,b,c){var e,g,d,n,f,h,l=this,s={},t=a.style,I=a.nodeType&&Aa(a),m=M.get(a,"fxshow");c.queue||(n=p._queueHooks(a,"fx"),null==n.unqueued&&(n.unqueued=0,f=n.empty.fire,
n.empty.fire=function(){n.unqueued||f()}),n.unqueued++,l.always(function(){l.always(function(){n.unqueued--;p.queue(a,"fx").length||n.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[t.overflow,t.overflowX,t.overflowY],h=p.css(a,"display"),g="none"===h?M.get(a,"olddisplay")||z(a.nodeName):h,"inline"===g&&"none"===p.css(a,"float")&&(t.display="inline-block"));c.overflow&&(t.overflow="hidden",l.always(function(){t.overflow=c.overflow[0];t.overflowX=c.overflow[1];t.overflowY=
c.overflow[2]}));for(e in b)if(g=b[e],Mb.exec(g)){delete b[e];d=d||"toggle"===g;if(g===(I?"hide":"show"))if("show"===g&&m&&void 0!==m[e])I=!0;else continue;s[e]=m&&m[e]||p.style(a,e)}else h=void 0;if(p.isEmptyObject(s))"inline"===("none"===h?z(a.nodeName):h)&&(t.display=h);else for(e in m?"hidden"in m&&(I=m.hidden):m=M.access(a,"fxshow",{}),d&&(m.hidden=!I),I?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;M.remove(a,"fxshow");for(b in s)p.style(a,b,s[b])}),s)b=ca(I?m[e]:0,e,l),
e in m||(m[e]=b.start,I&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],F={"*":[function(a,b){var c=this.createTween(a,b),e=c.cur(),g=y.exec(b),d=g&&g[3]||(p.cssNumber[a]?"":"px"),n=(p.cssNumber[a]||"px"!==d&&+e)&&y.exec(p.css(c.elem,a)),f=1,h=20;if(n&&n[3]!==d){d=d||n[3];g=g||[];n=+e||1;do f=f||".5",n/=f,p.style(c.elem,a,n+d);while(f!==(f=c.cur()/e)&&1!==f&&--h)}g&&(n=c.start=+n||+e||0,c.unit=d,c.end=g[1]?n+(g[1]+1)*g[2]:+g[2]);return c}]};p.Animation=p.extend(ka,{tweener:function(a,b){p.isFunction(a)?
(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,g=a.length;e<g;e++)c=a[e],F[c]=F[c]||[],F[c].unshift(b)},prefilter:function(a,b){b?O.unshift(a):O.push(a)}});p.speed=function(a,b,c){var e=a&&"object"===typeof a?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};e.duration=p.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in p.fx.speeds?p.fx.speeds[e.duration]:p.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;
e.complete=function(){p.isFunction(e.old)&&e.old.call(this);e.queue&&p.dequeue(this,e.queue)};return e};p.fn.extend({fadeTo:function(a,b,c,e){return this.filter(Aa).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var g=p.isEmptyObject(a),d=p.speed(b,c,e);b=function(){var b=ka(this,p.extend({},a),d);(g||M.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;
b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",d=p.timers,n=M.get(this);if(g)n[g]&&n[g].stop&&e(n[g]);else for(g in n)n[g]&&n[g].stop&&aa.test(g)&&e(n[g]);for(g=d.length;g--;)d[g].elem!==this||null!=a&&d[g].queue!==a||(d[g].anim.stop(c),b=!1,d.splice(g,1));!b&&c||p.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=M.get(this),e=c[a+"queue"];b=c[a+"queueHooks"];
var g=p.timers,d=e?e.length:0;c.finish=!0;p.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<d;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(a,e,g){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(X(b,!0),a,e,g)}});p.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),
fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});p.timers=[];p.fx.tick=function(){var a,b=0,c=p.timers;for(Ba=p.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||p.fx.stop();Ba=void 0};p.fx.timer=function(a){p.timers.push(a);a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){Xa||(Xa=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(Xa);
Xa=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,b){a=p.fx?p.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})};(function(){var a=J.createElement("input"),b=J.createElement("select"),c=b.appendChild(J.createElement("option"));a.type="checkbox";W.checkOn=""!==a.value;W.optSelected=c.selected;b.disabled=!0;W.optDisabled=!c.disabled;a=J.createElement("input");a.value="t";a.type="radio";W.radioValue="t"===a.value})();
var R,Ka=p.expr.attrHandle;p.fn.extend({attr:function(a,b){return ea(this,p.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,b,c){var e,g,d=a.nodeType;if(a&&3!==d&&8!==d&&2!==d){if("undefined"===typeof a.getAttribute)return p.prop(a,b,c);1===d&&p.isXMLDoc(a)||(b=b.toLowerCase(),e=p.attrHooks[b]||(p.expr.match.bool.test(b)?R:void 0));if(void 0!==c)if(null===c)p.removeAttr(a,b);else{if(e&&"set"in e&&void 0!==(g=e.set(a,
c,b)))return g;a.setAttribute(b,c+"");return c}else{if(e&&"get"in e&&null!==(g=e.get(a,b)))return g;g=p.find.attr(a,b);return null==g?void 0:g}}},removeAttr:function(a,b){var c,e,g=0,d=b&&b.match(qa);if(d&&1===a.nodeType)for(;c=d[g++];)e=p.propFix[c]||c,p.expr.match.bool.test(c)&&(a[e]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!W.radioValue&&"radio"===b&&p.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});R={set:function(a,b,c){!1===b?
p.removeAttr(a,c):a.setAttribute(c,c);return c}};p.each(p.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Ka[b]||p.find.attr;Ka[b]=function(a,b,e){var g,d;e||(d=Ka[b],Ka[b]=g,g=null!=c(a,b,e)?b.toLowerCase():null,Ka[b]=d);return g}});var Nb=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(a,b){return ea(this,p.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}});p.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(a,b,c){var e,g,d;d=a.nodeType;if(a&&3!==d&&8!==d&&2!==d){if(d=1!==d||!p.isXMLDoc(a))b=p.propFix[b]||b,g=p.propHooks[b];return void 0!==c?g&&"set"in g&&void 0!==(e=g.set(a,c,b))?e:a[b]=c:g&&"get"in g&&null!==(e=g.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Nb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});W.optSelected||(p.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){p.propFix[this.toLowerCase()]=this});var Oa=/[\t\r\n\f]/g;p.fn.extend({addClass:function(a){var b,c,e,g,d;b="string"===typeof a&&a;var n=0,f=this.length;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(qa)||[];n<f;n++)if(c=this[n],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):" ")){for(d=0;g=b[d++];)0>e.indexOf(" "+g+" ")&&(e+=g+" ");e=p.trim(e);c.className!==e&&(c.className=e)}return this},
removeClass:function(a){var b,c,e,g,d;b=0===arguments.length||"string"===typeof a&&a;var n=0,f=this.length;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(qa)||[];n<f;n++)if(c=this[n],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):"")){for(d=0;g=b[d++];)for(;0<=e.indexOf(" "+g+" ");)e=e.replace(" "+g+" "," ");e=a?p.trim(e):"";c.className!==e&&(c.className=e)}return this},toggleClass:function(a,b){var c=
typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,e=0,g=p(this),d=a.match(qa)||[];b=d[e++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if("undefined"===c||"boolean"===c)this.className&&M.set(this,"__className__",this.className),this.className=this.className||!1===a?"":M.get(this,"__className__")||""})},hasClass:function(a){a=
" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Oa," ").indexOf(a))return!0;return!1}});var Sb=/\r/g;p.fn.extend({val:function(a){var b,c,e,g=this[0];if(arguments.length)return e=p.isFunction(a),this.each(function(c){1===this.nodeType&&(c=e?a.call(this,c,p(this).val()):a,null==c?c="":"number"===typeof c?c+="":p.isArray(c)&&(c=p.map(c,function(a){return null==a?"":a+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&
"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(g){if((b=p.valHooks[g.type]||p.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(g,"value")))return c;c=g.value;return"string"===typeof c?c.replace(Sb,""):null==c?"":c}}});p.extend({valHooks:{option:{get:function(a){var b=p.find.attr(a,"value");return null!=b?b:p.trim(p.text(a))}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,g=(a="select-one"===a.type||0>e)?null:[],d=a?e+1:c.length,n=0>e?d:a?e:0;n<d;n++)if(b=
c[n],!(!b.selected&&n!==e||(W.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&p.nodeName(b.parentNode,"optgroup"))){b=p(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var c,e,g=a.options,d=p.makeArray(b),n=g.length;n--;)if(e=g[n],e.selected=0<=p.inArray(e.value,d))c=!0;c||(a.selectedIndex=-1);return d}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,b){if(p.isArray(b))return a.checked=0<=p.inArray(p(a).val(),b)}};W.checkOn||
(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});p.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,
b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=p.now(),wb=/\?/;p.parseJSON=function(a){return JSON.parse(a+"")};p.parseXML=function(a){var b,c;if(!a||"string"!==typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(e){b=void 0}b&&!b.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+
a);return b};var ya,ga,Ob=/#.*$/,xb=/([?&])_=[^&]*/,yb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Pb=/^(?:GET|HEAD)$/,la=/^\/\//,Pa=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,La={},cb={},hb="*/".concat("*");try{ga=location.href}catch(fa){ga=J.createElement("a"),ga.href="",ga=ga.href}ya=Pa.exec(ga.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ga,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ya[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ha(ha(a,p.ajaxSettings),b):ha(p.ajaxSettings,
a)},ajaxPrefilter:oa(La),ajaxTransport:oa(cb),ajax:function(a,b){function c(a,b,s,n){var h,k,v,r;r=b;if(2!==B){B=2;f&&clearTimeout(f);e=void 0;d=n||"";x.readyState=0<a?4:0;n=200<=a&&300>a||304===a;if(s){v=t;for(var Ea=x,ua,va,G,C,Na=v.contents,z=v.dataTypes;"*"===z[0];)z.shift(),void 0===ua&&(ua=v.mimeType||Ea.getResponseHeader("Content-Type"));if(ua)for(va in Na)if(Na[va]&&Na[va].test(ua)){z.unshift(va);break}if(z[0]in s)G=z[0];else{for(va in s){if(!z[0]||v.converters[va+" "+z[0]]){G=va;break}C||
(C=va)}G=G||C}G?(G!==z[0]&&z.unshift(G),v=s[G]):v=void 0}a:{s=t;ua=v;va=x;G=n;var H,K,A,Ea={},Na=s.dataTypes.slice();if(Na[1])for(K in s.converters)Ea[K.toLowerCase()]=s.converters[K];for(C=Na.shift();C;)if(s.responseFields[C]&&(va[s.responseFields[C]]=ua),!A&&G&&s.dataFilter&&(ua=s.dataFilter(ua,s.dataType)),A=C,C=Na.shift())if("*"===C)C=A;else if("*"!==A&&A!==C){K=Ea[A+" "+C]||Ea["* "+C];if(!K)for(H in Ea)if(v=H.split(" "),v[1]===C&&(K=Ea[A+" "+v[0]]||Ea["* "+v[0]])){!0===K?K=Ea[H]:!0!==Ea[H]&&
(C=v[0],Na.unshift(v[1]));break}if(!0!==K)if(K&&s["throws"])ua=K(ua);else try{ua=K(ua)}catch(V){v={state:"parsererror",error:K?V:"No conversion from "+A+" to "+C};break a}}v={state:"success",data:ua}}if(n)t.ifModified&&((r=x.getResponseHeader("Last-Modified"))&&(p.lastModified[g]=r),(r=x.getResponseHeader("etag"))&&(p.etag[g]=r)),204===a||"HEAD"===t.type?r="nocontent":304===a?r="notmodified":(r=v.state,h=v.data,k=v.error,n=!k);else if(k=r,a||!r)r="error",0>a&&(a=0);x.status=a;x.statusText=(b||r)+
"";n?u.resolveWith(I,[h,r,x]):u.rejectWith(I,[x,r,k]);x.statusCode(w);w=void 0;l&&m.trigger(n?"ajaxSuccess":"ajaxError",[x,t,n?h:k]);q.fireWith(I,[x,r]);l&&(m.trigger("ajaxComplete",[x,t]),--p.active||p.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var e,g,d,n,f,h,l,s,t=p.ajaxSetup({},b),I=t.context||t,m=t.context&&(I.nodeType||I.jquery)?p(I):p.event,u=p.Deferred(),q=p.Callbacks("once memory"),w=t.statusCode||{},k={},v={},B=0,r="canceled",x={readyState:0,getResponseHeader:function(a){var b;
if(2===B){if(!n)for(n={};b=yb.exec(d);)n[b[1].toLowerCase()]=b[2];b=n[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===B?d:null},setRequestHeader:function(a,b){var c=a.toLowerCase();B||(a=v[c]=v[c]||a,k[a]=b);return this},overrideMimeType:function(a){B||(t.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>B)for(b in a)w[b]=[w[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){a=a||r;e&&e.abort(a);c(0,a);return this}};u.promise(x).complete=
q.add;x.success=x.done;x.error=x.fail;t.url=((a||t.url||ga)+"").replace(Ob,"").replace(la,ya[1]+"//");t.type=b.method||b.type||t.method||t.type;t.dataTypes=p.trim(t.dataType||"*").toLowerCase().match(qa)||[""];null==t.crossDomain&&(h=Pa.exec(t.url.toLowerCase()),t.crossDomain=!(!h||h[1]===ya[1]&&h[2]===ya[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ya[3]||("http:"===ya[1]?"80":"443"))));t.data&&t.processData&&"string"!==typeof t.data&&(t.data=p.param(t.data,t.traditional));za(La,t,b,x);if(2===B)return x;
(l=t.global)&&0===p.active++&&p.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Pb.test(t.type);g=t.url;t.hasContent||(t.data&&(g=t.url+=(wb.test(g)?"&":"?")+t.data,delete t.data),!1===t.cache&&(t.url=xb.test(g)?g.replace(xb,"$1_="+vb++):g+(wb.test(g)?"&":"?")+"_="+vb++));t.ifModified&&(p.lastModified[g]&&x.setRequestHeader("If-Modified-Since",p.lastModified[g]),p.etag[g]&&x.setRequestHeader("If-None-Match",p.etag[g]));(t.data&&t.hasContent&&!1!==t.contentType||b.contentType)&&
x.setRequestHeader("Content-Type",t.contentType);x.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+hb+"; q=0.01":""):t.accepts["*"]);for(s in t.headers)x.setRequestHeader(s,t.headers[s]);if(t.beforeSend&&(!1===t.beforeSend.call(I,x,t)||2===B))return x.abort();r="abort";for(s in{success:1,error:1,complete:1})x[s](t[s]);if(e=za(cb,t,b,x)){x.readyState=1;l&&m.trigger("ajaxSend",[x,t]);t.async&&0<t.timeout&&(f=setTimeout(function(){x.abort("timeout")},
t.timeout));try{B=1,e.send(k,c)}catch(va){if(2>B)c(-1,va);else throw va;}}else c(-1,"No Transport");return x},getJSON:function(a,b,c){return p.get(a,b,c,"json")},getScript:function(a,b){return p.get(a,void 0,b,"script")}});p.each(["get","post"],function(a,b){p[b]=function(a,c,e,g){p.isFunction(c)&&(g=g||e,e=c,c=void 0);return p.ajax({url:a,type:b,dataType:g,data:c,success:e})}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,
a)}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(a){var b;if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});this[0]&&(b=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)};var Ya=/%20/g,Ma=/\[\]$/,Za=
/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;p.param=function(a,b){var c,e=[],g=function(a,b){b=p.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){g(this.name,this.value)});else for(c in a)ra(c,a[c],b,g);return e.join("&").replace(Ya,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!pb.test(a))}).map(function(a,b){var c=p(this).val();return null==c?null:p.isArray(c)?p.map(c,function(a){return{name:b.name,value:a.replace(Za,"\r\n")}}):{name:b.name,value:c.replace(Za,"\r\n")}}).get()}});p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};
var Qb=0,Z={},Vb={0:200,1223:204},$a=p.ajaxSettings.xhr();if(c.ActiveXObject)p(c).on("unload",function(){for(var a in Z)Z[a]()});W.cors=!!$a&&"withCredentials"in $a;W.ajax=$a=!!$a;p.ajaxTransport(function(a){var b;if(W.cors||$a&&!a.crossDomain)return{send:function(c,e){var g,d=a.xhr(),n=++Qb;d.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(g in a.xhrFields)d[g]=a.xhrFields[g];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||
(c["X-Requested-With"]="XMLHttpRequest");for(g in c)d.setRequestHeader(g,c[g]);b=function(a){return function(){b&&(delete Z[n],b=d.onload=d.onerror=null,"abort"===a?d.abort():"error"===a?e(d.status,d.statusText):e(Vb[d.status]||d.status,d.statusText,"string"===typeof d.responseText?{text:d.responseText}:void 0,d.getAllResponseHeaders()))}};d.onload=b();d.onerror=b("error");b=Z[n]=b("abort");try{d.send(a.hasContent&&a.data||null)}catch(f){if(b)throw f;}},abort:function(){b&&b()}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){p.globalEval(a);return a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});p.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,g){b=p("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&g("error"===a.type?404:200,a.type)});J.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var zb=[],ab=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=zb.pop()||p.expando+"_"+vb++;this[a]=!0;return a}});p.ajaxPrefilter("json jsonp",function(a,b,e){var g,d,n,f=!1!==a.jsonp&&(ab.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&ab.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0])return g=a.jsonpCallback=p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f?a[f]=a[f].replace(ab,"$1"+
g):!1!==a.jsonp&&(a.url+=(wb.test(a.url)?"&":"?")+a.jsonp+"="+g),a.converters["script json"]=function(){n||p.error(g+" was not called");return n[0]},a.dataTypes[0]="json",d=c[g],c[g]=function(){n=arguments},e.always(function(){c[g]=d;a[g]&&(a.jsonpCallback=b.jsonpCallback,zb.push(g));n&&p.isFunction(d)&&d(n[0]);n=d=void 0}),"script"});p.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||J;var e=ob.exec(a);c=!c&&[];if(e)return[b.createElement(e[1])];
e=p.buildFragment([a],b,c);c&&c.length&&p(c).remove();return p.merge([],e.childNodes)};var ib=p.fn.load;p.fn.load=function(a,b,c){if("string"!==typeof a&&ib)return ib.apply(this,arguments);var e,g,d,n=this,f=a.indexOf(" ");0<=f&&(e=p.trim(a.slice(f)),a=a.slice(0,f));p.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(g="POST");0<n.length&&p.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){d=arguments;n.html(e?p("<div>").append(p.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){n.each(c,
d||[a.responseText,b,a])});return this};p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length};var jb=c.document.documentElement;p.offset={setOffset:function(a,b,c){var e,g,d,n=p.css(a,"position"),f=p(a),h={};"static"===n&&(a.style.position="relative");d=f.offset();g=p.css(a,"top");e=p.css(a,"left");("absolute"===n||"fixed"===n)&&-1<(g+e).indexOf("auto")?(e=f.position(),g=e.top,e=e.left):(g=parseFloat(g)||0,e=parseFloat(e)||0);p.isFunction(b)&&(b=b.call(a,
c,d));null!=b.top&&(h.top=b.top-d.top+g);null!=b.left&&(h.left=b.left-d.left+e);"using"in b?b.using.call(a,h):f.css(h)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){p.offset.setOffset(this,a,b)});var b,c;c=this[0];var e={top:0,left:0},g=c&&c.ownerDocument;if(g){b=g.documentElement;if(!p.contains(b,c))return e;"undefined"!==typeof c.getBoundingClientRect&&(e=c.getBoundingClientRect());c=sa(g);return{top:e.top+c.pageYOffset-b.clientTop,left:e.left+
c.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,c=this[0],e={top:0,left:0};"fixed"===p.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),p.nodeName(a[0],"html")||(e=a.offset()),e.top+=p.css(a[0],"borderTopWidth",!0),e.left+=p.css(a[0],"borderLeftWidth",!0));return{top:b.top-e.top-p.css(c,"marginTop",!0),left:b.left-e.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||jb;a&&!p.nodeName(a,
"html")&&"static"===p.css(a,"position");)a=a.offsetParent;return a||jb})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;p.fn[a]=function(g){return ea(this,function(a,g,d){var n=sa(a);if(void 0===d)return n?n[b]:a[g];n?n.scrollTo(e?c.pageXOffset:d,e?d:c.pageYOffset):a[g]=d},a,g,arguments.length,null)}});p.each(["top","left"],function(a,b){p.cssHooks[b]=E(W.pixelPosition,function(a,c){if(c)return c=A(a,b),ma.test(c)?p(a).position()[b]+"px":c})});p.each({Height:"height",
Width:"width"},function(a,b){p.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){p.fn[e]=function(e,g){var d=arguments.length&&(c||"boolean"!==typeof e),n=c||(!0===e||!0===g?"margin":"border");return ea(this,function(b,c,e){return p.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===e?p.css(b,c,n):p.style(b,c,e,n)},b,d?e:void 0,d,null)}})});p.fn.size=
function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return p});var kb=c.jQuery,Wb=c.$;p.noConflict=function(a){c.$===p&&(c.$=Wb);a&&c.jQuery===p&&(c.jQuery=kb);return p};"undefined"===typeof k&&(c.jQuery=c.$=p);return p});(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function k(b,d){var a,e;a=b.nodeName.toLowerCase();if("area"===a){a=b.parentNode;e=a.name;if(!b.href||!e||"map"!==a.nodeName.toLowerCase())return!1;a=c("img[usemap='#"+e+"']")[0];return!!a&&f(a)}return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"===a?b.href||d:d)&&f(b)}function f(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,
"visibility")}).length}c.ui=c.ui||{};c.extend(c.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({scrollParent:function(b){var d=this.css("position"),a="absolute"===d,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=c(this);return a&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);
return"fixed"!==d&&b.length?b:c(this[0].ownerDocument||document)},uniqueId:function(){var b=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(d){return!!c.data(d,b)}}):function(b,d,a){return!!c.data(b,a[3])},focusable:function(b){return k(b,!isNaN(c.attr(b,
"tabindex")))},tabbable:function(b){var d=c.attr(b,"tabindex"),a=isNaN(d);return(a||0<=d)&&k(b,!a)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,d){function a(a,b,g,d){c.each(e,function(){b-=parseFloat(c.css(a,"padding"+this))||0;g&&(b-=parseFloat(c.css(a,"border"+this+"Width"))||0);d&&(b-=parseFloat(c.css(a,"margin"+this))||0)});return b}var e="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),f={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,
outerHeight:c.fn.outerHeight};c.fn["inner"+d]=function(b){return void 0===b?f["inner"+d].call(this):this.each(function(){c(this).css(g,a(this,b)+"px")})};c.fn["outer"+d]=function(b,e){return"number"!==typeof b?f["outer"+d].call(this,b):this.each(function(){c(this).css(g,a(this,b,!0,e)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(d){return arguments.length?
b.call(this,c.camelCase(d)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.fn.extend({focus:function(b){return function(d,a){return"number"===typeof d?this.each(function(){var b=this;setTimeout(function(){c(b).focus();a&&a.call(b)},d)}):b.apply(this,arguments)}}(c.fn.focus),disableSelection:function(){var b="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(b+".ui-disableSelection",function(b){b.preventDefault()})}}(),
enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length){b=c(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d)return d;b=b.parent()}}return 0}});c.ui.plugin={add:function(b,d,a){var e;b=c.ui[b].prototype;for(e in a)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([d,a[e]])},call:function(b,c,a,
e){if((c=b.plugins[c])&&(e||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType))for(e=0;e<c.length;e++)b.options[c[e][0]]&&c[e][1].apply(b.element,a)}};var d=0,q=Array.prototype.slice;c.cleanData=function(b){return function(d){var a,e,g;for(g=0;null!=(e=d[g]);g++)try{(a=c._data(e,"events"))&&a.remove&&c(e).triggerHandler("remove")}catch(f){}b(d)}}(c.cleanData);c.widget=function(b,d,a){var e,g,f,h,l={},m=b.split(".")[0];b=b.split(".")[1];e=m+"-"+b;a||(a=d,d=c.Widget);c.expr[":"][e.toLowerCase()]=
function(a){return!!c.data(a,e)};c[m]=c[m]||{};g=c[m][b];f=c[m][b]=function(a,b){if(!this._createWidget)return new f(a,b);arguments.length&&this._createWidget(a,b)};c.extend(f,g,{version:a.version,_proto:c.extend({},a),_childConstructors:[]});h=new d;h.options=c.widget.extend({},h.options);c.each(a,function(a,b){c.isFunction(b)?l[a]=function(){var c=function(){return d.prototype[a].apply(this,arguments)},e=function(b){return d.prototype[a].apply(this,b)};return function(){var a=this._super,g=this._superApply,
d;this._super=c;this._superApply=e;d=b.apply(this,arguments);this._super=a;this._superApply=g;return d}}():l[a]=b});f.prototype=c.widget.extend(h,{widgetEventPrefix:g?h.widgetEventPrefix||b:b},l,{constructor:f,namespace:m,widgetName:b,widgetFullName:e});g?(c.each(g._childConstructors,function(a,b){var e=b.prototype;c.widget(e.namespace+"."+e.widgetName,f,b._proto)}),delete g._childConstructors):d._childConstructors.push(f);c.widget.bridge(b,f);return f};c.widget.extend=function(b){for(var d=q.call(arguments,
1),a=0,e=d.length,g,f;a<e;a++)for(g in d[a])f=d[a][g],d[a].hasOwnProperty(g)&&void 0!==f&&(c.isPlainObject(f)?b[g]=c.isPlainObject(b[g])?c.widget.extend({},b[g],f):c.widget.extend({},f):b[g]=f);return b};c.widget.bridge=function(b,d){var a=d.prototype.widgetFullName||b;c.fn[b]=function(e){var g="string"===typeof e,f=q.call(arguments,1),h=this;e=!g&&f.length?c.widget.extend.apply(null,[e].concat(f)):e;g?this.each(function(){var g,d=c.data(this,a);if("instance"===e)return h=d,!1;if(!d)return c.error("cannot call methods on "+
b+" prior to initialization; attempted to call method '"+e+"'");if(!c.isFunction(d[e])||"_"===e.charAt(0))return c.error("no such method '"+e+"' for "+b+" widget instance");g=d[e].apply(d,f);if(g!==d&&void 0!==g)return h=g&&g.jquery?h.pushStack(g.get()):g,!1}):this.each(function(){var b=c.data(this,a);b?(b.option(e||{}),b._init&&b._init()):c.data(this,a,new d(e,this))});return h}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",
options:{disabled:!1,create:null},_createWidget:function(b,n){n=c(n||this.defaultElement||this)[0];this.element=c(n);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();n!==this&&(c.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===n&&this.destroy()}}),this.document=c(n.style?n.ownerDocument:n.document||n),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this.options=
c.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");
this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(b,d){var a=b,e,g,f;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof b)if(a={},e=b.split("."),b=e.shift(),e.length){g=a[b]=c.widget.extend({},this.options[b]);for(f=0;f<e.length-1;f++)g[e[f]]=g[e[f]]||{},g=g[e[f]];b=e.pop();if(1===arguments.length)return void 0===
g[b]?null:g[b];g[b]=d}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];a[b]=d}this._setOptions(a);return this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,c){this.options[b]=c;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!c),c&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(b,d,a){var e,g=this;"boolean"!==typeof b&&(a=d,d=b,b=!1);a?(d=e=c(d),this.bindings=this.bindings.add(d)):(a=d,d=this.element,e=this.widget());c.each(a,function(a,f){function h(){if(b||!0!==g.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof f?g[f]:f).apply(g,arguments)}"string"!==typeof f&&(h.guid=f.guid=f.guid||h.guid||c.guid++);var l=a.match(/^([\w:-]*)\s*(.*)$/),m=l[1]+g.eventNamespace;(l=l[2])?
e.delegate(l,m,h):d.bind(m,h)})},_off:function(b,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(d).undelegate(d);this.bindings=c(this.bindings.not(b).get());this.focusable=c(this.focusable.not(b).get());this.hoverable=c(this.hoverable.not(b).get())},_delay:function(b,c){var a=this;return setTimeout(function(){return("string"===typeof b?a[b]:b).apply(a,arguments)},c||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},
mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,d,a){var e,g=this.options[b];a=a||{};d=c.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d.target=this.element[0];if(b=d.originalEvent)for(e in b)e in d||
(d[e]=b[e]);this.element.trigger(d,a);return!(c.isFunction(g)&&!1===g.apply(this.element[0],[d].concat(a))||d.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(b,d){c.Widget.prototype["_"+b]=function(a,e,g){"string"===typeof e&&(e={effect:e});var f,h=e?!0===e||"number"===typeof e?d:e.effect||d:b;e=e||{};"number"===typeof e&&(e={duration:e});f=!c.isEmptyObject(e);e.complete=g;e.delay&&a.delay(e.delay);if(f&&c.effects&&c.effects.effect[h])a[b](e);else if(h!==b&&a[h])a[h](e.duration,
e.easing,g);else a.queue(function(e){c(this)[b]();g&&g.call(a[0]);e()})}});var l=!1;c(document).mouseup(function(){l=!1});c.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,b.widgetName+".preventClickEvent"))return c.removeData(d.target,b.widgetName+".preventClickEvent"),
d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!l){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var d=this,a=1===b.which,e="string"===typeof this.options.cancel&&b.target.nodeName?c(b.target).closest(this.options.cancel).length:
!1;if(!a||e||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===c.data(b.target,this.widgetName+".preventClickEvent")&&c.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};
this._mouseUpDelegate=function(a){return d._mouseUp(a)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return l=!0}},_mouseMove:function(b){if(this._mouseMoved&&(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button||!b.which))return this._mouseUp(b);if(b.which||b.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&
this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return l=!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function b(a,b,c){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?c/100:1)]}function d(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:c.isWindow(b)?{width:a.width(),height:a.height(),
offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}c.ui=c.ui||{};var a,e,g=Math.max,f=Math.abs,h=Math.round,l=/left|center|right/,m=/top|center|bottom/,q=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,r=/%$/,E=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==a)return a;var b,e,g=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
e=g.children()[0];c("body").append(g);b=e.offsetWidth;g.css("overflow","scroll");e=e.offsetWidth;b===e&&(e=g[0].clientWidth);g.remove();return a=b-e},getScrollInfo:function(a){var b=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),e=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&a.height<a.element[0].scrollHeight?c.position.scrollbarWidth():0,height:b?c.position.scrollbarWidth():0}},
getWithinInfo:function(a){a=c(a||window);var b=c.isWindow(a[0]),e=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:b,isDocument:e,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b||e?a.width():a.outerWidth(),height:b||e?a.height():a.outerHeight()}}};c.fn.position=function(a){if(!a||!a.of)return E.apply(this,arguments);a=c.extend({},a);var r,A,K,P,N,L,X=c(a.of),ca=c.position.getWithinInfo(a.within),U=c.position.getScrollInfo(ca),ka=(a.collision||"flip").split(" "),
oa={};L=d(X);X[0].preventDefault&&(a.at="left top");A=L.width;K=L.height;P=L.offset;N=c.extend({},P);c.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,e;1===b.length&&(b=l.test(b[0])?b.concat(["center"]):m.test(b[0])?["center"].concat(b):["center","center"]);b[0]=l.test(b[0])?b[0]:"center";b[1]=m.test(b[1])?b[1]:"center";c=q.exec(b[0]);e=q.exec(b[1]);oa[this]=[c?c[0]:0,e?e[0]:0];a[this]=[k.exec(b[0])[0],k.exec(b[1])[0]]});1===ka.length&&(ka[1]=ka[0]);"right"===a.at[0]?N.left+=A:"center"===
a.at[0]&&(N.left+=A/2);"bottom"===a.at[1]?N.top+=K:"center"===a.at[1]&&(N.top+=K/2);r=b(oa.at,A,K);N.left+=r[0];N.top+=r[1];return this.each(function(){var d,n,l=c(this),m=l.outerWidth(),q=l.outerHeight(),k=parseInt(c.css(this,"marginLeft"),10)||0,v=parseInt(c.css(this,"marginTop"),10)||0,B=m+k+(parseInt(c.css(this,"marginRight"),10)||0)+U.width,x=q+v+(parseInt(c.css(this,"marginBottom"),10)||0)+U.height,z=c.extend({},N),L=b(oa.my,l.outerWidth(),l.outerHeight());"right"===a.my[0]?z.left-=m:"center"===
a.my[0]&&(z.left-=m/2);"bottom"===a.my[1]?z.top-=q:"center"===a.my[1]&&(z.top-=q/2);z.left+=L[0];z.top+=L[1];e||(z.left=h(z.left),z.top=h(z.top));d={marginLeft:k,marginTop:v};c.each(["left","top"],function(b,e){if(c.ui.position[ka[b]])c.ui.position[ka[b]][e](z,{targetWidth:A,targetHeight:K,elemWidth:m,elemHeight:q,collisionPosition:d,collisionWidth:B,collisionHeight:x,offset:[r[0]+L[0],r[1]+L[1]],my:a.my,at:a.at,within:ca,elem:l})});a.using&&(n=function(b){var c=P.left-z.left,e=c+A-m,d=P.top-z.top,
n=d+K-q,h={target:{element:X,left:P.left,top:P.top,width:A,height:K},element:{element:l,left:z.left,top:z.top,width:m,height:q},horizontal:0>e?"left":0<c?"right":"center",vertical:0>n?"top":0<d?"bottom":"middle"};A<m&&f(c+e)<A&&(h.horizontal="center");K<q&&f(d+n)<K&&(h.vertical="middle");g(f(c),f(e))>g(f(d),f(n))?h.important="horizontal":h.important="vertical";a.using.call(this,b,h)});l.offset(c.extend(z,{using:n}))})};c.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:
c.offset.left,d=c.width,n=a.left-b.collisionPosition.marginLeft,c=e-n,f=n+b.collisionWidth-d-e;b.collisionWidth>d?0<c&&0>=f?(e=a.left+c+b.collisionWidth-d-e,a.left+=c-e):a.left=0<f&&0>=c?e:c>f?e+d-b.collisionWidth:e:a.left=0<c?a.left+c:0<f?a.left-f:g(a.left-n,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,n=a.top-b.collisionPosition.marginTop,c=e-n,f=n+b.collisionHeight-d-e;b.collisionHeight>d?0<c&&0>=f?(e=a.top+c+b.collisionHeight-d-e,a.top+=c-e):
a.top=0<f&&0>=c?e:c>f?e+d-b.collisionHeight:e:a.top=0<c?a.top+c:0<f?a.top-f:g(a.top-n,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,g=c.width,d=c.isWindow?c.scrollLeft:c.offset.left,n=a.left-b.collisionPosition.marginLeft,c=n-d,h=n+b.collisionWidth-g-d,n="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>c){if(e=a.left+n+l+m+b.collisionWidth-g-e,0>e||e<f(c))a.left+=
n+l+m}else 0<h&&(e=a.left-b.collisionPosition.marginLeft+n+l+m-d,0<e||f(e)<h)&&(a.left+=n+l+m)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,g=c.height,d=c.isWindow?c.scrollTop:c.offset.top,n=a.top-b.collisionPosition.marginTop,c=n-d,h=n+b.collisionHeight-g-d,n="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,l="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];0>c?(e=a.top+n+l+m+b.collisionHeight-g-e,a.top+n+l+m>c&&(0>e||e<f(c))&&(a.top+=
n+l+m)):0<h&&(e=a.top-b.collisionPosition.marginTop+n+l+m-d,a.top+n+l+m>h&&(0<e||f(e)<h)&&(a.top+=n+l+m))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,arguments)}}};(function(){var a,b,g,d,n=document.getElementsByTagName("body")[0];g=document.createElement("div");a=document.createElement(n?"div":"body");b={visibility:"hidden",width:0,
height:0,border:0,margin:0,background:"none"};n&&c.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in b)a.style[d]=b[d];a.appendChild(g);b=n||document.documentElement;b.insertBefore(a,b.firstChild);g.style.cssText="position: absolute; left: 10.7432222px;";g=c(g).offset().left;e=10<g&&11>g;a.innerHTML="";b.removeChild(a)})()})();c.widget("ui.resizable",c.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",
aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseInt(b,10)||0},_isNumber:function(b){return!isNaN(parseInt(b,10))},_hasScroll:function(b,d){if("hidden"===c(b).css("overflow"))return!1;var a=d&&"left"===d?"scrollLeft":"scrollTop",e=!1;if(0<b[a])return!0;b[a]=1;e=0<b[a];b[a]=0;return e},_create:function(){var b,d,a,e,g,f=this,h=this.options;
this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=
this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=h.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},d=0;d<b.length;d++)a=c.trim(b[d]),g="ui-resizable-"+a,e=c("<div class='ui-resizable-handle "+g+"'></div>"),e.css({zIndex:h.zIndex}),"se"===a&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(e);this._renderAxis=function(a){var b,e,g;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=this.element.children(this.handles[b]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(e=c(this.handles[b],this.element),g=/sw|ne|nw|se|n|s/.test(b)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(e,g),this._proportionallyResize()),c(this.handles[b])};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",
this.element).disableSelection();this._handles.mouseover(function(){f.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),f.axis=e&&e[1]?e[1]:"se")});h.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(c(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){h.disabled||f.resizing||(c(this).addClass("ui-resizable-autohide"),f._handles.hide())}));this._mouseInit()},
_destroy:function(){this._mouseDestroy();var b,d=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(d(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);
d(this.originalElement);return this},_mouseCapture:function(b){var d,a,e=!1;for(d in this.handles)if(a=c(this.handles[d])[0],a===b.target||c.contains(a,b.target))e=!0;return!this.options.disabled&&e},_mouseStart:function(b){var d,a,e=this.options,g=this.element;this.resizing=!0;this._renderProxy();d=this._num(this.helper.css("left"));a=this._num(this.helper.css("top"));e.containment&&(d+=c(e.containment).scrollLeft()||0,a+=c(e.containment).scrollTop()||0);this.offset=this.helper.offset();this.position=
{left:d,top:a};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalPosition={left:d,top:a};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/
this.originalSize.height||1;d=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor","auto"===d?this.axis+"-resize":d);g.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var d,a=this.originalMousePosition;d=b.pageX-a.left||0;var a=b.pageY-a.top||0,e=this._change[this.axis];this._updatePrevProperties();if(!e)return!1;d=e.apply(this,[b,d,a]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)d=this._updateRatio(d,b);d=
this._respectSize(d,b);this._updateCache(d);this._propagate("resize",b);d=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();c.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges());return!1},_mouseStop:function(b){this.resizing=!1;var d,a,e,g=this.options;this._helper&&(d=this._proportionallyResizeElements,d=(a=d.length&&/textarea/i.test(d[0].nodeName))&&this._hasScroll(d[0],"left")?0:this.sizeDiff.height,
a=a?0:this.sizeDiff.width,a={width:this.helper.width()-a,height:this.helper.height()-d},d=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,e=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,g.animate||this.element.css(c.extend(a,{top:e,left:d})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!g.animate&&this._proportionallyResize());c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var b={};this.position.top!==this.prevPosition.top&&(b.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(b.width=this.size.width+"px");this.size.height!==
this.prevSize.height&&(b.height=this.size.height+"px");this.helper.css(b);return b},_updateVirtualBoundaries:function(b){var c,a,e,d;d=this.options;d={minWidth:this._isNumber(d.minWidth)?d.minWidth:0,maxWidth:this._isNumber(d.maxWidth)?d.maxWidth:Infinity,minHeight:this._isNumber(d.minHeight)?d.minHeight:0,maxHeight:this._isNumber(d.maxHeight)?d.maxHeight:Infinity};if(this._aspectRatio||b)b=d.minHeight*this.aspectRatio,a=d.minWidth/this.aspectRatio,c=d.maxHeight*this.aspectRatio,e=d.maxWidth/this.aspectRatio,
b>d.minWidth&&(d.minWidth=b),a>d.minHeight&&(d.minHeight=a),c<d.maxWidth&&(d.maxWidth=c),e<d.maxHeight&&(d.maxHeight=e);this._vBoundaries=d},_updateCache:function(b){this.offset=this.helper.offset();this._isNumber(b.left)&&(this.position.left=b.left);this._isNumber(b.top)&&(this.position.top=b.top);this._isNumber(b.height)&&(this.size.height=b.height);this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var c=this.position,a=this.size,e=this.axis;this._isNumber(b.height)?b.width=
b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio);"sw"===e&&(b.left=c.left+(a.width-b.width),b.top=null);"nw"===e&&(b.top=c.top+(a.height-b.height),b.left=c.left+(a.width-b.width));return b},_respectSize:function(b){var c=this._vBoundaries,a=this.axis,e=this._isNumber(b.width)&&c.maxWidth&&c.maxWidth<b.width,d=this._isNumber(b.height)&&c.maxHeight&&c.maxHeight<b.height,f=this._isNumber(b.width)&&c.minWidth&&c.minWidth>b.width,h=this._isNumber(b.height)&&c.minHeight&&
c.minHeight>b.height,l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,q=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);f&&(b.width=c.minWidth);h&&(b.height=c.minHeight);e&&(b.width=c.maxWidth);d&&(b.height=c.maxHeight);f&&q&&(b.left=l-c.minWidth);e&&q&&(b.left=l-c.maxWidth);h&&a&&(b.top=m-c.minHeight);d&&a&&(b.top=m-c.maxHeight);b.width||b.height||b.left||!b.top?b.width||b.height||b.top||!b.left||(b.left=null):b.top=null;return b},_getPaddingPlusBorderDimensions:function(b){var c=
0,a=[],e=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];for(b=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];4>c;c++)a[c]=parseInt(e[c],10)||0,a[c]+=parseInt(b[c],10)||0;return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b,c=0,a=this.helper||this.element;c<this._proportionallyResizeElements.length;c++)b=this._proportionallyResizeElements[c],
this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+
"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,c){return{width:this.originalSize.width+c}},w:function(b,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(b,d,a){return c.extend(this._change.s.apply(this,
arguments),this._change.e.apply(this,[b,d,a]))},sw:function(b,d,a){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,d,a]))},ne:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,d,a]))},nw:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,d,a]))}},_propagate:function(b,d){c.ui.plugin.call(this,b,[d,this.ui()]);"resize"!==b&&this._trigger(b,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,
element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(b){var d=c(this).resizable("instance"),a=d.options,e=d._proportionallyResizeElements,g=e.length&&/textarea/i.test(e[0].nodeName),f=g&&d._hasScroll(e[0],"left")?0:d.sizeDiff.height,g={width:d.size.width-(g?0:d.sizeDiff.width),height:d.size.height-f},f=parseInt(d.element.css("left"),10)+(d.position.left-
d.originalPosition.left)||null,h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(c.extend(g,h&&f?{top:h,left:f}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};e&&e.length&&c(e[0]).css({width:a.width,height:a.height});d._updateCache(a);d._propagate("resize",
b)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var b,d,a,e,g,f=c(this).resizable("instance"),h=f.element;a=f.options.containment;if(h=a instanceof c?a.get(0):/parent/.test(a)?h.parent().get(0):a)f.containerElement=c(h),/document/.test(a)||a===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(b=c(h),d=[],c(["Top",
"Right","Left","Bottom"]).each(function(a,c){d[a]=f._num(b.css("padding"+c))}),f.containerOffset=b.offset(),f.containerPosition=b.position(),f.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},a=f.containerOffset,e=f.containerSize.height,g=f.containerSize.width,g=f._hasScroll(h,"left")?h.scrollWidth:g,e=f._hasScroll(h)?h.scrollHeight:e,f.parentData={element:h,left:a.left,top:a.top,width:g,height:e})},resize:function(b){var d,a,e,g=c(this).resizable("instance");d=g.options;a=g.containerOffset;
e=g.position;b=g._aspectRatio||b.shiftKey;var f={top:0,left:0},h=g.containerElement,l=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=a);e.left<(g._helper?a.left:0)&&(g.size.width+=g._helper?g.position.left-a.left:g.position.left-f.left,b&&(g.size.height=g.size.width/g.aspectRatio,l=!1),g.position.left=d.helper?a.left:0);e.top<(g._helper?a.top:0)&&(g.size.height+=g._helper?g.position.top-a.top:g.position.top,b&&(g.size.width=g.size.height*g.aspectRatio,l=!1),g.position.top=g._helper?a.top:
0);d=g.containerElement.get(0)===g.element.parent().get(0);e=/relative|absolute/.test(g.containerElement.css("position"));d&&e?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top);d=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-f.left:g.offset.left-a.left));a=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-f.top:g.offset.top-a.top));d+g.size.width>=g.parentData.width&&(g.size.width=
g.parentData.width-d,b&&(g.size.height=g.size.width/g.aspectRatio,l=!1));a+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-a,b&&(g.size.width=g.size.height*g.aspectRatio,l=!1));l||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=c(this).resizable("instance"),d=b.options,a=b.containerOffset,e=b.containerPosition,g=b.containerElement,f=c(b.helper),h=f.offset(),l=f.outerWidth()-
b.sizeDiff.width,f=f.outerHeight()-b.sizeDiff.height;b._helper&&!d.animate&&/relative/.test(g.css("position"))&&c(this).css({left:h.left-e.left-a.left,width:l,height:f});b._helper&&!d.animate&&/static/.test(g.css("position"))&&c(this).css({left:h.left-e.left-a.left,width:l,height:f})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var b=c(this).resizable("instance").options,d=function(a){c(a).each(function(){var a=c(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),
height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!==typeof b.alsoResize||b.alsoResize.parentNode?d(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],d(b.alsoResize)):c.each(b.alsoResize,function(a){d(a)})},resize:function(b,d){var a=c(this).resizable("instance"),e=a.options,g=a.originalSize,f=a.originalPosition,h={height:a.size.height-g.height||0,width:a.size.width-g.width||0,top:a.position.top-f.top||0,left:a.position.left-f.left||
0},l=function(a,b){c(a).each(function(){var a=c(this),e=c(this).data("ui-resizable-alsoresize"),g={},f=b&&b.length?b:a.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(f,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&0<=c&&(g[b]=c||null)});a.css(g)})};"object"!==typeof e.alsoResize||e.alsoResize.nodeType?l(e.alsoResize):c.each(e.alsoResize,function(a,b){l(a,b)})},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",
{start:function(){var b=c(this).resizable("instance"),d=b.options,a=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof d.ghost?d.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=c(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=c(this).resizable("instance");
b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var b,d=c(this).resizable("instance"),a=d.options,e=d.size,g=d.originalSize,f=d.originalPosition,h=d.axis,l="number"===typeof a.grid?[a.grid,a.grid]:a.grid,m=l[0]||1,q=l[1]||1,k=Math.round((e.width-g.width)/m)*m,e=Math.round((e.height-g.height)/q)*q,r=g.width+k,E=g.height+e,C=a.maxWidth&&a.maxWidth<r,H=a.maxHeight&&a.maxHeight<E,V=a.minWidth&&a.minWidth>r,K=a.minHeight&&a.minHeight>
E;a.grid=l;V&&(r+=m);K&&(E+=q);C&&(r-=m);H&&(E-=q);if(/^(se|s|e)$/.test(h))d.size.width=r,d.size.height=E;else if(/^(ne)$/.test(h))d.size.width=r,d.size.height=E,d.position.top=f.top-e;else if(/^(sw)$/.test(h))d.size.width=r,d.size.height=E,d.position.left=f.left-k;else{if(0>=E-q||0>=r-m)b=d._getPaddingPlusBorderDimensions(this);0<E-q?(d.size.height=E,d.position.top=f.top-e):(E=q-b.height,d.size.height=E,d.position.top=f.top+g.height-E);0<r-m?(d.size.width=r,d.position.left=f.left-k):(r=q-b.height,
d.size.width=r,d.position.left=f.left+g.width-r)}}});c.widget("ui.selectable",c.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=c(d.options.filter,d.element[0]);b.addClass("ui-selectee");b.each(function(){var a=c(this),b=a.offset();c.data(this,"selectable-item",
{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(b){var d=this,a=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=c(a.filter,this.element[0]),this._trigger("start",b),c(a.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),a.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=c.data(this,"selectable-item");a.startselected=!0;b.metaKey||b.ctrlKey||(a.$element.removeClass("ui-selected"),a.selected=!1,
a.$element.addClass("ui-unselecting"),a.unselecting=!0,d._trigger("unselecting",b,{unselecting:a.element}))}),c(b.target).parents().addBack().each(function(){var a,g=c.data(this,"selectable-item");if(g)return a=!b.metaKey&&!b.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),g.unselecting=!a,g.selecting=a,(g.selected=a)?d._trigger("selecting",b,{selecting:g.element}):d._trigger("unselecting",b,{unselecting:g.element}),
!1}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var d,a=this,e=this.options,g=this.opos[0],f=this.opos[1],h=b.pageX,l=b.pageY;g>h&&(d=h,h=g,g=d);f>l&&(d=l,l=f,f=d);this.helper.css({left:g,top:f,width:h-g,height:l-f});this.selectees.each(function(){var d=c.data(this,"selectable-item"),n=!1;d&&d.element!==a.element[0]&&("touch"===e.tolerance?n=!(d.left>h||d.right<g||d.top>l||d.bottom<f):"fit"===e.tolerance&&(n=d.left>g&&d.right<h&&d.top>f&&d.bottom<l),n?(d.selected&&(d.$element.removeClass("ui-selected"),
d.selected=!1),d.unselecting&&(d.$element.removeClass("ui-unselecting"),d.unselecting=!1),d.selecting||(d.$element.addClass("ui-selecting"),d.selecting=!0,a._trigger("selecting",b,{selecting:d.element}))):(d.selecting&&((b.metaKey||b.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),d.unselecting=!0),a._trigger("unselecting",
b,{unselecting:d.element}))),!d.selected||b.metaKey||b.ctrlKey||d.startselected||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,a._trigger("unselecting",b,{unselecting:d.element}))))});return!1}},_mouseStop:function(b){var d=this;this.dragged=!1;c(".ui-unselecting",this.element[0]).each(function(){var a=c.data(this,"selectable-item");a.$element.removeClass("ui-unselecting");a.unselecting=!1;a.startselected=!1;d._trigger("unselected",b,{unselected:a.element})});
c(".ui-selecting",this.element[0]).each(function(){var a=c.data(this,"selectable-item");a.$element.removeClass("ui-selecting").addClass("ui-selected");a.selecting=!1;a.selected=!0;a.startselected=!0;d._trigger("selected",b,{selected:a.element})});this._trigger("stop",b);this.helper.remove();return!1}});c.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",
header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=c();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=
0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c()}},_createIcons:function(){var b=this.options.icons;b&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},
_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();b=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display",
"").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,c){"active"===b?this._activate(c):("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(c)),this._super(b,c),"collapsible"!==b||c||!1!==this.options.active||this._activate(0),"icons"===b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"===b&&(this.element.toggleClass("ui-state-disabled",
!!c).attr("aria-disabled",c),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!c)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var d=c.ui.keyCode,a=this.headers.length,e=this.headers.index(b.target),g=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:g=this.headers[(e+1)%a];break;case d.LEFT:case d.UP:g=this.headers[(e-1+a)%a];break;case d.SPACE:case d.ENTER:this._eventHandler(b);break;case d.HOME:g=this.headers[0];break;case d.END:g=this.headers[a-1]}g&&(c(b.target).attr("tabIndex",
-1),c(g).attr("tabIndex",0),g.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===c.ui.keyCode.UP&&b.ctrlKey&&c(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=!1,this.active=c()):!1===b.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=c()):
this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var b=this.headers,c=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();c&&(this._off(b.not(this.headers)),this._off(c.not(this.panels)))},
_refresh:function(){var b,d=this.options,a=d.heightStyle,e=this.element.parent();this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var a=c(this),b=a.uniqueId().attr("id"),e=a.next(),d=e.uniqueId().attr("id");a.attr("aria-controls",d);e.attr("aria-labelledby",b)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",
"aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(d.event);"fill"===a?(b=e.height(),this.element.siblings(":visible").each(function(){var a=c(this),e=a.css("position");"absolute"!==e&&"fixed"!==e&&(b-=a.outerHeight(!0))}),this.headers.each(function(){b-=c(this).outerHeight(!0)}),
this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.headers.next().each(function(){b=Math.max(b,c(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):c()},_setupEvents:function(b){var d=
{keydown:"_keydown"};b&&c.each(b.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,d);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var d=this.options,a=this.active,e=c(b.currentTarget),g=e[0]===a[0],f=g&&d.collapsible,h=f?c():e.next(),l=a.next(),h={oldHeader:a,oldPanel:l,newHeader:f?c():e,newPanel:h};b.preventDefault();g&&!d.collapsible||
!1===this._trigger("beforeActivate",b,h)||(d.active=f?!1:this.headers.index(e),this.active=g?c():e,this._toggle(h),a.removeClass("ui-accordion-header-active ui-state-active"),d.icons&&a.children(".ui-accordion-header-icon").removeClass(d.icons.activeHeader).addClass(d.icons.header),g||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),d.icons&&e.children(".ui-accordion-header-icon").removeClass(d.icons.header).addClass(d.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},
_toggle:function(b){var d=b.newPanel,a=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=d;this.prevHide=a;this.options.animate?this._animate(d,a,b):(a.hide(),d.show(),this._toggleComplete(b));a.attr({"aria-hidden":"true"});a.prev().attr("aria-selected","false");d.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):d.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);d.attr("aria-hidden",
"false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(b,c,a){var e,d,f,h=this,l=0,m=b.length&&(!c.length||b.index()<c.index()),q=this.options.animate||{},m=m&&q.down||q,k=function(){h._toggleComplete(a)};"number"===typeof m&&(f=m);"string"===typeof m&&(d=m);d=d||m.easing||q.easing;f=f||m.duration||q.duration;if(!c.length)return b.animate(this.showProps,f,d,k);if(!b.length)return c.animate(this.hideProps,f,d,k);e=b.show().outerHeight();c.animate(this.hideProps,
{duration:f,easing:d,step:function(a,b){b.now=Math.round(a)}});b.hide().animate(this.showProps,{duration:f,easing:d,complete:k,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?l+=b.now:"content"!==h.options.heightStyle&&(b.now=Math.round(e-c.outerHeight()-l),l=0)}})},_toggleComplete:function(b){var c=b.oldPanel;c.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");c.length&&(c.parent()[0].className=c.parent()[0].className);this._trigger("activate",
null,b)}});var m,r=function(){var b=c(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},h=function(b){var d=b.name,a=b.form,e=c([]);d&&(d=d.replace(/'/g,"\\'"),e=a?c(a).find("[name='"+d+"'][type=radio]"):c("[name='"+d+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form}));return e};c.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,r);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,d=this.options,a="checkbox"===this.type||"radio"===this.type,e=a?"":"ui-state-active";null===d.label&&(d.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){d.disabled||this===m&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){d.disabled||c(this).removeClass(e)}).bind("click"+this.eventNamespace,function(a){d.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
a&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(d.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed","true");var a=b.element[0];h(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).addClass("ui-state-active");m=this;b.document.one("mouseup",function(){m=null})}).bind("mouseup"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(d.disabled)return!1;a.keyCode!==c.ui.keyCode.SPACE&&a.keyCode!==c.ui.keyCode.ENTER||c(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",d.disabled);this._resetButton()},_determineButtonType:function(){var b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(b=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=b.find(c),this.buttonElement.length||(b=b.length?b.siblings():this.element.siblings(),this.buttonElement=b.filter(c),this.buttonElement.length||(this.buttonElement=b.find(c))),this.element.addClass("ui-helper-hidden-accessible"),(b=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",b)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(b,c){this._super(b,
c);"disabled"===b?(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),c&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"))):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?h(this.element[0]).each(function(){c(this).is(":checked")?
c(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
d=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),a=this.options.icons,e=a.primary&&a.secondary,g=[];a.primary||a.secondary?(this.options.text&&g.push("ui-button-text-icon"+(e?"s":a.primary?"-primary":"-secondary")),a.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(g.push(e?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",c.trim(d)))):g.push("ui-button-text-only");b.addClass(g.join(" "))}}});c.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){"disabled"===b&&this.buttons.button("option",b,c);this._super(b,c)},refresh:function(){var b=
"rtl"===this.element.css("direction"),d=this.element.find(this.options.items),a=d.filter(":ui-button");d.not(":ui-button").button();a.button("refresh");this.buttons=d.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});
c.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled",
"true");this._on({"mousedown .ui-menu-item":function(b){b.preventDefault()},"click .ui-menu-item":function(b){var d=c(b.target);!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&c(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var d=
c(b.currentTarget);d.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(b,d)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,c){var a=this.active||this.element.find(this.options.items).eq(0);c||this.focus(b,a)},blur:function(b){this._delay(function(){c.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){this._closeOnDocumentClick(b)&&this.collapseAll(b);
this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=
c(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var d,a,e,g=!0;switch(b.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(b);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case c.ui.keyCode.HOME:this._move("first","first",b);break;case c.ui.keyCode.END:this._move("last","last",b);break;case c.ui.keyCode.UP:this.previous(b);break;case c.ui.keyCode.DOWN:this.next(b);break;
case c.ui.keyCode.LEFT:this.collapse(b);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(b);break;case c.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",a=String.fromCharCode(b.keyCode),e=!1,clearTimeout(this.filterTimer),a===d?e=!0:a=d+a,d=this._filterMenuItems(a),d=e&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||
(a=String.fromCharCode(b.keyCode),d=this._filterMenuItems(a)),d.length?(this.focus(b,d),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(b):this.select(b))},refresh:function(){var b,d=this,a=this.options.icons.submenu;b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",
!!this.element.find(".ui-icon").length);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=c(this),d=b.parent(),f=c("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(f);b.attr("aria-labelledby",d.attr("id"))});b=b.add(this.element).find(this.options.items);b.not(".ui-menu-item").each(function(){var a=
c(this);d._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")});b.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});b.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu);
"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this._super(b,c)},focus:function(b,c){var a;this.blur(b,b&&"focus"===b.type);this._scrollIntoView(c);this.active=c.first();a=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",a.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},
this.delay);a=c.children(".ui-menu");a.length&&b&&/^mouse/.test(b.type)&&this._startOpening(a);this.activeMenu=c.parent();this._trigger("focus",b,{item:c})},_scrollIntoView:function(b){var d,a,e;this._hasScroll()&&(d=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(c.css(this.activeMenu[0],"paddingTop"))||0,d=b.offset().top-this.activeMenu.offset().top-d-a,a=this.activeMenu.scrollTop(),e=this.activeMenu.height(),b=b.outerHeight(),0>d?this.activeMenu.scrollTop(a+d):d+b>e&&this.activeMenu.scrollTop(a+
d-e+b))},blur:function(b,c){c||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(b)},this.delay))},_open:function(b){var d=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden",
"true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(b,d){clearTimeout(this.timer);this.timer=this._delay(function(){var a=d?this.element:c(b&&b.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element);this._close(a);this.blur(b);this.activeMenu=a},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element);b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},
_closeOnDocumentClick:function(b){return!c(b.target).closest(".ui-menu").length},_isDivider:function(b){return!/[^\-\u2014\u2013\s]/.test(b.text())},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next",
"first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,c,a){var e;this.active&&(e="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[b+"All"](".ui-menu-item").eq(0));e&&e.length&&this.active||(e=this.activeMenu.find(this.options.items)[c]());this.focus(a,
e)},nextPage:function(b){var d,a,e;this.active?this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=c(this);return 0>d.offset().top-a-e}),this.focus(b,d)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var d,a,e;this.active?this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=
c(this);return 0<d.offset().top-a+e}),this.focus(b,d)):this.focus(b,this.activeMenu.find(this.options.items).first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||c(b.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,d)},_filterMenuItems:function(b){b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=
new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(c.trim(c(this).text()))})}});c.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var b=/#.*$/;return function(c){var a,e;c=c.cloneNode(!1);a=c.href.replace(b,"");e=location.href.replace(b,"");try{a=decodeURIComponent(a)}catch(d){}try{e=
decodeURIComponent(e)}catch(f){}return 1<c.hash.length&&a===e}}(),_create:function(){var b=this,d=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",d.collapsible);this._processTabs();d.active=this._initialActive();c.isArray(d.disabled)&&(d.disabled=c.unique(d.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?
this._findActive(d.active):c();this._refresh();this.active.length&&this.load(d.active)},_initialActive:function(){var b=this.options.active,d=this.options.collapsible,a=location.hash.substring(1);null===b&&(a&&this.tabs.each(function(e,d){if(c(d).attr("aria-controls")===a)return b=e,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=d?!1:0));!d&&!1===b&&this.anchors.length&&(b=
0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(b){var d=c(this.document[0].activeElement).closest("li"),a=this.tabs.index(d),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:a++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:e=!1;a--;break;case c.ui.keyCode.END:a=this.anchors.length-1;break;case c.ui.keyCode.HOME:a=0;break;case c.ui.keyCode.SPACE:b.preventDefault();
clearTimeout(this.activating);this._activate(a);return;case c.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(a===this.options.active?!1:a);return;default:return}b.preventDefault();clearTimeout(this.activating);a=this._focusNextTab(a,e);b.ctrlKey||(d.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===
c.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,d){function a(){b>e&&(b=0);0>b&&(b=e);return b}for(var e=this.tabs.length-1;-1!==c.inArray(a(),this.options.disabled);)b=d?b+1:b-1;return b},_focusNextTab:function(b,
c){b=this._findNextTab(b,c);this.tabs.eq(b).focus();return b},_setOption:function(b,c){"active"===b?this._activate(c):"disabled"===b?this._setupDisabled(c):(this._super(b,c),"collapsible"===b&&(this.element.toggleClass("ui-tabs-collapsible",c),c||!1!==this.options.active||this._activate(0)),"event"===b&&this._setupEvents(c),"heightStyle"===b&&this._setupHeightStyle(c))},_sanitizeSelector:function(b){return b?b.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,
d=this.tablist.children(":has(a[href])");b.disabled=c.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=c());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);
this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",
0)},_processTabs:function(){var b=this,d=this.tabs,a=this.anchors,e=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(a){c(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",
tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(a,e){var d,f,h=c(e).uniqueId().attr("id"),n=c(e).closest("li"),l=n.attr("aria-controls");b._isLocal(e)?(d=e.hash,f=d.substring(1),d=b.element.find(b._sanitizeSelector(d))):(f=n.attr("aria-controls")||c({}).uniqueId()[0].id,d=b.element.find("#"+f),d.length||(d=b._createPanel(f),d.insertAfter(b.panels[a-1]||b.tablist)),
d.attr("aria-live","polite"));d.length&&(b.panels=b.panels.add(d));l&&n.data("ui-tabs-aria-controls",l);n.attr({"aria-controls":f,"aria-labelledby":h});d.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");d&&(this._off(d.not(this.tabs)),this._off(a.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return c("<div>").attr("id",
b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){c.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var d=0,a;a=this.tabs[d];d++)!0===b||-1!==c.inArray(d,b)?c(a).addClass("ui-state-disabled").attr("aria-disabled","true"):c(a).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var d={};b&&c.each(b.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));
this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,d);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var d,a=this.element.parent();"fill"===b?(d=a.height(),d-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=c(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(d-=a.outerHeight(!0))}),
this.element.children().not(this.panels).each(function(){d-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,d-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===b&&(d=0,this.panels.each(function(){d=Math.max(d,c(this).height("").height())}).height(d))},_eventHandler:function(b){var d=this.options,a=this.active,e=c(b.currentTarget).closest("li"),g=e[0]===a[0],f=g&&d.collapsible,h=f?c():this._getPanelForTab(e),l=a.length?this._getPanelForTab(a):
c(),a={oldTab:a,oldPanel:l,newTab:f?c():e,newPanel:h};b.preventDefault();e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||g&&!d.collapsible||!1===this._trigger("beforeActivate",b,a)||(d.active=f?!1:this.tabs.index(e),this.active=g?c():e,this.xhr&&this.xhr.abort(),l.length||h.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(e),b),this._toggle(b,a))},_toggle:function(b,d){function a(){g.running=!1;g._trigger("activate",
b,d)}function e(){d.newTab.closest("li").addClass("ui-tabs-active ui-state-active");f.length&&g.options.show?g._show(f,g.options.show,a):(f.show(),a())}var g=this,f=d.newPanel,h=d.oldPanel;this.running=!0;h.length&&this.options.hide?this._hide(h,this.options.hide,function(){d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()}):(d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e());h.attr("aria-hidden","true");d.oldTab.attr({"aria-selected":"false",
"aria-expanded":"false"});f.length&&h.length?d.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr("aria-hidden","false");d.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return!1===
b?c():this.tabs.eq(b)},_getIndex:function(b){"string"===typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']")));return b},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=
c(this),d=b.data("ui-tabs-aria-controls");d?b.attr("aria-controls",d).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var d=this.options.disabled;!1!==d&&(void 0===b?d=!1:(b=this._getIndex(b),d=c.isArray(d)?c.map(d,function(a){return a!==b?a:null}):c.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(d))},disable:function(b){var d=this.options.disabled;
if(!0!==d){if(void 0===b)d=!0;else{b=this._getIndex(b);if(-1!==c.inArray(b,d))return;d=c.isArray(d)?c.merge([b],d).sort():[b]}this._setupDisabled(d)}},load:function(b,d){b=this._getIndex(b);var a=this,e=this.tabs.eq(b),g=e.find(".ui-tabs-anchor"),f=this._getPanelForTab(e),h={tab:e,panel:f};this._isLocal(g[0])||(this.xhr=c.ajax(this._ajaxSettings(g,d,h)))&&"canceled"!==this.xhr.statusText&&(e.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(b){setTimeout(function(){f.html(b);
a._trigger("load",d,h)},1)}).complete(function(b,c){setTimeout(function(){"abort"===c&&a.panels.stop(!1,!0);e.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");b===a.xhr&&delete a.xhr},1)}))},_ajaxSettings:function(b,d,a){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",d,c.extend({jqXHR:b,ajaxSettings:f},a))}}},_getPanelForTab:function(b){b=c(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}});c.widget("ui.tooltip",
{version:"1.11.2",options:{content:function(){var b=c(this).attr("title")||"";return c("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(b,d){var a=(b.attr("aria-describedby")||"").split(/\s+/);a.push(d);b.data("ui-tooltip-id",d).attr("aria-describedby",c.trim(a.join(" ")))},_removeDescribedBy:function(b){var d=b.data("ui-tooltip-id"),
a=(b.attr("aria-describedby")||"").split(/\s+/),d=c.inArray(d,a);-1!==d&&a.splice(d,1);b.removeData("ui-tooltip-id");(a=c.trim(a.join(" ")))?b.attr("aria-describedby",a):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=c("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(b,d){var a=this;"disabled"===b?(this[d?"_disable":"_enable"](),this.options[b]=d):(this._super(b,d),"content"===b&&c.each(this.tooltips,function(b,c){a._updateContent(c.element)}))},_disable:function(){var b=this;c.each(this.tooltips,function(d,a){var e=c.Event("blur");e.target=e.currentTarget=a.element[0];b.close(e,!0)});this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var d=this,a=c(b?b.target:this.element).closest(this.options.items);a.length&&!a.data("ui-tooltip-id")&&(a.attr("title")&&a.data("ui-tooltip-title",a.attr("title")),a.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&a.parents().each(function(){var a=c(this),b;a.data("ui-tooltip-open")&&(b=c.Event("blur"),b.target=
b.currentTarget=this,d.close(b,!0));a.attr("title")&&(a.uniqueId(),d.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(a,b))},_updateContent:function(b,c){var a;a=this.options.content;var d=this,g=c?c.type:null;if("string"===typeof a)return this._open(c,b,a);(a=a.call(b[0],function(a){b.data("ui-tooltip-open")&&d._delay(function(){c&&(c.type=g);this._open(c,b,a)})}))&&this._open(c,b,a)},_open:function(b,d,a){function e(a){l.of=a;f.is(":hidden")||f.position(l)}
var g,f,h,l=c.extend({},this.options.position);a&&((g=this._find(d))?g.tooltip.find(".ui-tooltip-content").html(a):(d.is("[title]")&&(b&&"mouseover"===b.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),f=g.tooltip,this._addDescribedBy(d,f.attr("id")),f.find(".ui-tooltip-content").html(a),this.liveRegion.children().hide(),a.clone&&(a=a.clone(),a.removeAttr("id").find("[id]").removeAttr("id")),c("<div>").html(a).appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?
(this._on(this.document,{mousemove:e}),e(b)):f.position(c.extend({of:d},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(e(l.of),clearInterval(h))},c.fx.interval)),this._trigger("open",b,{tooltip:f}),a={keyup:function(a){a.keyCode===c.ui.keyCode.ESCAPE&&(a=c.Event(a),a.currentTarget=d[0],this.close(a,!0))}},d[0]!==this.element[0]&&(a.remove=function(){this._removeTooltip(f)}),
b&&"mouseover"!==b.type||(a.mouseleave="close"),b&&"focusin"!==b.type||(a.focusout="close"),this._on(!0,d,a)))},close:function(b){var d,a=this,e=c(b?b.currentTarget:this.element),g=this._find(e);g&&(d=g.tooltip,g.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),g.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){a._removeTooltip(c(this))}),e.removeData("ui-tooltip-open"),this._off(e,
"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&c.each(this.parents,function(b,d){c(d.element).attr("title",d.title);delete a.parents[b]}),g.closing=!0,this._trigger("close",b,{tooltip:d}),g.hiding||(g.closing=!1)))},_tooltip:function(b){var d=c("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),a=d.uniqueId().attr("id");c("<div>").addClass("ui-tooltip-content").appendTo(d);
d.appendTo(this.document[0].body);return this.tooltips[a]={element:b,tooltip:d}},_find:function(b){return(b=b.data("ui-tooltip-id"))?this.tooltips[b]:null},_removeTooltip:function(b){b.remove();delete this.tooltips[b.attr("id")]},_destroy:function(){var b=this;c.each(this.tooltips,function(d,a){var e=c.Event("blur"),g=a.element;e.target=e.currentTarget=g[0];b.close(e,!0);c("#"+d).remove();g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))});
this.liveRegion.remove()}})});/*
   Copyright 2008-2014 SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
*/
(function(c,k,f){(function(c){"function"===typeof define&&define.amd?define("datatables",["jquery"],c):"object"===typeof exports?c(require("jquery")):jQuery&&!jQuery.fn.dataTable&&c(jQuery)})(function(d){function q(a){var b,c,e={};d.each(a,function(d,g){(b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" ")&&(c=d.replace(b[0],b[2].toLowerCase()),e[c]=d,"o"===b[1]&&q(a[d]))});a._hungarianMap=e}function l(a,b,c){a._hungarianMap||q(a);var e;d.each(b,function(g,h){e=a._hungarianMap[g];
e===f||!c&&b[e]!==f||("o"===e.charAt(0)?(b[e]||(b[e]={}),d.extend(!0,b[e],b[g]),l(a[e],b[e],c)):b[e]=b[g])})}function m(a){var b=y.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&ma(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&ma(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&Xa(a)}function r(a){fa(a,"ordering","bSort");fa(a,"orderMulti","bSortMulti");
fa(a,"orderClasses","bSortClasses");fa(a,"orderCellsTop","bSortCellsTop");fa(a,"order","aaSorting");fa(a,"orderFixed","aaSortingFixed");fa(a,"paging","bPaginate");fa(a,"pagingType","sPaginationType");fa(a,"pageLength","iDisplayLength");fa(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&l(y.models.oSearch,a[b])}function h(a){fa(a,"orderable","bSortable");fa(a,"orderData","aDataSort");fa(a,"orderSequence","asSorting");fa(a,"orderDataType","sortDataType")}function b(a){a=
a.oBrowser;var b=d("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(d("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(d('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==c.offset().left;b.remove()}function n(a,b,c,d,e,g){var h,l=!1;c!==f&&(h=c,l=!0);for(;d!==e;)a.hasOwnProperty(d)&&(h=l?b(h,a[d],d,a):a[d],l=!0,d+=g);return h}
function a(a,b){var c=y.defaults.column,g=a.aoColumns.length,c=d.extend({},y.models.oColumn,c,{nTh:b?b:k.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[g],mData:c.mData?c.mData:g,idx:g});a.aoColumns.push(c);c=a.aoPreSearchCols;c[g]=d.extend({},y.models.oSearch,c[g]);e(a,g,null)}function e(a,b,c){b=a.aoColumns[b];var e=a.oClasses,g=d(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=g.attr("width")||null;var m=(g.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);
m&&(b.sWidthOrig=m[1])}c!==f&&null!==c&&(h(c),l(y.defaults.column,c),c.mDataProp===f||c.mData||(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),d.extend(b,c),ma(b,c,"sWidth","sWidthOrig"),"number"===typeof c.iDataSort&&(b.aDataSort=[c.iDataSort]),ma(b,c,"aDataSort"));var n=b.mData,q=K(n),p=b.mRender?K(b.mRender):null;c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=d.isPlainObject(n)&&(c(n.sort)||c(n.type)||c(n.filter));
b.fnGetData=function(a,b,c){var d=q(a,b,f,c);return p&&b?p(d,b,a,c):d};b.fnSetData=function(a,b,c){return P(n)(a,b,c)};"number"!==typeof n&&(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,g.addClass(e.sSortableNone));a=-1!==d.inArray("asc",b.asSorting);c=-1!==d.inArray("desc",b.asSorting);b.bSortable&&(a||c)?a&&!c?(b.sSortingClass=e.sSortableAsc,b.sSortingClassJUI=e.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=e.sSortableDesc,b.sSortingClassJUI=e.sSortJUIDescAllowed):(b.sSortingClass=e.sSortable,
b.sSortingClassJUI=e.sSortJUI):(b.sSortingClass=e.sSortableNone,b.sSortingClassJUI="")}function g(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;wa(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;""===b.sY&&""===b.sX||Qa(a);T(a,null,"column-sizing",[a])}function u(a,b){var c=v(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function w(a,b){var c=v(a,"bVisible"),c=d.inArray(b,c);return-1!==c?c:null}function B(a){return v(a,"bVisible").length}function v(a,b){var c=
[];d.map(a.aoColumns,function(a,d){a[b]&&c.push(d)});return c}function x(a){var b=a.aoColumns,c=a.aoData,d=y.ext.type.detect,e,g,h,l,m,n,q,p,k;e=0;for(g=b.length;e<g;e++)if(q=b[e],k=[],!q.sType&&q._sManualType)q.sType=q._sManualType;else if(!q.sType){h=0;for(l=d.length;h<l;h++){m=0;for(n=c.length;m<n;m++){k[m]===f&&(k[m]=C(a,m,e,"type"));p=d[h](k[m],a);if(!p&&h!==d.length-1)break;if("html"===p)break}if(p){q.sType=p;break}}q.sType||(q.sType="string")}}function z(b,c,e,g){var h,l,m,n,q,p,k=b.aoColumns;
if(c)for(h=c.length-1;0<=h;h--){p=c[h];var u=p.targets!==f?p.targets:p.aTargets;d.isArray(u)||(u=[u]);l=0;for(m=u.length;l<m;l++)if("number"===typeof u[l]&&0<=u[l]){for(;k.length<=u[l];)a(b);g(u[l],p)}else if("number"===typeof u[l]&&0>u[l])g(k.length+u[l],p);else if("string"===typeof u[l])for(n=0,q=k.length;n<q;n++)("_all"==u[l]||d(k[n].nTh).hasClass(u[l]))&&g(n,p)}if(e)for(h=0,b=e.length;h<b;h++)g(h,e[h])}function A(a,b,c,e){var g=a.aoData.length,f=d.extend(!0,{},y.models.oRow,{src:c?"dom":"data"});
f._aData=b;a.aoData.push(f);b=a.aoColumns;for(var f=0,h=b.length;f<h;f++)c&&H(a,g,f,C(a,g,f)),b[f].sType=null;a.aiDisplayMaster.push(g);!c&&a.oFeatures.bDeferRender||ka(a,g,c,e);return g}function E(a,b){var c;b instanceof d||(b=d(b));return b.map(function(b,d){c=U(a,d);return A(a,c.data,d,c.cells)})}function C(a,b,c,d){var e=a.iDraw,g=a.aoColumns[c],h=a.aoData[b]._aData,l=g.sDefaultContent;c=g.fnGetData(h,d,{settings:a,row:b,col:c});if(c===f)return a.iDrawError!=e&&null===l&&(Ga(a,0,"Requested unknown parameter "+
("function"==typeof g.mData?"{function}":"'"+g.mData+"'")+" for row "+b,4),a.iDrawError=e),l;if((c===h||null===c)&&null!==l)c=l;else if("function"===typeof c)return c.call(h);return null===c&&"display"==d?"":c}function H(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function V(a){return d.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function K(a){if(d.isPlainObject(a)){var b={};d.each(a,function(a,c){c&&(b[a]=K(c))});return function(a,
c,d,e){var g=b[c]||b._;return g!==f?g(a,c,d,e):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,d,e){return a(b,c,d,e)};if("string"!==typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){return b[a]};var c=function(a,b,d){var e,g;if(""!==d){g=V(d);for(var s=0,h=g.length;s<h;s++){d=g[s].match(Ya);e=g[s].match(Ma);if(d){g[s]=g[s].replace(Ya,"");""!==g[s]&&(a=a[g[s]]);e=[];g.splice(0,s+1);g=g.join(".");s=0;for(h=a.length;s<
h;s++)e.push(c(a[s],b,g));a=d[0].substring(1,d[0].length-1);a=""===a?e:e.join(a);break}else if(e){g[s]=g[s].replace(Ma,"");a=a[g[s]]();continue}if(null===a||a[g[s]]===f)return f;a=a[g[s]]}}return a};return function(b,d){return c(b,d,a)}}function P(a){if(d.isPlainObject(a))return P(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,c,d){a(b,"set",c,d)};if("string"!==typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){b[a]=c};var b=
function(a,c,d){d=V(d);var e;e=d[d.length-1];for(var g,s,h=0,l=d.length-1;h<l;h++){g=d[h].match(Ya);s=d[h].match(Ma);if(g){d[h]=d[h].replace(Ya,"");a[d[h]]=[];e=d.slice();e.splice(0,h+1);g=e.join(".");s=0;for(l=c.length;s<l;s++)e={},b(e,c[s],g),a[d[h]].push(e);return}s&&(d[h]=d[h].replace(Ma,""),a=a[d[h]](c));if(null===a[d[h]]||a[d[h]]===f)a[d[h]]={};a=a[d[h]]}if(e.match(Ma))a[e.replace(Ma,"")](c);else a[e.replace(Ya,"")]=c};return function(c,d){return b(c,d,a)}}function N(a){return la(a.aoData,"_aData")}
function L(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function X(a,b,c){for(var d=-1,e=0,g=a.length;e<g;e++)a[e]==b?d=e:a[e]>b&&a[e]--; -1!=d&&c===f&&a.splice(d,1)}function ca(a,b,c,d){var e=a.aoData[b],g,h=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=C(a,b,d,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==e.src)){var l=e.anCells;if(l)if(d!==f)h(l[d],d);else for(c=0,g=l.length;c<g;c++)h(l[c],c)}else e._aData=U(a,e,d,d===f?f:e._aData).data;
e._aSortData=null;e._aFilterData=null;h=a.aoColumns;if(d!==f)h[d].sType=null;else{c=0;for(g=h.length;c<g;c++)h[c].sType=null;oa(e)}}function U(a,b,c,e){var g=[],h=b.firstChild,l,m=0,n,q=a.aoColumns,p=a._rowReadObject;e=e||p?{}:[];var k=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),P(a)(e,b.getAttribute(c)))}};a=function(a){if(c===f||c===m)l=q[m],n=d.trim(a.innerHTML),l&&l._bAttrSrc?(P(l.mData._)(e,n),k(l.mData.sort,a),k(l.mData.type,a),k(l.mData.filter,a)):
p?(l._setter||(l._setter=P(l.mData)),l._setter(e,n)):e[m]=n;m++};if(h)for(;h;){b=h.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(h),g.push(h);h=h.nextSibling}else for(g=b.anCells,h=0,b=g.length;h<b;h++)a(g[h]);return{data:e,cells:g}}function ka(a,b,c,d){var e=a.aoData[b],g=e._aData,f=[],h,l,m,n,q;if(null===e.nTr){h=c||k.createElement("tr");e.nTr=h;e.anCells=f;h._DT_RowIndex=b;oa(e);n=0;for(q=a.aoColumns.length;n<q;n++){m=a.aoColumns[n];l=c?d[n]:k.createElement(m.sCellType);f.push(l);if(!c||m.mRender||
m.mData!==n)l.innerHTML=C(a,b,n,"display");m.sClass&&(l.className+=" "+m.sClass);m.bVisible&&!c?h.appendChild(l):!m.bVisible&&c&&l.parentNode.removeChild(l);m.fnCreatedCell&&m.fnCreatedCell.call(a.oInstance,l,C(a,b,n),g,b,n)}T(a,"aoRowCreatedCallback",null,[h,g,b])}e.nTr.setAttribute("role","row")}function oa(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?hb(a.__rowc.concat(e)):e;d(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowData&&
d(b).data(c.DT_RowData)}}function za(a){var b,c,e,g,f,h=a.nTHead,l=a.nTFoot,m=0===d("th, td",h).length,n=a.oClasses,q=a.aoColumns;m&&(g=d("<tr/>").appendTo(h));b=0;for(c=q.length;b<c;b++)f=q[b],e=d(f.nTh).addClass(f.sClass),m&&e.appendTo(g),a.oFeatures.bSort&&(e.addClass(f.sSortingClass),!1!==f.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),fb(a,f.nTh,b))),f.sTitle!=e.html()&&e.html(f.sTitle),gb(a,"header")(a,e,f,n);m&&da(a.aoHeader,h);d(h).find(">tr").attr("role","row");
d(h).find(">tr>th, >tr>td").addClass(n.sHeaderTH);d(l).find(">tr>th, >tr>td").addClass(n.sFooterTH);if(null!==l)for(a=a.aoFooter[0],b=0,c=a.length;b<c;b++)f=q[b],f.nTf=a[b].cell,f.sClass&&d(f.nTf).addClass(f.sClass)}function ha(a,b,c){var e,g,h,l=[],m=[],n=a.aoColumns.length,q;if(b){c===f&&(c=!1);e=0;for(g=b.length;e<g;e++){l[e]=b[e].slice();l[e].nTr=b[e].nTr;for(h=n-1;0<=h;h--)a.aoColumns[h].bVisible||c||l[e].splice(h,1);m.push([])}e=0;for(g=l.length;e<g;e++){if(a=l[e].nTr)for(;h=a.firstChild;)a.removeChild(h);
h=0;for(b=l[e].length;h<b;h++)if(q=n=1,m[e][h]===f){a.appendChild(l[e][h].cell);for(m[e][h]=1;l[e+n]!==f&&l[e][h].cell==l[e+n][h].cell;)m[e+n][h]=1,n++;for(;l[e][h+q]!==f&&l[e][h].cell==l[e][h+q].cell;){for(c=0;c<n;c++)m[e+c][h+q]=1;q++}d(l[e][h].cell).attr("rowspan",n).attr("colspan",q)}}}}function ra(a){var b=T(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==d.inArray(!1,b))S(a,!1);else{var b=[],c=0,e=a.asStripeClasses,g=e.length,h=a.oLanguage,l=a.iInitDisplayStart,m="ssp"==ia(a),n=a.aiDisplay;a.bDrawing=
!0;l!==f&&-1!==l&&(a._iDisplayStart=m?l:l>=a.fnRecordsDisplay()?0:l,a.iInitDisplayStart=-1);var l=a._iDisplayStart,q=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,S(a,!1);else if(!m)a.iDraw++;else if(!a.bDestroying&&!pa(a))return;if(0!==n.length)for(h=m?a.aoData.length:q,m=m?0:l;m<h;m++){var p=n[m],k=a.aoData[p];null===k.nTr&&ka(a,p);p=k.nTr;if(0!==g){var u=e[c%g];k._sRowStripe!=u&&(d(p).removeClass(k._sRowStripe).addClass(u),k._sRowStripe=u)}T(a,"aoRowCallback",null,[p,k._aData,
c,m]);b.push(p);c++}else c=h.sZeroRecords,1==a.iDraw&&"ajax"==ia(a)?c=h.sLoadingRecords:h.sEmptyTable&&0===a.fnRecordsTotal()&&(c=h.sEmptyTable),b[0]=d("<tr/>",{"class":g?e[0]:""}).append(d("<td />",{valign:"top",colSpan:B(a),"class":a.oClasses.sRowEmpty}).html(c))[0];T(a,"aoHeaderCallback","header",[d(a.nTHead).children("tr")[0],N(a),l,q,n]);T(a,"aoFooterCallback","footer",[d(a.nTFoot).children("tr")[0],N(a),l,q,n]);e=d(a.nTBody);e.children().detach();e.append(d(b));T(a,"aoDrawCallback","draw",[a]);
a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function sa(a,b){var c=a.oFeatures,e=c.bFilter;c.bSort&&Jb(a);e?J(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;ra(a);a._drawHold=!1}function ta(a){var b=a.oClasses,c=d(a.nTable),c=d("<div/>").insertBefore(c),e=a.oFeatures,g=d("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=g[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=
a.sDom.split(""),h,l,m,n,q,p,k=0;k<f.length;k++){h=null;l=f[k];if("<"==l){m=d("<div/>")[0];n=f[k+1];if("'"==n||'"'==n){q="";for(p=2;f[k+p]!=n;)q+=f[k+p],p++;"H"==q?q=b.sJUIHeader:"F"==q&&(q=b.sJUIFooter);-1!=q.indexOf(".")?(n=q.split("."),m.id=n[0].substr(1,n[0].length-1),m.className=n[1]):"#"==q.charAt(0)?m.id=q.substr(1,q.length-1):m.className=q;k+=p}g.append(m);g=d(m)}else if(">"==l)g=g.parent();else if("l"==l&&e.bPaginate&&e.bLengthChange)h=lb(a);else if("f"==l&&e.bFilter)h=W(a);else if("r"==
l&&e.bProcessing)h=M(a);else if("t"==l)h=Bb(a);else if("i"==l&&e.bInfo)h=Ab(a);else if("p"==l&&e.bPaginate)h=Wa(a);else if(0!==y.ext.feature.length)for(m=y.ext.feature,p=0,n=m.length;p<n;p++)if(l==m[p].cFeature){h=m[p].fnInit(a);break}h&&(m=a.aanFeatures,m[l]||(m[l]=[]),m[l].push(h),g.append(h))}c.replaceWith(g)}function da(a,b){var c=d(b).children("tr"),e,g,f,h,l,m,n,q,p,k;a.splice(0,a.length);f=0;for(m=c.length;f<m;f++)a.push([]);f=0;for(m=c.length;f<m;f++)for(e=c[f],g=e.firstChild;g;){if("TD"==
g.nodeName.toUpperCase()||"TH"==g.nodeName.toUpperCase()){q=1*g.getAttribute("colspan");p=1*g.getAttribute("rowspan");q=q&&0!==q&&1!==q?q:1;p=p&&0!==p&&1!==p?p:1;h=0;for(l=a[f];l[h];)h++;n=h;k=1===q?!0:!1;for(l=0;l<q;l++)for(h=0;h<p;h++)a[f+h][n+l]={cell:g,unique:k},a[f+h].nTr=e}g=g.nextSibling}}function Ha(a,b,c){var e=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));b=0;for(var d=c.length;b<d;b++)for(var g=0,f=c[b].length;g<f;g++)!c[b][g].unique||e[g]&&a.bSortCellsTop||(e[g]=c[b][g].cell);return e}function Ca(a,
b,c){T(a,"aoServerParams","serverParams",[b]);if(b&&d.isArray(b)){var e={},g=/(.*?)\[\]$/;d.each(b,function(a,b){var c=b.name.match(g);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value});b=e}var f,h=a.ajax,l=a.oInstance;if(d.isPlainObject(h)&&h.data){f=h.data;var m=d.isFunction(f)?f(b):f;b=d.isFunction(f)&&m?m:d.extend(!0,b,m);delete h.data}m={data:b,success:function(b){var e=b.error||b.sError;e&&a.oApi._fnLog(a,0,e);a.json=b;T(a,null,"xhr",[a,b]);c(b)},dataType:"json",cache:!1,type:a.sServerMethod,
error:function(b,c,e){e=a.oApi._fnLog;"parsererror"==c?e(a,0,"Invalid JSON response",1):4===b.readyState&&e(a,0,"Ajax error",7);S(a,!1)}};a.oAjaxData=b;T(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(l,a.sAjaxSource,d.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"===typeof h?a.jqXHR=d.ajax(d.extend(m,{url:h||a.sAjaxSource})):d.isFunction(h)?a.jqXHR=h.call(l,b,c,a):(a.jqXHR=d.ajax(d.extend(m,h)),h.data=f)}function pa(a){return a.bAjaxDataGet?(a.iDraw++,S(a,!0),
Ca(a,xa(a),function(b){Db(a,b)}),!1):!0}function xa(a){var b=a.aoColumns,c=b.length,e=a.oFeatures,g=a.oPreviousSearch,f=a.aoPreSearchCols,h,l=[],m,n,q,p=Ja(a);h=a._iDisplayStart;m=!1!==e.bPaginate?a._iDisplayLength:-1;var k=function(a,b){l.push({name:a,value:b})};k("sEcho",a.iDraw);k("iColumns",c);k("sColumns",la(b,"sName").join(","));k("iDisplayStart",h);k("iDisplayLength",m);var u={draw:a.iDraw,columns:[],order:[],start:h,length:m,search:{value:g.sSearch,regex:g.bRegex}};for(h=0;h<c;h++)n=b[h],
q=f[h],m="function"==typeof n.mData?"function":n.mData,u.columns.push({data:m,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:q.sSearch,regex:q.bRegex}}),k("mDataProp_"+h,m),e.bFilter&&(k("sSearch_"+h,q.sSearch),k("bRegex_"+h,q.bRegex),k("bSearchable_"+h,n.bSearchable)),e.bSort&&k("bSortable_"+h,n.bSortable);e.bFilter&&(k("sSearch",g.sSearch),k("bRegex",g.bRegex));e.bSort&&(d.each(p,function(a,b){u.order.push({column:b.col,dir:b.dir});k("iSortCol_"+a,b.col);k("sSortDir_"+
a,b.dir)}),k("iSortingCols",p.length));b=y.ext.legacy.ajax;return null===b?a.sAjaxSource?l:u:b?l:u}function Db(a,b){var c=function(a,c){return b[a]!==f?b[a]:b[c]},e=c("sEcho","draw"),d=c("iTotalRecords","recordsTotal"),c=c("iTotalDisplayRecords","recordsFiltered");if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}L(a);a._iRecordsTotal=parseInt(d,10);a._iRecordsDisplay=parseInt(c,10);e=Da(a,b);d=0;for(c=e.length;d<c;d++)A(a,e[d]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;ra(a);a._bInitComplete||
eb(a,b);a.bAjaxDataGet=!0;S(a,!1)}function Da(a,b){var c=d.isPlainObject(a.ajax)&&a.ajax.dataSrc!==f?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?K(c)(b):b}function W(a){var b=a.oClasses,c=a.sTableId,e=a.oLanguage,g=a.oPreviousSearch,f=a.aanFeatures,h='<input type="search" class="'+b.sFilterInput+'"/>',l=e.sSearch,l=l.match(/_INPUT_/)?l.replace("_INPUT_",h):l+h,b=d("<div/>",{id:f.f?null:c+"_filter","class":b.sFilter}).append(d("<label/>").append(l)),f=function(){var b=this.value?
this.value:"";b!=g.sSearch&&(J(a,{sSearch:b,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),a._iDisplayStart=0,ra(a))},h=null!==a.searchDelay?a.searchDelay:"ssp"===ia(a)?400:0,m=d("input",b).val(g.sSearch).attr("placeholder",e.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?Aa(f,h):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);d(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{m[0]!==k.activeElement&&m.val(g.sSearch)}catch(e){}});
return b[0]}function J(a,b,c){var e=a.oPreviousSearch,d=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=a.bCaseInsensitive},h=function(a){return a.bEscapeRegex!==f?!a.bEscapeRegex:a.bRegex};x(a);if("ssp"!=ia(a)){Fb(a,b.sSearch,c,h(b),b.bSmart,b.bCaseInsensitive);g(b);for(b=0;b<d.length;b++)Eb(a,d[b].sSearch,b,h(d[b]),d[b].bSmart,d[b].bCaseInsensitive);p(a)}else g(b);a.bFiltered=!0;T(a,null,"search",[a])}function p(a){for(var b=y.ext.search,
c=a.aiDisplay,e,d,g=0,f=b.length;g<f;g++){for(var h=[],l=0,m=c.length;l<m;l++)d=c[l],e=a.aoData[d],b[g](a,e._aFilterData,d,e._aData,l)&&h.push(d);c.length=0;c.push.apply(c,h)}}function Eb(a,b,c,e,d,g){if(""!==b){var f=a.aiDisplay;e=mb(b,e,d,g);for(d=f.length-1;0<=d;d--)b=a.aoData[f[d]]._aFilterData[c],e.test(b)||f.splice(d,1)}}function Fb(a,b,c,e,d,g){e=mb(b,e,d,g);d=a.oPreviousSearch.sSearch;g=a.aiDisplayMaster;var f;0!==y.ext.search.length&&(c=!0);f=Ia(a);if(0>=b.length)a.aiDisplay=g.slice();else{if(f||
c||d.length>b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=g.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)e.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function mb(a,b,c,e){a=b?a:db(a);c&&(a="^(?=.*?"+d.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if('"'===a.charAt(0)){var b=a.match(/^"(.*)"$/);a=b?b[1]:a}return a.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(a,e?"i":"")}function db(a){return a.replace(wb,"\\$1")}function Ia(a){var b=a.aoColumns,c,e,d,g,f,h,l,m,n=y.ext.type.search;
c=!1;e=0;for(g=a.aoData.length;e<g;e++)if(m=a.aoData[e],!m._aFilterData){h=[];d=0;for(f=b.length;d<f;d++)c=b[d],c.bSearchable?(l=C(a,e,d,"filter"),n[c.sType]&&(l=n[c.sType](l)),null===l&&(l=""),"string"!==typeof l&&l.toString&&(l=l.toString())):l="",l.indexOf&&-1!==l.indexOf("&")&&(Za.innerHTML=l,l=Tb?Za.textContent:Za.innerText),l.replace&&(l=l.replace(/[\r\n]/g,"")),h.push(l);m._aFilterData=h;m._sFilterRow=h.join("  ");c=!0}return c}function nb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,
caseInsensitive:a.bCaseInsensitive}}function ob(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function Ab(a){var b=a.sTableId,c=a.aanFeatures.i,e=d("<div/>",{"class":a.oClasses.sInfo,id:c?null:b+"_info"});c||(a.aoDrawCallback.push({fn:Ua,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),d(a.nTable).attr("aria-describedby",b+"_info"));return e[0]}function Ua(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+
1,g=a.fnDisplayEnd(),f=a.fnRecordsTotal(),h=a.fnRecordsDisplay(),l=h?c.sInfo:c.sInfoEmpty;h!==f&&(l+=" "+c.sInfoFiltered);l+=c.sInfoPostFix;l=Gb(a,l);c=c.fnInfoCallback;null!==c&&(l=c.call(a.oInstance,a,e,g,f,h,l));d(b).html(l)}}function Gb(a,b){var c=a.fnFormatNumber,e=a._iDisplayStart+1,d=a._iDisplayLength,g=a.fnRecordsDisplay(),f=-1===d;return b.replace(/_START_/g,c.call(a,e)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,
g)).replace(/_PAGE_/g,c.call(a,f?1:Math.ceil(e/d))).replace(/_PAGES_/g,c.call(a,f?1:Math.ceil(g/d)))}function Va(a){var b,c,e=a.iInitDisplayStart,d=a.aoColumns,g;c=a.oFeatures;if(a.bInitialised){ta(a);za(a);ha(a,a.aoHeader);ha(a,a.aoFooter);S(a,!0);c.bAutoWidth&&wa(a);b=0;for(c=d.length;b<c;b++)g=d[b],g.sWidth&&(g.nTh.style.width=Q(g.sWidth));sa(a);d=ia(a);"ssp"!=d&&("ajax"==d?Ca(a,[],function(c){var d=Da(a,c);for(b=0;b<d.length;b++)A(a,d[b]);a.iInitDisplayStart=e;sa(a);S(a,!1);eb(a,c)},a):(S(a,!1),
eb(a)))}else setTimeout(function(){Va(a)},200)}function eb(a,b){a._bInitComplete=!0;b&&g(a);T(a,"aoInitComplete","init",[a,b])}function qa(a,b){var c=parseInt(b,10);a._iDisplayLength=c;ub(a);T(a,null,"length",[a,c])}function lb(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,g=d.isArray(e[0]),f=g?e[0]:e,e=g?e[1]:e,g=d("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),h=0,l=f.length;h<l;h++)g[0][h]=new Option(e[h],f[h]);var m=d("<div><label/></div>").addClass(b.sLength);
a.aanFeatures.l||(m[0].id=c+"_length");m.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",g[0].outerHTML));d("select",m).val(a._iDisplayLength).bind("change.DT",function(b){qa(a,d(this).val());ra(a)});d(a.nTable).bind("length.dt.DT",function(b,c,e){a===c&&d("select",m).val(e)});return m[0]}function Wa(a){var b=a.sPaginationType,c=y.ext.pager[b],e="function"===typeof c,g=function(a){ra(a)},b=d("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;e||c.fnInit(a,b,g);f.p||(b.id=a.sTableId+
"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b=a._iDisplayStart,d=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===d,b=l?0:Math.ceil(b/d),d=l?1:Math.ceil(h/d),h=c(b,d),s,l=0;for(s=f.p.length;l<s;l++)gb(a,"pageButton")(a,f.p[l],l,h,b,d)}else c.fnUpdate(a,g)},sName:"pagination"}));return b}function ea(a,b,c){var e=a._iDisplayStart,d=a._iDisplayLength,g=a.fnRecordsDisplay();0===g||-1===d?e=0:"number"===typeof b?(e=b*d,e>g&&(e=0)):"first"==b?e=0:"previous"==b?(e=0<=d?e-d:0,0>e&&(e=0)):"next"==
b?e+d<g&&(e+=d):"last"==b?e=Math.floor((g-1)/d)*d:Ga(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==e;a._iDisplayStart=e;b&&(T(a,null,"page",[a]),c&&ra(a));return b}function M(a){return d("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing","class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function S(a,b){a.oFeatures.bProcessing&&d(a.aanFeatures.r).css("display",b?"block":"none");T(a,null,"processing",[a,b])}function Bb(a){var b=d(a.nTable);b.attr("role",
"grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,g=c.sY,f=a.oClasses,h=b.children("caption"),l=h.length?h[0]._captionSide:null,m=d(b[0].cloneNode(!1)),n=d(b[0].cloneNode(!1)),q=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");q.length||(q=null);c=d("<div/>",{"class":f.sScrollWrapper}).append(d("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?e?Q(e):null:"100%"}).append(d("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",
width:c.sXInner||"100%"}).append(m.removeAttr("id").css("margin-left",0).append("top"===l?h:null).append(b.children("thead"))))).append(d("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:g?Q(g):null,width:e?Q(e):null}).append(b));q&&c.append(d("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:e?e?Q(e):null:"100%"}).append(d("<div/>",{"class":f.sScrollFootInner}).append(n.removeAttr("id").css("margin-left",0).append("bottom"===l?h:null).append(b.children("tfoot")))));
var b=c.children(),p=b[0],f=b[1],k=q?b[2]:null;e&&d(f).scroll(function(a){a=this.scrollLeft;p.scrollLeft=a;q&&(k.scrollLeft=a)});a.nScrollHead=p;a.nScrollBody=f;a.nScrollFoot=k;a.aoDrawCallback.push({fn:Qa,sName:"scrolling"});return c[0]}function Qa(a){var b=a.oScroll,c=b.sX,e=b.sXInner,g=b.sY,f=b.iBarWidth,h=d(a.nScrollHead),l=h[0].style,m=h.children("div"),n=m[0].style,q=m.children("table"),m=a.nScrollBody,p=d(m),k=m.style,r=d(a.nScrollFoot).children("div"),w=r.children("table"),B=d(a.nTHead),v=
d(a.nTable),x=v[0],z=x.style,A=a.nTFoot?d(a.nTFoot):null,K=a.oBrowser,E=K.bScrollOversize,N,y,L,C,P,H=[],F=[],G=[],J,V=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};v.children("thead, tfoot").remove();P=B.clone().prependTo(v);N=B.find("tr");L=P.find("tr");P.find("th, td").removeAttr("tabindex");A&&(C=A.clone().prependTo(v),y=A.find("tr"),C=C.find("tr"));c||(k.width="100%",h[0].style.width="100%");d.each(Ha(a,P),function(b,c){J=
u(a,b);c.style.width=a.aoColumns[J].sWidth});A&&na(function(a){a.style.width=""},C);b.bCollapse&&""!==g&&(k.height=p[0].offsetHeight+B[0].offsetHeight+"px");h=v.outerWidth();""===c?(z.width="100%",E&&(v.find("tbody").height()>m.offsetHeight||"scroll"==p.css("overflow-y"))&&(z.width=Q(v.outerWidth()-f))):""!==e?z.width=Q(e):h==p.width()&&p.height()<v.height()?(z.width=Q(h-f),v.outerWidth()>h-f&&(z.width=Q(h))):z.width=Q(h);h=v.outerWidth();na(V,L);na(function(a){G.push(a.innerHTML);H.push(Q(d(a).css("width")))},
L);na(function(a,b){a.style.width=H[b]},N);d(L).height(0);A&&(na(V,C),na(function(a){F.push(Q(d(a).css("width")))},C),na(function(a,b){a.style.width=F[b]},y),d(C).height(0));na(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+G[b]+"</div>";a.style.width=H[b]},L);A&&na(function(a,b){a.innerHTML="";a.style.width=F[b]},C);v.outerWidth()<h?(y=m.scrollHeight>m.offsetHeight||"scroll"==p.css("overflow-y")?h+f:h,E&&(m.scrollHeight>m.offsetHeight||"scroll"==p.css("overflow-y"))&&
(z.width=Q(y-f)),""!==c&&""===e||Ga(a,1,"Possible column misalignment",6)):y="100%";k.width=Q(y);l.width=Q(y);A&&(a.nScrollFoot.style.width=Q(y));!g&&E&&(k.height=Q(x.offsetHeight+f));g&&b.bCollapse&&(k.height=Q(g),b=c&&x.offsetWidth>m.offsetWidth?f:0,x.offsetHeight<m.offsetHeight&&(k.height=Q(x.offsetHeight+b)));b=v.outerWidth();q[0].style.width=Q(b);n.width=Q(b);q=v.height()>m.clientHeight||"scroll"==p.css("overflow-y");K="padding"+(K.bScrollbarLeft?"Left":"Right");n[K]=q?f+"px":"0px";A&&(w[0].style.width=
Q(b),r[0].style.width=Q(b),r[0].style[K]=q?f+"px":"0px");p.scroll();!a.bSorted&&!a.bFiltered||a._drawHold||(m.scrollTop=0)}function na(a,b,c){for(var e=0,d=0,g=b.length,f,h;d<g;){f=b[d].firstChild;for(h=c?c[d].firstChild:null;f;)1===f.nodeType&&(c?a(f,h,e):a(f,e),e++),f=f.nextSibling,h=c?h.nextSibling:null;d++}}function wa(a){var b=a.nTable,e=a.aoColumns,f=a.oScroll,h=f.sY,l=f.sX,m=f.sXInner,n=e.length,f=v(a,"bVisible"),q=d("th",a.nTHead),p=b.getAttribute("width"),k=b.parentNode,u=!1,r,w;for(r=0;r<
f.length;r++)w=e[f[r]],null!==w.sWidth&&(w.sWidth=pb(w.sWidthOrig,k),u=!0);if(u||l||h||n!=B(a)||n!=q.length){n=d(b).clone().empty().css("visibility","hidden").removeAttr("id").append(d(a.nTHead).clone(!1)).append(d(a.nTFoot).clone(!1)).append(d("<tbody><tr/></tbody>"));n.find("tfoot th, tfoot td").css("width","");var x=n.find("tbody tr"),q=Ha(a,n.find("thead")[0]);for(r=0;r<f.length;r++)w=e[f[r]],q[r].style.width=null!==w.sWidthOrig&&""!==w.sWidthOrig?Q(w.sWidthOrig):"";if(a.aoData.length)for(r=0;r<
f.length;r++)u=f[r],w=e[u],d(Ib(a,u)).clone(!1).append(w.sContentPadding).appendTo(x);n.appendTo(k);l&&m?n.width(m):l?(n.css("width","auto"),n.width()<k.offsetWidth&&n.width(k.offsetWidth)):h?n.width(k.offsetWidth):p&&n.width(p);Hb(a,n[0]);if(l){for(r=m=0;r<f.length;r++)w=e[f[r]],h=d(q[r]).outerWidth(),m+=null===w.sWidthOrig?h:parseInt(w.sWidth,10)+h-d(q[r]).width();n.width(Q(m));b.style.width=Q(m)}for(r=0;r<f.length;r++)if(w=e[f[r]],h=d(q[r]).width())w.sWidth=Q(h);b.style.width=Q(n.css("width"));
n.remove()}else for(r=0;r<n;r++)e[r].sWidth=Q(q.eq(r).width());p&&(b.style.width=Q(p));!p&&!l||a._reszEvt||(d(c).bind("resize.DT-"+a.sInstance,Aa(function(){g(a)})),a._reszEvt=!0)}function Aa(a,b){var c=b!==f?b:200,e,d;return function(){var b=this,g=+new Date,h=arguments;e&&g<e+c?(clearTimeout(d),d=setTimeout(function(){e=f;a.apply(b,h)},c)):e?(e=g,a.apply(b,h)):e=g}}function pb(a,b){if(!a)return 0;var c=d("<div/>").css("width",Q(a)).appendTo(b||k.body),e=c[0].offsetWidth;c.remove();return e}function Hb(a,
b){var c=a.oScroll;if(c.sX||c.sY)c=c.sX?0:c.iBarWidth,b.style.width=Q(d(b).outerWidth()-c)}function Ib(a,b){var c=qb(a,b);if(0>c)return null;var e=a.aoData[c];return e.nTr?e.anCells[b]:d("<td/>").html(C(a,c,b,"display"))[0]}function qb(a,b){for(var c,e=-1,d=-1,g=0,f=a.aoData.length;g<f;g++)c=C(a,g,b,"display")+"",c=c.replace(Ub,""),c.length>e&&(e=c.length,d=g);return d}function Q(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function rb(){if(!y.__scrollbarWidth){var a=
d("<p/>").css({width:"100%",height:200,padding:0})[0],b=d("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll");a=a.offsetWidth;c===a&&(a=b[0].clientWidth);b.remove();y.__scrollbarWidth=c-a}return y.__scrollbarWidth}function Ja(a){var b,c,e=[],g=a.aoColumns,h,l,m,n;b=a.aaSortingFixed;c=d.isPlainObject(b);var q=[];h=function(a){a.length&&!d.isArray(a[0])?q.push(a):
q.push.apply(q,a)};d.isArray(b)&&h(b);c&&b.pre&&h(b.pre);h(a.aaSorting);c&&b.post&&h(b.post);for(a=0;a<q.length;a++)for(n=q[a][0],h=g[n].aDataSort,b=0,c=h.length;b<c;b++)l=h[b],m=g[l].sType||"string",q[a]._idx===f&&(q[a]._idx=d.inArray(q[a][1],g[l].asSorting)),e.push({src:n,col:l,dir:q[a][1],index:q[a]._idx,type:m,formatter:y.ext.type.order[m+"-pre"]});return e}function Jb(a){var b,c,e=[],d=y.ext.type.order,g=a.aoData,f=0,h,l=a.aiDisplayMaster,m;x(a);m=Ja(a);b=0;for(c=m.length;b<c;b++)h=m[b],h.formatter&&
f++,Lb(a,h.col);if("ssp"!=ia(a)&&0!==m.length){b=0;for(c=l.length;b<c;b++)e[l[b]]=b;f===m.length?l.sort(function(a,b){var c,d,f,h,l=m.length,n=g[a]._aSortData,s=g[b]._aSortData;for(f=0;f<l;f++)if(h=m[f],c=n[h.col],d=s[h.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===h.dir?c:-c;c=e[a];d=e[b];return c<d?-1:c>d?1:0}):l.sort(function(a,b){var c,f,h,l,n=m.length,s=g[a]._aSortData,q=g[b]._aSortData;for(h=0;h<n;h++)if(l=m[h],c=s[l.col],f=q[l.col],l=d[l.type+"-"+l.dir]||d["string-"+l.dir],c=l(c,f),0!==c)return c;
c=e[a];f=e[b];return c<f?-1:c>f?1:0})}a.bSorted=!0}function Kb(a){var b,c,e=a.aoColumns,d=Ja(a);a=a.oLanguage.oAria;for(var g=0,f=e.length;g<f;g++){c=e[g];var h=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var l=c.nTh;l.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==g?(l.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=h[d[0].index+1]||h[0]):c=h[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);l.setAttribute("aria-label",b)}}function sb(a,b,c,e){var g=a.aaSorting,
h=a.aoColumns[b].asSorting,l=function(a,b){var c=a._idx;c===f&&(c=d.inArray(a[1],h));return c+1<h.length?c+1:b?null:0};"number"===typeof g[0]&&(g=a.aaSorting=[g]);c&&a.oFeatures.bSortMulti?(c=d.inArray(b,la(g,"0")),-1!==c?(b=l(g[c],!0),null===b?g.splice(c,1):(g[c][1]=h[b],g[c]._idx=b)):(g.push([b,h[0],0]),g[g.length-1]._idx=0)):g.length&&g[0][0]==b?(b=l(g[0]),g.length=1,g[0][1]=h[b],g[0]._idx=b):(g.length=0,g.push([b,h[0]]),g[0]._idx=0);sa(a);"function"==typeof e&&e(a)}function fb(a,b,c,e){var d=
a.aoColumns[c];tb(b,{},function(b){!1!==d.bSortable&&(a.oFeatures.bProcessing?(S(a,!0),setTimeout(function(){sb(a,c,b.shiftKey,e);"ssp"!==ia(a)&&S(a,!1)},0)):sb(a,c,b.shiftKey,e))})}function bb(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,e=Ja(a),g=a.oFeatures,f,h;if(g.bSort&&g.bSortClasses){g=0;for(f=b.length;g<f;g++)h=b[g].src,d(la(a.aoData,"anCells",h)).removeClass(c+(2>g?g+1:3));g=0;for(f=e.length;g<f;g++)h=e[g].src,d(la(a.aoData,"anCells",h)).addClass(c+(2>g?g+1:3))}a.aLastSort=e}function Lb(a,
b){var c=a.aoColumns[b],e=y.ext.order[c.sSortDataType],d;e&&(d=e.call(a.oInstance,a,b,w(a,b)));for(var g,f=y.ext.type.order[c.sType+"-pre"],h=0,l=a.aoData.length;h<l;h++)if(c=a.aoData[h],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||e)g=e?d[h]:C(a,h,b,"sort"),c._aSortData[b]=f?f(g):g}function ba(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:d.extend(!0,[],a.aaSorting),search:nb(a.oPreviousSearch),columns:d.map(a.aoColumns,
function(b,c){return{visible:b.bVisible,search:nb(a.aoPreSearchCols[c])}})};T(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Sa(a,b){var c,e,g=a.aoColumns;if(a.oFeatures.bStateSave){var f=a.fnStateLoadCallback.call(a.oInstance,a);if(f&&f.time&&(c=T(a,"aoStateLoadParams","stateLoadParams",[a,f]),-1===d.inArray(!1,c)&&(c=a.iStateDuration,!(0<c&&f.time<+new Date-1E3*c)&&g.length===f.columns.length))){a.oLoadedState=d.extend(!0,{},
f);a._iDisplayStart=f.start;a.iInitDisplayStart=f.start;a._iDisplayLength=f.length;a.aaSorting=[];d.each(f.order,function(b,c){a.aaSorting.push(c[0]>=g.length?[0,c[1]]:c)});d.extend(a.oPreviousSearch,ob(f.search));c=0;for(e=f.columns.length;c<e;c++){var h=f.columns[c];g[c].bVisible=h.visible;d.extend(a.aoPreSearchCols[c],ob(h.search))}T(a,"aoStateLoaded","stateLoaded",[a,f])}}}function Ra(a){var b=y.settings;a=d.inArray(a,la(b,"nTable"));return-1!==a?b[a]:null}function Ga(a,b,e,d){e="DataTables warning: "+
(null!==a?"table id="+a.sTableId+" - ":"")+e;d&&(e+=". For more information about this error, please see http://datatables.net/tn/"+d);if(b)c.console&&console.log&&console.log(e);else if(a=y.ext,"alert"==(a.sErrMode||a.errMode))alert(e);else throw Error(e);}function ma(a,b,c,e){d.isArray(c)?d.each(c,function(c,e){d.isArray(e)?ma(a,b,e[0],e[1]):ma(a,b,e)}):(e===f&&(e=c),b[c]!==f&&(a[e]=b[c]))}function Ta(a,b,c){var e,g;for(g in b)b.hasOwnProperty(g)&&(e=b[g],d.isPlainObject(e)?(d.isPlainObject(a[g])||
(a[g]={}),d.extend(!0,a[g],e)):c&&"data"!==g&&"aaData"!==g&&d.isArray(e)?a[g]=e.slice():a[g]=e);return a}function tb(a,b,c){d(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function ja(a,b,c,e){c&&a[b].push({fn:c,sName:e})}function T(a,b,c,e){var g=[];b&&(g=d.map(a[b].slice().reverse(),function(b,c){return b.fn.apply(a.oInstance,e)}));null!==c&&d(a.nTable).trigger(c+".dt",e);return g}
function ub(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),e=a._iDisplayLength;b>=c&&(b=c-e);b-=b%e;if(-1===e||0>b)b=0;a._iDisplayStart=b}function gb(a,b){var c=a.renderer,e=y.ext.renderer[b];return d.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"===typeof c?e[c]||e._:e._}function ia(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Ba(a,b){var c=[],c=Yb.numbers_length,e=Math.floor(c/2);b<=c?c=La(0,b):a<=e?(c=La(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-e?c=La(b-
(c-2),b):(c=La(a-1,a+2),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function Xa(a){d.each({num:function(b){return Cb(b,a)},"num-fmt":function(b){return Cb(b,a,ya)},"html-num":function(b){return Cb(b,a,Oa)},"html-num-fmt":function(b){return Cb(b,a,Oa,ya)}},function(b,c){aa.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(aa.type.search[b+a]=aa.type.search.html)})}function Mb(a){return function(){var b=[Ra(this[y.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));
return y.ext.internal[a].apply(this,b)}}var y,aa,O,F,R,Ka={},Nb=/[\r\n]/g,Oa=/<.*?>/g,Sb=/^[\w\+\-]/,vb=/[\w\+\-]$/,wb=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,ya=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,ga=function(a){return a&&!0!==a&&"-"!==a?!1:!0},Ob=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},xb=function(a,b){Ka[b]||(Ka[b]=new RegExp(db(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Ka[b],"."):a},yb=function(a,b,c){var e="string"===
typeof a;b&&e&&(a=xb(a,b));c&&e&&(a=a.replace(ya,""));return ga(a)||!isNaN(parseFloat(a))&&isFinite(a)},Pb=function(a,b,c){return ga(a)?!0:ga(a)||"string"===typeof a?yb(a.replace(Oa,""),b,c)?!0:null:null},la=function(a,b,c){var e=[],d=0,g=a.length;if(c!==f)for(;d<g;d++)a[d]&&a[d][b]&&e.push(a[d][b][c]);else for(;d<g;d++)a[d]&&e.push(a[d][b]);return e},Pa=function(a,b,c,e){var d=[],g=0,h=b.length;if(e!==f)for(;g<h;g++)a[b[g]][c]&&d.push(a[b[g]][c][e]);else for(;g<h;g++)d.push(a[b[g]][c]);return d},
La=function(a,b){var c=[],e;b===f?(b=0,e=a):(e=b,b=a);for(var d=b;d<e;d++)c.push(d);return c},cb=function(a){for(var b=[],c=0,e=a.length;c<e;c++)a[c]&&b.push(a[c]);return b},hb=function(a){var b=[],c,e,d=a.length,g,f=0;e=0;a:for(;e<d;e++){c=a[e];for(g=0;g<f;g++)if(b[g]===c)continue a;b.push(c);f++}return b},fa=function(a,b,c){a[b]!==f&&(a[c]=a[b])},Ya=/\[.*?\]$/,Ma=/\(\)$/,Za=d("<div>")[0],Tb=Za.textContent!==f,Ub=/<.*?>/g;y=function(c){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,
b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new O(Ra(this[aa.iApiIndex])):new O(this)};this.fnAddData=function(a,b){var c=this.api(!0),e=d.isArray(a)&&(d.isArray(a[0])||d.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===f||b)&&c.draw();return e.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===f||a?b.draw(!1):""===e.sX&&""===e.sY||Qa(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();
(a===f||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var e=this.api(!0);a=e.rows(a);var d=a.settings()[0],g=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,g);(c===f||c)&&e.draw();return g};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(!a)};this.fnFilter=function(a,b,c,e,d,g){d=this.api(!0);null===b||b===f?d.search(a,c,e,g):d.column(b).search(a,c,e,g);d.draw()};this.fnGetData=function(a,b){var c=
this.api(!0);if(a!==f){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==f||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==f?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};
this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===f||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===f||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return Ra(this[aa.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,e,d){var g=
this.api(!0);c===f||null===c?g.row(b).data(a):g.cell(b,c).data(a);(d===f||d)&&g.columns.adjust();(e===f||e)&&g.draw();return 0};this.fnVersionCheck=aa.fnVersionCheck;var g=this,n=c===f,q=this.length;n&&(c={});this.oApi=this.internal=aa.internal;for(var p in y.ext.internal)p&&(this[p]=Mb(p));this.each(function(){var p={},p=1<q?Ta(p,c,!0):c,k=0,u,w=this.getAttribute("id"),v=!1,B=y.defaults;if("table"!=this.nodeName.toLowerCase())Ga(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{r(B);
h(B.column);l(B,B,!0);l(B.column,B.column,!0);l(B,p);var x=y.settings,k=0;for(u=x.length;k<u;k++){if(x[k].nTable==this){u=p.bRetrieve!==f?p.bRetrieve:B.bRetrieve;if(n||u)return x[k].oInstance;if(p.bDestroy!==f?p.bDestroy:B.bDestroy){x[k].oInstance.fnDestroy();break}else{Ga(x[k],0,"Cannot reinitialise DataTable",3);return}}if(x[k].sTableId==this.id){x.splice(k,1);break}}if(null===w||""===w)this.id=w="DataTables_Table_"+y.ext._unique++;var D=d.extend(!0,{},y.models.oSettings,{nTable:this,oApi:g.internal,
oInit:p,sDestroyWidth:d(this)[0].style.width,sInstance:w,sTableId:w});x.push(D);D.oInstance=1===g.length?g:d(this).dataTable();r(p);p.oLanguage&&m(p.oLanguage);p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=d.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]);p=Ta(d.extend(!0,{},B),p);ma(D.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));ma(D,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber",
"sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);ma(D.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);
ma(D.oLanguage,p,"fnInfoCallback");ja(D,"aoDrawCallback",p.fnDrawCallback,"user");ja(D,"aoServerParams",p.fnServerParams,"user");ja(D,"aoStateSaveParams",p.fnStateSaveParams,"user");ja(D,"aoStateLoadParams",p.fnStateLoadParams,"user");ja(D,"aoStateLoaded",p.fnStateLoaded,"user");ja(D,"aoRowCallback",p.fnRowCallback,"user");ja(D,"aoRowCreatedCallback",p.fnCreatedRow,"user");ja(D,"aoHeaderCallback",p.fnHeaderCallback,"user");ja(D,"aoFooterCallback",p.fnFooterCallback,"user");ja(D,"aoInitComplete",p.fnInitComplete,
"user");ja(D,"aoPreDrawCallback",p.fnPreDrawCallback,"user");w=D.oClasses;p.bJQueryUI?(d.extend(w,y.ext.oJUIClasses,p.oClasses),p.sDom===B.sDom&&"lfrtip"===B.sDom&&(D.sDom='<"H"lfr>t<"F"ip>'),D.renderer)?d.isPlainObject(D.renderer)&&!D.renderer.header&&(D.renderer.header="jqueryui"):D.renderer="jqueryui":d.extend(w,y.ext.classes,p.oClasses);d(this).addClass(w.sTable);if(""!==D.oScroll.sX||""!==D.oScroll.sY)D.oScroll.iBarWidth=rb();!0===D.oScroll.sX&&(D.oScroll.sX="100%");D.iInitDisplayStart===f&&
(D.iInitDisplayStart=p.iDisplayStart,D._iDisplayStart=p.iDisplayStart);null!==p.iDeferLoading&&(D.bDeferLoading=!0,k=d.isArray(p.iDeferLoading),D._iRecordsDisplay=k?p.iDeferLoading[0]:p.iDeferLoading,D._iRecordsTotal=k?p.iDeferLoading[1]:p.iDeferLoading);var K=D.oLanguage;d.extend(!0,K,p.oLanguage);""!==K.sUrl&&(d.ajax({dataType:"json",url:K.sUrl,success:function(a){m(a);l(B.oLanguage,a);d.extend(!0,K,a);Va(D)},error:function(){Va(D)}}),v=!0);null===p.asStripeClasses&&(D.asStripeClasses=[w.sStripeOdd,
w.sStripeEven]);var k=D.asStripeClasses,N=d("tbody tr:eq(0)",this);-1!==d.inArray(!0,d.map(k,function(a,b){return N.hasClass(a)}))&&(d("tbody tr",this).removeClass(k.join(" ")),D.asDestroyStripes=k.slice());var x=[],L,k=this.getElementsByTagName("thead");0!==k.length&&(da(D.aoHeader,k[0]),x=Ha(D));if(null===p.aoColumns)for(L=[],k=0,u=x.length;k<u;k++)L.push(null);else L=p.aoColumns;k=0;for(u=L.length;k<u;k++)a(D,x?x[k]:null);z(D,p.aoColumnDefs,L,function(a,b){e(D,a,b)});if(N.length){var C=function(a,
b){return a.getAttribute("data-"+b)?b:null};d.each(U(D,N[0]).cells,function(a,b){var c=D.aoColumns[a];if(c.mData===a){var d=C(b,"sort")||C(b,"order"),g=C(b,"filter")||C(b,"search");if(null!==d||null!==g)c.mData={_:a+".display",sort:null!==d?a+".@data-"+d:f,type:null!==d?a+".@data-"+d:f,filter:null!==g?a+".@data-"+g:f},e(D,a)}})}var P=D.oFeatures;p.bStateSave&&(P.bStateSave=!0,Sa(D,p),ja(D,"aoDrawCallback",ba,"state_save"));if(p.aaSorting===f)for(x=D.aaSorting,k=0,u=x.length;k<u;k++)x[k][1]=D.aoColumns[k].asSorting[0];
bb(D);P.bSort&&ja(D,"aoDrawCallback",function(){if(D.bSorted){var a=Ja(D),b={};d.each(a,function(a,c){b[c.src]=c.dir});T(D,null,"order",[D,a,b]);Kb(D)}});ja(D,"aoDrawCallback",function(){(D.bSorted||"ssp"===ia(D)||P.bDeferRender)&&bb(D)},"sc");b(D);k=d(this).children("caption").each(function(){this._captionSide=d(this).css("caption-side")});u=d(this).children("thead");0===u.length&&(u=d("<thead/>").appendTo(this));D.nTHead=u[0];u=d(this).children("tbody");0===u.length&&(u=d("<tbody/>").appendTo(this));
D.nTBody=u[0];u=d(this).children("tfoot");0===u.length&&0<k.length&&(""!==D.oScroll.sX||""!==D.oScroll.sY)&&(u=d("<tfoot/>").appendTo(this));0===u.length||0===u.children().length?d(this).addClass(w.sNoFooter):0<u.length&&(D.nTFoot=u[0],da(D.aoFooter,D.nTFoot));if(p.aaData)for(k=0;k<p.aaData.length;k++)A(D,p.aaData[k]);else(D.bDeferLoading||"dom"==ia(D))&&E(D,d(D.nTBody).children("tr"));D.aiDisplay=D.aiDisplayMaster.slice();D.bInitialised=!0;!1===v&&Va(D)}});g=null;return this};var Qb=[],Z=Array.prototype,
Vb=function(a){var b,c,e=y.settings,g=d.map(e,function(a,b){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=d.inArray(a,g),-1!==b?[e[b]]:null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=d(a):a instanceof d&&(c=a)}else return[];if(c)return c.map(function(a){b=d.inArray(this,g);return-1!==b?e[b]:null}).toArray()};O=function(a,b){if(!this instanceof O)throw"DT API must be constructed as a new object";
var c=[],e=function(a){(a=Vb(a))&&c.push.apply(c,a)};if(d.isArray(a))for(var g=0,f=a.length;g<f;g++)e(a[g]);else e(a);this.context=hb(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector={rows:null,cols:null,opts:null};O.extend(this,this,Qb)};y.Api=O;O.prototype={concat:Z.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new O(b[a],this[a]):null},filter:function(a){var b=[];
if(Z.filter)b=Z.filter.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new O(this.context,b)},flatten:function(){var a=[];return new O(this.context,a.concat.apply(a,this.toArray()))},join:Z.join,indexOf:Z.indexOf||function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var d=[],g,h,l,m,n,p=this.context,q,k,u=this.selector;"string"===typeof a&&(e=c,c=b,b=a,a=!1);h=0;for(l=p.length;h<
l;h++){var r=new O(p[h]);if("table"===b)g=c.call(r,p[h],h),g!==f&&d.push(g);else if("columns"===b||"rows"===b)g=c.call(r,p[h],this[h],h),g!==f&&d.push(g);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(k=this[h],"column-rows"===b&&(q=kb(p[h],u.opts)),m=0,n=k.length;m<n;m++)g=k[m],g="cell"===b?c.call(r,p[h],g.row,g.column,h,m):c.call(r,p[h],g,h,m,q),g!==f&&d.push(g)}return d.length||e?(a=new O(p,a?d.concat.apply([],d):d),b=a.selector,b.rows=u.rows,b.cols=u.cols,b.opts=u.opts,a):
this},lastIndexOf:Z.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(Z.map)b=Z.map.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)b.push(a.call(this,this[c],c));return new O(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:Z.pop,push:Z.push,reduce:Z.reduce||function(a,b){return n(this,a,b,0,this.length,1)},reduceRight:Z.reduceRight||function(a,b){return n(this,a,b,this.length-1,-1,
-1)},reverse:Z.reverse,selector:null,shift:Z.shift,sort:Z.sort,splice:Z.splice,toArray:function(){return Z.slice.call(this)},to$:function(){return d(this)},toJQuery:function(){return d(this)},unique:function(){return new O(this.context,hb(this))},unshift:Z.unshift};O.extend=function(a,b,c){if(b&&(b instanceof O||b.__dt_wrapper)){var e,g,f,h=function(a,b,c){return function(){var e=b.apply(a,arguments);O.extend(e,e,c.methodExt);return e}};e=0;for(g=c.length;e<g;e++)f=c[e],b[f.name]="function"===typeof f.val?
h(a,f.val,f):d.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,O.extend(a,b[f.name],f.propExt)}};O.register=F=function(a,b){if(d.isArray(a))for(var c=0,e=a.length;c<e;c++)O.register(a[c],b);else for(var g=a.split("."),f=Qb,h,l,c=0,e=g.length;c<e;c++){h=(l=-1!==g[c].indexOf("()"))?g[c].replace("()",""):g[c];var m;a:{m=0;for(var n=f.length;m<n;m++)if(f[m].name===h){m=f[m];break a}m=null}m||(m={name:h,val:{},methodExt:[],propExt:[]},f.push(m));c===e-1?m.val=b:f=l?m.methodExt:m.propExt}};O.registerPlural=
R=function(a,b,c){O.register(a,c);O.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof O?a.length?d.isArray(a[0])?new O(a.context,a[0]):a[0]:f:a})};var $a=function(a,b){if("number"===typeof a)return[b[a]];var c=d.map(b,function(a,b){return a.nTable});return d(c).filter(a).map(function(a){a=d.inArray(this,c);return b[a]}).toArray()};F("tables()",function(a){return a?new O($a(a,this.context)):this});F("table()",function(a){a=this.tables(a);var b=a.context;return b.length?
new O(b[0]):a});R("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});R("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});R("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});R("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});R("tables().containers()","table().container()",
function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});F("draw()",function(a){return this.iterator("table",function(b){sa(b,!1===a)})});F("page()",function(a){return a===f?this.page.info().page:this.iterator("table",function(b){ea(b,a)})});F("page.info()",function(a){if(0===this.context.length)return f;a=this.context[0];var b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),
length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}});F("page.len()",function(a){return a===f?0!==this.context.length?this.context[0]._iDisplayLength:f:this.iterator("table",function(b){qa(b,a)})});var zb=function(a,b,c){"ssp"==ia(a)?sa(a,b):(S(a,!0),Ca(a,[],function(c){L(a);c=Da(a,c);for(var e=0,d=c.length;e<d;e++)A(a,c[e]);sa(a,b);S(a,!1)}));if(c){var e=new O(a);e.one("draw",function(){c(e.ajax.json())})}};F("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});F("ajax.params()",
function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});F("ajax.reload()",function(a,b){return this.iterator("table",function(c){zb(c,!1===b,a)})});F("ajax.url()",function(a){var b=this.context;if(a===f){if(0===b.length)return f;b=b[0];return b.ajax?d.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){d.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});F("ajax.url().load()",function(a,b){return this.iterator("table",function(c){zb(c,!1===b,a)})});
var ab=function(a,b){var c=[],e,g,h,l,m,n;e=typeof a;a&&"string"!==e&&"function"!==e&&a.length!==f||(a=[a]);h=0;for(l=a.length;h<l;h++)for(g=a[h]&&a[h].split?a[h].split(","):[a[h]],m=0,n=g.length;m<n;m++)(e=b("string"===typeof g[m]?d.trim(g[m]):g[m]))&&e.length&&c.push.apply(c,e);return c},ib=function(a){a||(a={});a.filter&&!a.search&&(a.search=a.filter);return{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},jb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=
a[b],a.length=1,a.context=[a.context[b]],a;a.length=0;return a},kb=function(a,b){var c,e,g,f=[],h=a.aiDisplay;c=a.aiDisplayMaster;var l=b.search;e=b.order;g=b.page;if("ssp"==ia(a))return"removed"===l?[]:La(0,c.length);if("current"==g)for(c=a._iDisplayStart,e=a.fnDisplayEnd();c<e;c++)f.push(h[c]);else if("current"==e||"applied"==e)f="none"==l?c.slice():"applied"==l?h.slice():d.map(c,function(a,b){return-1===d.inArray(a,h)?a:null});else if("index"==e||"original"==e)for(c=0,e=a.aoData.length;c<e;c++)"none"==
l?f.push(c):(g=d.inArray(c,h),(-1===g&&"removed"==l||0<=g&&"applied"==l)&&f.push(c));return f},Wb=function(a,b,c){return ab(b,function(b){var e=Ob(b);if(null!==e&&!c)return[e];var g=kb(a,c);if(null!==e&&-1!==d.inArray(e,g))return[e];if(!b)return g;if("function"===typeof b)return d.map(g,function(c){var e=a.aoData[c];return b(c,e._aData,e.nTr)?c:null});e=cb(Pa(a.aoData,g,"nTr"));return b.nodeName&&-1!==d.inArray(b,e)?[b._DT_RowIndex]:d(e).filter(b).map(function(){return this._DT_RowIndex}).toArray()})};
F("rows()",function(a,b){a===f?a="":d.isPlainObject(a)&&(b=a,a="");b=ib(b);var c=this.iterator("table",function(c){return Wb(c,a,b)},1);c.selector.rows=a;c.selector.opts=b;return c});F("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||f},1)});F("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return Pa(a.aoData,b,"_aData")},1)});R("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var e=b.aoData[c];
return"search"===a?e._aFilterData:e._aSortData},1)});R("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ca(b,c,a)})});R("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});R("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var g=b.aoData;g.splice(c,1);for(var f=0,h=g.length;f<h;f++)null!==g[f].nTr&&(g[f].nTr._DT_RowIndex=f);d.inArray(c,b.aiDisplay);X(b.aiDisplayMaster,
c);X(b.aiDisplay,c);X(a[e],c,!1);ub(b)})});F("rows.add()",function(a){var b=this.iterator("table",function(b){var c,e,d,g=[];e=0;for(d=a.length;e<d;e++)c=a[e],c.nodeName&&"TR"===c.nodeName.toUpperCase()?g.push(E(b,c)[0]):g.push(A(b,c));return g},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});F("row()",function(a,b){return jb(this.rows(a,b))});F("row().data()",function(a){var b=this.context;if(a===f)return b.length&&this.length?b[0].aoData[this[0]]._aData:f;b[0].aoData[this[0]]._aData=
a;ca(b[0],this[0],"data");return this});F("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});F("row.add()",function(a){a instanceof d&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?E(b,a)[0]:A(b,a)});return this.row(b[0])});var G=function(a,b,c,e){var g=[],f=function(b,c){if(b.nodeName&&"tr"===b.nodeName.toLowerCase())g.push(b);else{var e=d("<tr><td/></tr>").addClass(c);d("td",
e).addClass(c).html(b)[0].colSpan=B(a);g.push(e[0])}};if(d.isArray(c)||c instanceof d)for(var h=0,l=c.length;h<l;h++)f(c[h],e);else f(c,e);b._details&&b._details.remove();b._details=d(g);b._detailsShow&&b._details.insertAfter(b.nTr)},Rb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==f?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=f,c._details=f))},Fa=function(a,b){var c=a.context;if(c.length&&a.length){var e=c[0].aoData[a[0]];e._details&&((e._detailsShow=b)?e._details.insertAfter(e.nTr):
e._details.detach(),Zb(c[0]))}},Zb=function(a){var b=new O(a),c=a.aoData;b.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<la(c,"_details").length&&(b.on("draw.dt.DT_details",function(e,d){a===d&&b.rows({page:"current"}).eq(0).each(function(a){a=c[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),b.on("column-visibility.dt.DT_details",function(b,e,d,g){if(a===e)for(e=B(e),d=0,g=c.length;d<g;d++)b=c[d],b._details&&b._details.children("td[colspan]").attr("colspan",
e)}),b.on("destroy.dt.DT_details",function(e,d){if(a===d)for(var g=0,f=c.length;g<f;g++)c[g]._details&&Rb(b,g)}))};F("row().child()",function(a,b){var c=this.context;if(a===f)return c.length&&this.length?c[0].aoData[this[0]]._details:f;!0===a?this.child.show():!1===a?Rb(this):c.length&&this.length&&G(c[0],c[0].aoData[this[0]],a,b);return this});F(["row().child.show()","row().child().show()"],function(a){Fa(this,!0);return this});F(["row().child.hide()","row().child().hide()"],function(){Fa(this,!1);
return this});F(["row().child.remove()","row().child().remove()"],function(){Rb(this);return this});F("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var $b=/^(.+):(name|visIdx|visible)$/,Xb=function(a,b,c,e,d){c=[];e=0;for(var g=d.length;e<g;e++)c.push(C(a,d[e],b));return c},ac=function(a,b,c){var e=a.aoColumns,g=la(e,"sName"),f=la(e,"nTh");return ab(b,function(b){var h=Ob(b);if(""===b)return La(e.length);if(null!==h)return[0<=
h?h:e.length+h];if("function"===typeof b){var l=kb(a,c);return d.map(e,function(c,e){return b(e,Xb(a,e,0,0,l),f[e])?e:null})}var m="string"===typeof b?b.match($b):"";if(m)switch(m[2]){case "visIdx":case "visible":h=parseInt(m[1],10);if(0>h){var n=d.map(e,function(a,b){return a.bVisible?b:null});return[n[n.length+h]]}return[u(a,h)];case "name":return d.map(g,function(a,b){return a===m[1]?b:null})}else return d(f).filter(b).map(function(){return d.inArray(this,f)}).toArray()})};F("columns()",function(a,
b){a===f?a="":d.isPlainObject(a)&&(b=a,a="");b=ib(b);var c=this.iterator("table",function(c){return ac(c,a,b)},1);c.selector.cols=a;c.selector.opts=b;return c});R("columns().header()","column().header()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});R("columns().footer()","column().footer()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});R("columns().data()","column().data()",function(){return this.iterator("column-rows",
Xb,1)});R("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});R("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,e,d,g){return Pa(b.aoData,g,"search"===a?"_aFilterData":"_aSortData",c)},1)});R("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,e,d){return Pa(a.aoData,d,"anCells",b)},1)});R("columns().visible()","column().visible()",
function(a,b){return this.iterator("column",function(c,e){if(a===f)return c.aoColumns[e].bVisible;var h=c.aoColumns,l=h[e],m=c.aoData,n,p,q;if(a!==f&&l.bVisible!==a){if(a){var k=d.inArray(!0,la(h,"bVisible"),e+1);n=0;for(p=m.length;n<p;n++)q=m[n].nTr,h=m[n].anCells,q&&q.insertBefore(h[e],h[k]||null)}else d(la(c.aoData,"anCells",e)).detach();l.bVisible=a;ha(c,c.aoHeader);ha(c,c.aoFooter);if(b===f||b)g(c),(c.oScroll.sX||c.oScroll.sY)&&Qa(c);T(c,null,"column-visibility",[c,e,a]);ba(c)}})});R("columns().indexes()",
"column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?w(b,c):c},1)});F("columns.adjust()",function(){return this.iterator("table",function(a){g(a)},1)});F("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return u(c,b);if("fromData"===a||"toVisible"===a)return w(c,b)}});F("column()",function(a,b){return jb(this.columns(a,b))});var bc=function(a,b,c){var e=a.aoData,g=kb(a,c);c=cb(Pa(e,g,"anCells"));
var h=d([].concat.apply([],c)),l,m=a.aoColumns.length,n,p,q,k,u,r;return ab(b,function(b){var c="function"===typeof b;if(null===b||b===f||c){n=[];p=0;for(q=g.length;p<q;p++)for(l=g[p],k=0;k<m;k++)u={row:l,column:k},c?(r=a.aoData[l],b(u,C(a,l,k),r.anCells[k])&&n.push(u)):n.push(u);return n}return d.isPlainObject(b)?[b]:h.filter(b).map(function(a,b){l=b.parentNode._DT_RowIndex;return{row:l,column:d.inArray(b,e[l].anCells)}}).toArray()})};F("cells()",function(a,b,c){d.isPlainObject(a)&&(typeof a.row!==
f?(c=b,b=null):(c=a,a=null));d.isPlainObject(b)&&(c=b,b=null);if(null===b||b===f)return this.iterator("table",function(b){return bc(b,a,ib(c))});var e=this.columns(b,c),g=this.rows(a,c),h,l,m,n,p,q=this.iterator("table",function(a,b){h=[];l=0;for(m=g[b].length;l<m;l++)for(n=0,p=e[b].length;n<p;n++)h.push({row:g[b][l],column:e[b][n]});return h},1);d.extend(q.selector,{cols:b,rows:a,opts:c});return q});R("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=
a.aoData[b].anCells)?a[c]:f},1)});F("cells().data()",function(){return this.iterator("cell",function(a,b,c){return C(a,b,c)},1)});R("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,e){return b.aoData[c][a][e]},1)});R("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,e){return C(b,c,e,a)},1)});R("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,
b,c){return{row:b,column:c,columnVisible:w(a,c)}},1)});R("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,e){ca(b,c,a,e)})});F("cell()",function(a,b,c){return jb(this.cells(a,b,c))});F("cell().data()",function(a){var b=this.context,c=this[0];if(a===f)return b.length&&c.length?C(b[0],c[0].row,c[0].column):f;H(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});F("order()",function(a,b){var c=this.context;if(a===f)return 0!==
c.length?c[0].aaSorting:f;"number"===typeof a?a=[[a,b]]:d.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});F("order.listener()",function(a,b,c){return this.iterator("table",function(e){fb(e,a,b,c)})});F(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var g=[];d.each(b[e],function(b,c){g.push([c,a])});c.aaSorting=g})});F("search()",function(a,b,c,e){var g=this.context;
return a===f?0!==g.length?g[0].oPreviousSearch.sSearch:f:this.iterator("table",function(g){g.oFeatures.bFilter&&J(g,d.extend({},g.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),1)})});R("columns().search()","column().search()",function(a,b,c,e){return this.iterator("column",function(g,h){var l=g.aoPreSearchCols;if(a===f)return l[h].sSearch;g.oFeatures.bFilter&&(d.extend(l[h],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===
e?!0:e}),J(g,g.oPreviousSearch,1))})});F("state()",function(){return this.context.length?this.context[0].oSavedState:null});F("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});F("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});F("state.save()",function(){return this.iterator("table",function(a){ba(a)})});y.versionCheck=y.fnVersionCheck=function(a){var b=y.version.split(".");a=a.split(".");
for(var c,e,d=0,g=a.length;d<g;d++)if(c=parseInt(b[d],10)||0,e=parseInt(a[d],10)||0,c!==e)return c>e;return!0};y.isDataTable=y.fnIsDataTable=function(a){var b=d(a).get(0),c=!1;d.each(y.settings,function(a,e){if(e.nTable===b||e.nScrollHead===b||e.nScrollFoot===b)c=!0});return c};y.tables=y.fnTables=function(a){return d.map(y.settings,function(b){if(!a||a&&d(b.nTable).is(":visible"))return b.nTable})};y.util={throttle:Aa,escapeRegex:db};y.camelToHungarian=l;F("$()",function(a,b){var c=this.rows(b).nodes(),
c=d(c);return d([].concat(c.filter(a).toArray(),c.find(a).toArray()))});d.each(["on","one","off"],function(a,b){F(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var c=d(this.tables().nodes());c[b].apply(c,a);return this})});F("clear()",function(){return this.iterator("table",function(a){L(a)})});F("settings()",function(){return new O(this.context,this.context)});F("data()",function(){return this.iterator("table",function(a){return la(a.aoData,"_aData")}).flatten()});
F("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var e=b.nTableWrapper.parentNode,g=b.oClasses,f=b.nTable,h=b.nTBody,l=b.nTHead,m=b.nTFoot,n=d(f),h=d(h),p=d(b.nTableWrapper),q=d.map(b.aoData,function(a){return a.nTr}),k;b.bDestroying=!0;T(b,"aoDestroyCallback","destroy",[b]);a||(new O(b)).columns().visible(!0);p.unbind(".DT").find(":not(tbody *)").unbind(".DT");d(c).unbind(".DT-"+b.sInstance);f!=l.parentNode&&(n.children("thead").detach(),n.append(l));m&&f!=m.parentNode&&
(n.children("tfoot").detach(),n.append(m));n.detach();p.detach();b.aaSorting=[];b.aaSortingFixed=[];bb(b);d(q).removeClass(b.asStripeClasses.join(" "));d("th, td",l).removeClass(g.sSortable+" "+g.sSortableAsc+" "+g.sSortableDesc+" "+g.sSortableNone);b.bJUI&&(d("th span."+g.sSortIcon+", td span."+g.sSortIcon,l).detach(),d("th, td",l).each(function(){var a=d("div."+g.sSortJUIWrapper,this);d(this).append(a.contents());a.detach()}));!a&&e&&e.insertBefore(f,b.nTableReinsertBefore);h.children().detach();
h.append(q);n.css("width",b.sDestroyWidth).removeClass(g.sTable);(k=b.asDestroyStripes.length)&&h.children().each(function(a){d(this).addClass(b.asDestroyStripes[a%k])});e=d.inArray(b,y.settings);-1!==e&&y.settings.splice(e,1)})});y.version="1.10.4";y.settings=[];y.models={};y.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};y.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};y.models.oColumn={idx:null,aDataSort:null,
asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};y.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],
asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,
fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,
iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",
sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:d.extend({},y.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};q(y.defaults);y.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,
mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};q(y.defaults.column);y.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,
bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,
nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:f,oAjaxData:f,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},
bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ia(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ia(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,e=this.aiDisplay.length,d=this.oFeatures,g=d.bPaginate;return d.bServerSide?!1===g||-1===a?b+e:Math.min(b+a,this._iRecordsDisplay):!g||c>e||-1===a?e:c},
oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};y.ext=aa={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:y.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:y.version};d.extend(aa,{afnFiltering:aa.search,aTypes:aa.type.detect,ofnSearch:aa.type.search,oSort:aa.type.order,afnSortData:aa.order,aoFeatures:aa.feature,
oApi:aa.internal,oStdClasses:aa.classes,oPagination:aa.pager});d.extend(y.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",
sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",
sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var a="",a="",b=a+"ui-state-default",c=a+"css_right ui-icon ui-icon-",a=a+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";d.extend(y.ext.oJUIClasses,y.ext.classes,{sPageButton:"fg-button ui-button "+b,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:b+
" sorting_asc",sSortDesc:b+" sorting_desc",sSortable:b+" sorting",sSortableAsc:b+" sorting_asc_disabled",sSortableDesc:b+" sorting_desc_disabled",sSortableNone:b+" sorting_disabled",sSortJUIAsc:c+"triangle-1-n",sSortJUIDesc:c+"triangle-1-s",sSortJUI:c+"carat-2-n-s",sSortJUIAscAllowed:c+"carat-1-n",sSortJUIDescAllowed:c+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+b,sScrollFoot:"dataTables_scrollFoot "+b,sHeaderTH:b,sFooterTH:b,
sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})})();var Yb=y.ext.pager;d.extend(Yb,{simple:function(a,b){return["previous","next"]},full:function(a,b){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",Ba(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Ba(a,b),"next","last"]},_numbers:Ba,numbers_length:7});d.extend(!0,y.ext.renderer,{pageButton:{_:function(a,b,c,e,g,f){var h=a.oClasses,l=a.oLanguage.oPaginate,
m,n,p=0,q=function(b,e){var k,u,r,w,B=function(b){ea(a,b.data.action,!0)};k=0;for(u=e.length;k<u;k++)if(w=e[k],d.isArray(w))r=d("<"+(w.DT_el||"div")+"/>").appendTo(b),q(r,w);else{n=m="";switch(w){case "ellipsis":b.append("<span>&hellip;</span>");break;case "first":m=l.sFirst;n=w+(0<g?"":" "+h.sPageButtonDisabled);break;case "previous":m=l.sPrevious;n=w+(0<g?"":" "+h.sPageButtonDisabled);break;case "next":m=l.sNext;n=w+(g<f-1?"":" "+h.sPageButtonDisabled);break;case "last":m=l.sLast;n=w+(g<f-1?"":
" "+h.sPageButtonDisabled);break;default:m=w+1,n=g===w?h.sPageButtonActive:""}m&&(r=d("<a>",{"class":h.sPageButton+" "+n,"aria-controls":a.sTableId,"data-dt-idx":p,tabindex:a.iTabIndex,id:0===c&&"string"===typeof w?a.sTableId+"_"+w:null}).html(m).appendTo(b),tb(r,{action:w},B),p++)}};try{var u=d(k.activeElement).data("dt-idx");q(d(b).empty(),e);null!==u&&d(b).find("[data-dt-idx="+u+"]").focus()}catch(r){}}}});d.extend(y.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return yb(a,c)?"num"+
c:null},function(a,b){if(!(!a||a instanceof Date||Sb.test(a)&&vb.test(a)))return null;var c=Date.parse(a);return null!==c&&!isNaN(c)||ga(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return yb(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Pb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Pb(a,c,!0)?"html-num-fmt"+c:null},function(a,b){return ga(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);d.extend(y.ext.type.search,{html:function(a){return ga(a)?
a:"string"===typeof a?a.replace(Nb," ").replace(Oa,""):""},string:function(a){return ga(a)?a:"string"===typeof a?a.replace(Nb," "):a}});var Cb=function(a,b,c,e){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=xb(a,b));a.replace&&(c&&(a=a.replace(c,"")),e&&(a=a.replace(e,"")));return 1*a};d.extend(aa.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return ga(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return ga(a)?"":"string"===
typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});Xa("");d.extend(!0,y.ext.renderer,{header:{_:function(a,b,c,e){d(a.nTable).on("order.dt.DT",function(d,g,f,h){a===g&&(d=c.idx,b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[d]?e.sSortAsc:"desc"==h[d]?e.sSortDesc:c.sSortingClass))})},jqueryui:function(a,b,c,e){d("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(d("<span/>").addClass(e.sSortIcon+
" "+c.sSortingClassJUI)).appendTo(b);d(a.nTable).on("order.dt.DT",function(d,g,f,h){a===g&&(d=c.idx,b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[d]?e.sSortAsc:"desc"==h[d]?e.sSortDesc:c.sSortingClass),b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[d]?e.sSortJUIAsc:"desc"==h[d]?e.sSortJUIDesc:c.sSortingClassJUI))})}}});y.render={number:function(a,b,c,e){return{display:function(d){var g=
0>d?"-":"";d=Math.abs(parseFloat(d));var f=parseInt(d,10);d=c?b+(d-f).toFixed(c).substring(2):"";return g+(e||"")+f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+d}}}};d.extend(y.ext.internal,{_fnExternApiFunc:Mb,_fnBuildAjax:Ca,_fnAjaxUpdate:pa,_fnAjaxParameters:xa,_fnAjaxUpdateDraw:Db,_fnAjaxDataSrc:Da,_fnAddColumn:a,_fnColumnOptions:e,_fnAdjustColumnSizing:g,_fnVisibleToColumnIndex:u,_fnColumnIndexToVisible:w,_fnVisbleColumns:B,_fnGetColumns:v,_fnColumnTypes:x,_fnApplyColumnDefs:z,_fnHungarianMap:q,
_fnCamelToHungarian:l,_fnLanguageCompat:m,_fnBrowserDetect:b,_fnAddData:A,_fnAddTr:E,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==f?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return d.inArray(c,a.aoData[b].anCells)},_fnGetCellData:C,_fnSetCellData:H,_fnSplitObjNotation:V,_fnGetObjectDataFn:K,_fnSetObjectDataFn:P,_fnGetDataMaster:N,_fnClearTable:L,_fnDeleteIndex:X,_fnInvalidate:ca,_fnGetRowElements:U,_fnCreateTr:ka,_fnBuildHead:za,_fnDrawHead:ha,_fnDraw:ra,_fnReDraw:sa,_fnAddOptionsHtml:ta,
_fnDetectHeader:da,_fnGetUniqueThs:Ha,_fnFeatureHtmlFilter:W,_fnFilterComplete:J,_fnFilterCustom:p,_fnFilterColumn:Eb,_fnFilter:Fb,_fnFilterCreateSearch:mb,_fnEscapeRegex:db,_fnFilterData:Ia,_fnFeatureHtmlInfo:Ab,_fnUpdateInfo:Ua,_fnInfoMacros:Gb,_fnInitialise:Va,_fnInitComplete:eb,_fnLengthChange:qa,_fnFeatureHtmlLength:lb,_fnFeatureHtmlPaginate:Wa,_fnPageChange:ea,_fnFeatureHtmlProcessing:M,_fnProcessingDisplay:S,_fnFeatureHtmlTable:Bb,_fnScrollDraw:Qa,_fnApplyToChildren:na,_fnCalculateColumnWidths:wa,
_fnThrottle:Aa,_fnConvertToWidth:pb,_fnScrollingWidthAdjust:Hb,_fnGetWidestNode:Ib,_fnGetMaxLenString:qb,_fnStringToCss:Q,_fnScrollBarWidth:rb,_fnSortFlatten:Ja,_fnSort:Jb,_fnSortAria:Kb,_fnSortListener:sb,_fnSortAttachListener:fb,_fnSortingClasses:bb,_fnSortData:Lb,_fnSaveState:ba,_fnLoadState:Sa,_fnSettingsFromNode:Ra,_fnLog:Ga,_fnMap:ma,_fnBindAction:tb,_fnCallbackReg:ja,_fnCallbackFire:T,_fnLengthOverflow:ub,_fnRenderer:gb,_fnDataSource:ia,_fnRowAttributes:oa,_fnCalculateEnd:function(){}});d.fn.dataTable=
y;d.fn.dataTableSettings=y.settings;d.fn.dataTableExt=y.ext;d.fn.DataTable=function(a){return d(this).dataTable(a).api()};d.each(y,function(a,b){d.fn.DataTable[a]=b});return d.fn.dataTable})})(window,document);window.TOONTALK={};window.TOONTALK.creators_from_json={};window.TOONTALK.widget=function(c){var k=function(c){var d=this.get_frontside&&this.get_frontside(!0);if(d)return c&&this.rerender(),d.get_element()};c.creators_from_json.top_level=function(f){f=c.widget.create_top_level_widget(f.settings);$(f.get_backside(!0).get_element()).addClass("toontalk-top-level-backside");return f};return{add_standard_widget_functionality:function(c){this.add_sides_functionality(c);this.runnable(c);this.stackable(c);this.animatable(c);this.has_title(c);this.has_parent(c);
this.has_description(c);this.has_listeners(c);this.erasable(c);c.is_of_type||(c.is_of_type=function(c){return this.get_type_name()===c});return c},erasable:function(c){var d;c.get_erased||(c.get_erased=function(){return d});c.set_erased||(c.set_erased=function(c,f){d=c;f&&this.rerender()});return c},add_sides_functionality:function(f){var d,q;f.get_frontside||(f.get_frontside=function(l){l&&!d&&(d=c.frontside.create(f));return d},f.save_dimensions=function(){var c;this.get_size_attributes?(c=this.get_size_attributes(),
this.saved_width=c.width,this.saved_height=c.height):(c=this.get_frontside_element(),this.saved_width=$(c).width(),this.saved_height=$(c).height())},f.restore_dimensions=function(){var c;0<this.saved_width&&(this.set_size_attributes?this.set_size_attributes(this.saved_width,this.saved_height):(c=this.get_frontside_element(),$(c).css({width:this.saved_width,height:this.saved_height}),this.saved_height=this.saved_width=void 0))});f.get_backside||(f.get_backside=function(c){c&&!q&&(q=f.create_backside());
return q});f.set_backside||(f.set_backside=function(c){q=c});f.forget_backside||(f.forget_backside=function(){q=void 0});f.create_backside||(f.create_backside=function(){return c.backside.create(f)});return f},runnable:function(c){var d=!1;c.get_running||(c.get_running=function(){return d});c.set_running||(c.set_running=function(q,l){var m=this.get_backside_widgets(),k;d=q;this.get_backside()&&this.get_backside().run_status_changed(d);m.forEach(function(h){k=h.get_widget();h.is_backside()&&0<=this.backside_widgets.indexOf(k)||
(k.is_of_type("robot")?h.is_backside()||d&&k.get_running()||(d?(k.set_stopped(!1),k.run(c,l)):k.set_stopped(!0),k.rerender()):k.set_running&&(!l&&h.is_backside()&&"top-level"!==c.get_type_name()?k.set_running(q,c):k.set_running(q)))}.bind(this));this.rerender()});return c},stackable:function(c){var d=!1;c.get_infinite_stack||(c.get_infinite_stack=function(){return d});c.set_infinite_stack||(c.set_infinite_stack=function(q){var l=c.get_backside_element(),m=c.get_frontside_element();d=q;l&&$(l).find(".toontalk-infinite-stack-check-box").prop("checked",
q);m&&(q?$(m).addClass("toontalk-infinite-stack"):$(m).removeClass("toontalk-infinite-stack"))});return c},animatable:function(f){var d;f.animate_to_widget||(d=function(d){var f=d.get_element();f&&$(f).is(":visible")||(f=c.UTILITIES.find_resource_equal_to_widget(d));return f},f.animate_to_widget=function(c,f,m,k,h){this.animate_to_element(d(c),f,m,k,h)});f.animate_to_element||(f.animate_to_element=function(d,f,m,k,h){var b=$(d).offset(),n=$(this.get_frontside_element());d&&$(d).is(":visible")?(k||
(k=($(d).width()-n.width())*Math.random()),h||(h=($(d).height()-n.height())*Math.random()),b?(b.left+=k,b.top+=h,c.debugging&&(0>b.left||0>b.top)&&console.log("Should this include negative values? "+b)):b={left:0,top:0},this.animate_to_absolute_position(b,f,m)):f()});f.animate_to_absolute_position||(f.animate_to_absolute_position=function(d,f,m){var k;k=this.get_frontside_element();c.UTILITIES.animate_to_absolute_position(k,d,f,m)});return f},has_title:function(f){f.get_title||(f.get_title=function(){var d=
this.get_type_name(),f=this.get_backside(),l=this.get_frontside_element(),m=this.get_description(),k;if($(l).is(".toontalk-top-level-resource"))k="Drag this "+d+" to a work area.";else if(!f||!f.get_element())k="Click to see the back side of this "+d;else if(!m)return c.UTILITIES.add_a_or_an(d,!0);m&&(m="This "+d+" "+m,k=k?m+"\n"+k:m);return k});return f},has_parent:function(c){var d,q;c.get_parent_of_frontside=function(){return d};c.get_parent_of_backside=function(){return q};c.set_parent_of_frontside=
function(c,f,q){d&&!q&&d.is_backside()&&d.get_widget().remove_backside_widget(this,!1,!0);d=c&&f?c.get_backside(!0):c};c.set_parent_of_backside=function(c,d,f){q&&!f&&q.is_backside()&&q.get_widget().remove_backside_widget(this,!0,!0);q=c&&d?c.get_backside(!0):c};c.closest_visible_ancestor=function(){for(var c=this;c&&!c.visible();)c=c.is_backside()?c.get_parent_of_backside():c.get_parent_of_frontside();return c||this};c.ancestor_of_type=function(c){for(var d=this;d&&!d.is_of_type(c);)d=d.is_backside()?
d.get_widget().get_parent_of_backside():d.get_parent_of_frontside();return d};c.has_ancestor=function(c){for(var d=this;d;){if(c===d)return!0;d=d.is_backside()?d.get_widget().get_parent_of_backside():d.get_parent_of_frontside()}return!1};c.remove_from_parent_of_frontside=function(c){d&&(d.is_backside()?d.remove_backside_widget(this,!1):d.removed_from_container&&d.removed_from_container(this,!1,c))};return c},has_description:function(c){var d;c.get_description||(c.get_description=function(){return d});
c.set_description||(c.set_description=function(c,f){if(d===c||!d&&""===c)return!1;d=c;f&&this.rerender();return!0})},has_listeners:function(f){var d={};f.add_listener||(f.add_listener=function(c,f){var m=d[c];m?0>m.indexOf(f)&&m.push(f):d[c]=[f]});f.remove_listener||(f.remove_listener=function(f,l,m){if(f=d[f])if(l=f.indexOf(l),0<=l){f.splice(l,1);return}!m&&c.debugging&&console.log("Listener of type "+type_name+" could not be removed.")});f.get_listeners||(f.get_listeners=function(c){return d[c]})},
get_full_description:function(){var c,d;if(this.get_erased&&this.get_erased())return"erased "+this.get_type_name();c=this.get_description();d=this.toString();return c?d+" ("+c+")":d},remove:function(c){var d=this.get_backside(),q=this.get_frontside(),l=this.get_parent_of_frontside(),m=this.get_parent_of_backside();d&&(d.remove_element(),m&&(d=m.is_backside()?m:m.get_backside(),d.get_widget().removed_from_container&&d.get_widget().removed_from_container(this,!0,c)));q&&(q.remove(),l&&this.remove_from_parent_of_frontside(c));
this.set_running(!1)},get_frontside_element:k,get_element:k,get_backside_element:function(c){if(c=this.get_backside&&this.get_backside(c))return c.get_element()},add_to_json:function(c,d){var q,l,m,k,h;if(c){c.view?(l=c,q=c.view,c=c.semantic):(q={},l={semantic:c,view:q});l.version=1;this.get_erased&&this.get_erased()&&(c.erased=!0);this.get_infinite_stack&&this.get_infinite_stack()&&(c.infinite_stack=!0);this.get_running&&this.get_running()&&(c.running=!0);if(!this.get_parent_of_frontside()||this.get_parent_of_frontside().is_backside())if(k=
this.get_frontside_element&&this.get_frontside_element())$(k).is(".toontalk-plain-text-element")||(h=$(k).width(),0!==h&&(q.frontside_width=$(k).width(),q.frontside_height=$(k).height())),$(k).is(":visible")&&(m=$(k).position()),m&&(q.frontside_left=m.left,q.frontside_top=m.top);if(k=this.get_backside()){if(h=k.get_element())q.backside_width=$(h).width(),q.backside_height=$(h).height(),q.backside_left||(m=$(h).position(),q.backside_left=m.left,q.backside_top=m.top,"&lt;"===$(h).find(".toontalk-settings-backside-button").html()&&
(q.advanced_settings_open=!0));k.get_backside_dimensions()&&(q.backside_geometry=k.get_backside_dimensions())}!q.backside_geometry&&this.backside_geometry&&(q.backside_geometry=this.backside_geometry);q.saved_width=this.saved_width;q.saved_height=this.saved_height;c.description=this.get_description&&this.get_description();return l}console.log("get_json not defined");return{}},add_backside_widgets_to_json:function(f,d){var q=this.get_backside_widgets(),l;0<q.length&&(f.semantic.backside_widgets=c.UTILITIES.get_json_of_array(q,
d),(q=this.get_backside_widgets_json_views())&&q.forEach(function(c,q){var h;l=f.semantic.backside_widgets[q];0<=l.widget.shared_widget_index?(h=d.widgets_encountered.indexOf(d.shared_widgets[l.widget.shared_widget_index]),h=d.json_of_widgets_encountered[h].view):h=l.widget.view;l.is_backside?c.backside_left&&(h.backside_left=c.backside_left,h.backside_top=c.backside_top):c.frontside_left&&(h.frontside_left=c.frontside_left,h.frontside_top=c.frontside_top)}))},get_backside_widgets:function(){return this.backside_widgets||
[]},add_backside_widget:function(f,d){var q=this.get_backside(),l=d?f.get_backside():f;c.debugging&&f===this?c.UTILITIES.report_internal_error("Adding a widget to a list of its backside widgets!"):(this.backside_widgets?0>this.backside_widgets.indexOf(l)&&this.backside_widgets.push(l):this.backside_widgets=[l],d?f.set_parent_of_backside(this,!0):f.set_parent_of_frontside(this,!0),l.set_visible(q.visible()),f.render())},remove_all_backside_widgets:function(){if(this.backside_widgets)for(;0<this.backside_widgets.length;)this.backside_widgets[0].remove()},
remove_backside_widget:function(f,d,q){this.get_backside();var l=d?f.get_backside(!0):f,m;c.debugging&&!this.backside_widgets?q?console.log("remove_backside_widget called and there are no backside_widgets"):c.UTILITIES.report_internal_error("Couldn't remove a widget from backside widgets."):(m=this.backside_widgets.indexOf(l),0>m?q?c.debugging&&console.log("Warning: Probable redundant call to remove_backside_widget"):c.UTILITIES.report_internal_error("Couldn't find a widget to remove it from backside widgets. "+
l.get_widget()+" ("+l.get_widget().debug_id+")"):(this.backside_widgets.splice(m,1),this.backside_widgets_json_views&&this.backside_widgets_json_views.splice(m,1),d?(d=f.get_parent_of_backside())&&d.get_widget()===this&&f.set_parent_of_backside(void 0,!0,!0):(d=f.get_parent_of_frontside())&&d.get_widget()===this&&f.set_parent_of_frontside(void 0,void 0,!0),l.set_visible(!1)))},set_backside_widget_sides:function(c,d){var q=this.get_backside(),l=q&&q.visible();this.backside_widgets=c;0<c.length&&(this.get_backside()?
this.get_backside().add_backside_widgets(c,d):this.backside_widgets_json_views=d,c.forEach(function(c){c.is_backside()?c.get_widget().set_parent_of_backside(this,!0):c.get_widget().set_parent_of_frontside(this,!0);c.set_visible(l)}.bind(this)))},get_backside_widgets_json_views:function(c){!this.backside_widgets_json_views&&c&&(this.backside_widgets_json_views=[]);return this.backside_widgets_json_views},can_run:function(){var c=!1,d;this.get_backside_widgets().some(function(q){d=q.get_widget();if(d.get_body&&
!d.get_body().is_empty()||d.can_run())return c=!0});return c},add_to_copy:function(f,d){var q;this.get_erased&&this.get_erased()&&(f.set_erased||c.widget.erasable(f),f.set_erased(this.get_erased()));d||(q=this.get_backside_widgets(),0<q.length&&f.set_backside_widget_sides(c.UTILITIES.copy_widget_sides(q),this.get_backside_widgets_json_views()));return f},get_type_name:function(){return""},copy:function(){console.assert(!1,"copy not implemented")},add_copy_to_container:function(f){f||(f=this.copy());
var d=this.get_frontside_element(),q=f.get_frontside_element(),l=$(d).closest(".toontalk-backside"),m=c.UTILITIES.relative_position(d,l.get(0)),k=c.UTILITIES.widget_from_jquery(l);$(q).css({width:$(d).width(),height:$(d).height(),left:m.left+30,top:m.top+30});l.append(q);k&&k.add_backside_widget(f);c.robot.in_training&&c.robot.in_training.copied(this,f,!1);return f},visible:function(){var c=this.get_frontside();return c?c.visible():!1},set_visible:function(c){var d=this.get_frontside(c);d&&d.set_visible(c)},
is_backside:function(){return!1},get_parent:function(){return this.get_parent_of_frontside()},drag_started:function(f,d){c.robot.in_training&&c.robot.in_training.picked_up(this,f,d)},match:function(c){console.assert(!1,"match not implemented for "+c.toString())},removed:function(f){c.UTILITIES.report_internal_error("removed not implemented")},equals_box:function(){return!1},equals_number:function(){return!1},match_box:function(){return"not matched"},match_number:function(){return"not matched"},open_backside:function(f){var d=
this.get_backside(),q=!0,l=function(b,e){c.UTILITIES.set_timeout(function(){$(b).addClass("toontalk-side-appearing");c.UTILITIES.add_one_shot_event_handler(b,"transitionend",2500,function(){$(b).removeClass("toontalk-side-appearing");f&&f()});$(b).css({left:n,top:a,opacity:e});this.apply_backside_geometry()}.bind(this))}.bind(this),m,k,h,b,n,a,e,g;if(d){m=d.get_element();if($(m).is(":visible"))return c.UTILITIES.highlight_element(m,1E3),d;if((k=this.get_parent_of_backside())&&k.is_backside())return k.get_widget().open_backside()}k=
this.get_frontside_element();h=$(k).parent();d=$(k);if(!d.is(".toontalk-top-level-resource")){for(;0<h.length&&!h.is(".toontalk-backside");)d=h,h=h.parent(),q=!1;b=d.get(0);d=this.get_backside(!0);m=d.get_element();m.toontalk_widget=this;e=$(k).offset();(g=h.offset())||(g={left:0,top:0});$(m).css({left:e.left-g.left,top:e.top-g.top,opacity:.01});h.append(m);(h=c.UTILITIES.widget_from_jquery(h))&&h.add_backside_widget(this,!0);q?(n=b.offsetLeft+b.offsetWidth,a=b.offsetTop):(n=e.left-g.left,a=e.top-
g.top+k.offsetHeight);l(m,"inherit");d.render();this.backside_widgets&&this.backside_widgets.forEach(function(a){a.render();a.set_visible(!0)});return d}},apply_backside_geometry:function(){var f=this.get_backside(!0),d=f.get_element();this.backside_geometry&&d&&(c.backside.scale_backside($(d),this.backside_geometry.x_scale,this.backside_geometry.y_scale,this.backside_geometry.original_width,this.backside_geometry.original_height),f.set_dimensions(this.backside_geometry))},top_level_widget:function(){var f;
return this.is_of_type("top-level")?this:(f=c.UTILITIES.widget_from_jquery($(this.get_frontside_element()).closest(".toontalk-top-level-backside")))?f:(f=this.get_parent_of_frontside()||this.get_parent_of_backside())?f.get_widget().top_level_widget():this.create_top_level_widget()},backup_all:function(c){var d=this.top_level_widget();d&&d.save(c)},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&c.DISPLAY_UPDATES.pending_update(this)},hide:function(){$(this.get_frontside_element()).hide()},
close_button_ok:function(c){return"top-level"!==this.get_type_name()&&!$(c).is(".toontalk-top-level-resource")&&!$(c).closest(".toontalk-conditions-panel").is("*")},get_widget:function(){return this},add_to_top_level_backside:function(f,d){var k=this.top_level_widget(),l=f.get_frontside_element(!0);k.add_backside_widget(f);k.get_backside_element().appendChild(l);f.render();d&&c.robot.in_training&&c.robot.in_training.dropped_on(f,k);return l},create_top_level_widget:function(f){var d=Object.create(c.widget);
f||(f={});d.get_json=function(c){c=this.get_backside(!0).get_element();c=document.defaultView.getComputedStyle(c,null).getPropertyValue("background-color");return{semantic:{type:"top_level",settings:f},view:{background_color:c}}};d.get_type_name=function(){return"top-level"};d.is_of_type=function(c){return"top-level"===c};d.toString=function(){return"top level widget"};d.get_description=function(){};d.match=function(){return"matched"};d.update_display=function(){this.backside_widgets&&this.backside_widgets.forEach(function(c){c.visible()&&
c.update_display()})};d.copy=function(){return this};d.visible=function(){return!0};d.get_parent_of_frontside=function(){};d.get_parent_of_backside=function(){};d.closest_visible_ancestor=function(){return this};d.get_infinite_stack=function(){return!1};d.top_level_widget=function(){return this};d=d.add_sides_functionality(d);d=d.runnable(d);d=d.has_parent(d);d.get_setting=function(d){"undefined"===typeof f[d]&&(f[d]=c.DEFAULT_SETTINGS&&c.DEFAULT_SETTINGS[d]);return f[d]};d.set_setting=function(c,
d){f[c]=d};d.open_settings=function(){c.SETTINGS.open(d)};d.save=function(d,f,m){var k;f||(f={google_drive:c.google_drive&&this.get_setting("auto_save_to_google_drive"),local_storage:this.get_setting("auto_save_to_local_storage")});d?(f.google_drive&&(k=c.UTILITIES.get_json_top_level(this),d=c.google_drive.get_status(),"Ready"===d?(c.google_drive.upload_file(this.get_setting("program_name"),"json",JSON.stringify(k),m),m=void 0):c.google_drive.connection_to_google_drive_possible()&&console.log("Unable to save to Google Drive because: "+
d)),f.local_storage&&(k||(k=c.UTILITIES.get_json_top_level(this)),this.save_to_local_storage(k)),m&&m()):setTimeout(function(){this.save(!0,f,m)}.bind(this),100)};d.publish=function(d){c.publish.publish_widget(this.get_setting("program_name"),this,d)};d.save_to_local_storage=function(d,f){var m=this.get_setting("program_name"),k=c.UTILITIES.local_storage_program_key(m),h=c.UTILITIES.local_storage_program_meta_data_key(m),b,n,a;f||(f=Date.now());try{n=(n=window.localStorage.getItem(h))?JSON.parse(n):
{created:f},n.last_modified=f,a=JSON.stringify(d),n.file_size=a.length,window.localStorage.setItem(h,JSON.stringify(n)),window.localStorage.setItem(k,a),window.localStorage.setItem("toontalk-last-key",k),b=c.UTILITIES.get_all_locally_stored_program_names(),0>b.indexOf(m)&&(b.push(m),c.UTILITIES.set_all_locally_stored_program_names(b))}catch(e){m="Failed to save state to local storage since it requires "+JSON.stringify(d).length+" bytes. Error message is "+e,c.UTILITIES.is_internet_explorer()?console.error(m):
c.UTILITIES.display_message(m),this.last_local_storage_error=m}};d.load=function(f,l){var m=this.get_setting("program_name"),k=m+".json",h=c.UTILITIES.local_storage_program_key(m),b=function(b){b&&(b=JSON.parse(b),d.remove_all_backside_widgets(),c.UTILITIES.add_backside_widgets_from_json(d,b.semantic.backside_widgets),l&&l())},m=function(d){d?c.google_drive.download_file(d,b):b(window.localStorage.getItem(h))};f&&c.google_drive&&"Ready"===c.google_drive.get_status()?c.google_drive.get_toontalk_program_file(k,
m):b(window.localStorage.getItem(h))};d.get_backside(!0).set_visible(!0);c.debugging&&(d.debug_id=c.UTILITIES.generate_unique_id(),d.debug_string="Top-level widget");return d}}}(window.TOONTALK);window.TOONTALK.backside=function(c){return{create:function(k){var f=Object.create(this),d=document.createElement("div"),q=$(d),l=1,m=1,r=document.createElement("div"),h=document.createElement("div"),b=k.get_help_URL&&k.get_help_URL(),n,a,e,g,u,w,B,v,x,z,A,E=function(a){a?($(r).addClass("toontalk-green-flag-active").removeClass("toontalk-green-flag-inactive"),$(h).addClass("toontalk-stop-sign-inactive").removeClass("toontalk-stop-sign-active")):($(r).addClass("toontalk-green-flag-inactive").removeClass("toontalk-green-flag-active"),
$(h).addClass("toontalk-stop-sign-active").removeClass("toontalk-stop-sign-inactive"))},C=function(){var a=q.width();q.height();var b,c,e;0===a?setTimeout(C,100):(a=$(h).width(),b=(b=$(B).width())?b+14:0,$(h).css({right:b}),$(r).css({right:b+a+6}),c=$(r).width(),x&&$(x).css({right:b+a+c+12}),n&&(e=$(x).width()||0,$(n).css({right:b+a+c+e+12})))};v=this.create_description_label(f,k);var H,V;k.close_button_ok(d)&&(V=function(a){f.hide_backside(a);a.stopPropagation()},H=(H=k.get_description())?"the "+
k.get_type_name()+" who "+H:"the "+k.get_type_name(),B=c.UTILITIES.create_close_button(V,"Click to hide this back side of "+H+"."),d.appendChild(B));$(r).addClass("toontalk-green-flag toontalk-green-flag-inactive").click(function(a){k.can_run()?(E(!0),k.set_running(!0)):k.is_of_type("top-level")?c.UTILITIES.display_message("There is nothing to run."):c.UTILITIES.display_message("This "+k+" has nothing to run. Add some robots on the back.")}).on("mouseenter",function(a){a=k.get_running()?"Click to stop this from running.":
k.can_run()?"This has stopped. Click on the flag to start running it.":"There is nothing to run here.";h.title=a});$(h).addClass("toontalk-stop-sign toontalk-stop-sign-active").click(function(a){E(!1);k.set_running(!1)}).on("mouseenter",function(a){a=k.get_running()?"To stop this click on the stop sign.":k.can_run()?"Click this to start this running.":"There is nothing to run on this.";r.title=a});d.appendChild(r);d.appendChild(h);b&&(x=document.createElement("div"),$(x).addClass("toontalk-help-button toontalk-widget-help-button").click(function(a){z=
document.createElement("iframe");$(z).addClass("toontalk-help-frame");z.src=b;document.body.appendChild(A);document.body.appendChild(z)}),x.innerHTML="i",x.title="Click to learn more about "+k.get_type_name()+".",A=document.createElement("div"),$(A).addClass("toontalk-close-help-frame-button").button().click(function(a){$(z).remove();$(A).remove()}),A.innerHTML="Return to ToonTalk",d.appendChild(x));v&&d.appendChild(v);k.is_of_type("top-level")&&(n=document.createElement("div"),$(n).addClass("toontalk-settings-button").click(function(a){k.open_settings()}),
n.title="Click to change settings or open a different program.",d.appendChild(n));c.UTILITIES.set_timeout(C);q.addClass("toontalk-backside toontalk-side toontalk-backside-of-"+k.get_type_name());q.css({"z-index":c.UTILITIES.next_z_index()});f.get_element=function(){return d};f.get_widget=function(){return k};f.visible=function(){return a};f.set_visible=function(b){var c=this.get_widget().get_backside_widgets();a=b;c.forEach(function(a){a.set_visible(b)})};k.get_backside||(k.get_backside=function(){return f});
k.removed_from_container||(k.removed_from_container=function(a,b,e,d){c.robot.in_training||this.remove_backside_widget(a,b,d)});f.widget_dropped_on_me=function(a,b,e,g,f){var h=this.get_widget(),l,m;b?(l=a.get_backside(!0),m=l.get_element(),l.rerender()):(l=a.get_frontside(!0),m=l.get_element(),a.rerender());l=$(m);q.append(l);this.is_of_type("top-level")?g&&!g.visible()&&l.addClass("toontalk-widget-added-to-backside-by-unwatched-robot"):e||a.animate_to_element(d);c.UTILITIES.set_position_is_absolute(m,
!0,e);c.robot.in_training&&!f&&c.robot.in_training.dropped_on(a,this.get_widget());b&&"top-level"!=this.get_widget().get_type_name()&&(g=a.get_backside(),a.forget_backside(),a.remove(e),a.set_backside(g));h.add_backside_widget(a,b);a.dropped_on_other&&a.dropped_on_other(this.get_widget(),!0,e);a.get_body&&a.get_body().is_empty()&&!a.being_trained&&(g=a.open_backside())&&$(g.get_element()).find(".toontalk-train-backside-button").click();e&&a.get_widget().backup_all();return!0};f.add_backside_widgets=
function(a,b){0!==a.length&&c.UTILITIES.set_timeout(function(){var c,e,d=this.visible();a.forEach(function(a,g){var f=a.get_widget().get_backside();c=a.get_element(!0);c.toontalk_widget=a.get_widget();b&&(e=b[g])&&(a.is_backside()?($(c).css({left:e.backside_left,top:e.backside_top,width:e.backside_width,height:e.backside_height}),a.get_widget().apply_backside_geometry(),e.advanced_settings_open&&f.set_advanced_settings_showing(!0,f.get_element())):(0===e.frontside_width&&(e.frontside_width=""),0===
e.frontside_height&&(e.frontside_height=""),$(c).css({left:e.frontside_left,top:e.frontside_top,width:e.frontside_width,height:e.frontside_height})));q.append(c);a.set_visible(d);a.get_widget().rerender()})}.bind(this))};f.get_backside_dimensions=function(){if(l)return{x_scale:l,y_scale:m,original_width:e,original_height:g}};f.set_dimensions=function(a){l=a.x_scale;m=a.y_scale;e=a.original_width;g=a.original_height};f.scale_to_fit=function(a,b){var d;!e&&this.get_widget().backside_geometry&&(e=this.get_widget().backside_geometry.original_width,
g=this.get_widget().backside_geometry.original_height);d=c.UTILITIES.scale_to_fit(a,b,e,g);l=d.x_scale;m=d.y_scale};f.run_status_changed=function(a){E(a)};d.toontalk_widget=k;c.UTILITIES.drag_and_drop(d);q.resizable({start:function(){u=q.width();w=q.height();e||(e=u);g||(g=w)},resize:function(a,b){var d=b.size.width,f=b.size.height;q.is(".toontalk-top-level-backside")||(l*=d/u,m*=f/w,u=d,w=f,c.backside.scale_backside(q,l,m,e,g))},handles:"e,s,se"});d.addEventListener("mouseenter",function(a){var b=
k.get_frontside(),e=k.get_parent_of_backside();!b||e&&!e.get_widget().is_of_type("top-level")||c.UTILITIES.highlight_element(b.get_element(),a)});d.addEventListener("mouseout",function(a){k.get_frontside()&&c.UTILITIES.remove_highlight()});f.update_display=function(){f.display_updated()};f.display_updated=function(){var a=$(this.get_element());e||(e=a.width());g||(g=a.height())};k.get_backside_widgets&&(v=k.get_backside_widgets(),f.add_backside_widgets(v,k.get_backside_widgets_json_views()));c.debugging&&
(d.id=k.debug_id);return f},toString:function(){return"backside of "+this.get_widget()},remove_element:function(){$(this.get_element()).remove()},create_infinite_stack_check_box:function(k,f){var d=c.UTILITIES.create_check_box(f.get_infinite_stack(),"toontalk-infinite-stack-check-box","Copy when dragged.","Check this if you want the "+f.get_type_name()+" to be copied instead of moved.");$(d.button).click(function(k){var l=d.button.checked;f.set_infinite_stack(l);c.robot.in_training&&c.robot.in_training.edited(f,
{setter_name:"set_infinite_stack",argument_1:l,toString:l?"change dragging to make a copy of ":"change dragging back to moving for ",button_selector:".toontalk-infinite-stack-check-box"});k.stopPropagation()});return d},create_description_label:function(k,f){var d=f.get_description();if(d)return c.UTILITIES.create_text_element("Back side of a "+f.get_type_name()+" that "+d)},add_advanced_settings:function(k){var f=this.get_widget(),d=this.create_infinite_stack_check_box(this,f),q=f.get_type_name(),
l=c.UTILITIES.create_text_area(f.get_description(),"toontalk-description-input","This&nbsp;"+q+"&nbsp;","Type here to provide additional information about this "+q+"."),m=$("<button>Make a sensor</button>").button(),r=function(){var b=l.button.value.trim();f.set_description(b,!0)&&c.robot.in_training&&c.robot.in_training.edited(f,{setter_name:"set_description",argument_1:b,toString:"change the description to '"+b+"'' of the "+q,button_selector:".toontalk-description-input"})},h=document.createElement("table"),
b=this.get_element();$(h).addClass("toontalk-advanced-setting");$(l.button).val(f.get_description());l.button.addEventListener("change",r);l.button.addEventListener("mouseout",r);m.click(function(b){b=c.sensor.create("click","which",void 0,void 0,!0,f);var a=b.get_frontside_element(!0),e=m.offset();f.add_to_top_level_backside(b,!0);e.left-=120;c.UTILITIES.set_absolute_position($(a),e)});m.attr("title","Click to create a nest which receives messages when events happen to this "+f.get_type_name()+".");
h.appendChild(c.UTILITIES.create_row(l.container));h.appendChild(c.UTILITIES.create_row(m.get(0),d.container));b.appendChild(h);k?$(b).find(".toontalk-settings-backside-button").remove():$(b).find(".toontalk-advanced-setting").hide()},get_type_name:function(){return"the backside of "+c.UTILITIES.add_a_or_an(this.get_widget().get_type_name())},hide_backside:function(k){var f=this.get_widget(),d=f.get_frontside_element(),q=$(f.get_backside_element()),l=q.position(),m=q.parent().closest(".toontalk-backside"),
r=f.get_parent_of_backside();c.UTILITIES.remove_highlight();r&&(r.is_backside()?f.set_parent_of_backside(void 0,!0):r.removed_from_container(f,!0,k,!0),f.forget_backside&&f.forget_backside());(function(){var c=f.get_backside_widgets(),b=f.get_backside_widgets_json_views(!0),d;c.forEach(function(a,c){a.get_widget();var g;if(d=a.get_element())b[c]||(b[c]={}),a.start_position?(g=a.start_position,a.start_position=void 0):g=$(d).position(),a.is_backside()?(b[c].backside_left=g.left,b[c].backside_top=g.top):
(b[c].frontside_left=g.left,b[c].frontside_top=g.top)})})();f.backside_geometry=this.get_backside_dimensions();(function(f){var b=$(d).offset(),l=m.position(),a=function(){f.remove()};f.is(":visible")&&(f.addClass("toontalk-side-appearing"),c.UTILITIES.add_one_shot_event_handler(f.get(0),"transitionend",2500,a),l||(l={left:0,top:0}),f.css({left:b.left-l.left,top:b.top-l.top,opacity:.1}))})(q);$(d).is(":visible")||(l&&$(d).css({left:l.left,top:l.top}),c.UTILITIES.widget_from_jquery(m).add_backside_widget(f),
m.append(d),f.render());f.backside_widgets&&f.backside_widgets.forEach(function(c){c.set_visible(!1)})},create_advanced_settings_button:function(k,f){var d=document.createElement("div"),q=$(d),l=!1;d.innerHTML="&gt;";q.addClass("toontalk-settings-backside-button");q.css({"z-index":c.UTILITIES.next_z_index()});q.click(function(c){l=!l;this.set_advanced_settings_showing(l,k.get_element(),q);c.stopPropagation()}.bind(this));q.attr("title","Click to see the advanced settings of this "+f.get_type_name()+
".");return q.get(0)},set_advanced_settings_showing:function(c,f,d){d||(d=$(f).find(".toontalk-settings-backside-button"));c?($(f).find(".toontalk-advanced-setting").show(),d.html("<"),d.attr("title","Click to hide the advanced settings.")):($(f).find(".toontalk-advanced-setting").hide(),d.html(">"),d.attr("title","Click to show the advanced settings."))},get_widgets:function(){var c=[];$(this.get_element()).children().each(function(f,d){var q=d.toontalk_widget;q&&0>c.indexOf(q)&&c.push(q)});return c},
scale_backside:function(c,f,d,q,l){var m=Math.min(1,f,d);1===f&&1===d?c.css({width:"",height:""}):c.css({transform:"scale("+m+", "+m+")","transform-origin":"top left",width:q*f/m,height:l*d/m})},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&c.DISPLAY_UPDATES.pending_update(this)},remove_backside_widget:function(c,f,d){return this.get_widget().remove_backside_widget(c,f,d)},remove:function(){this.get_widget().remove()},is_backside:function(){return!0},
get_parent:function(){return this.get_parent_of_backside()},is_of_type:function(c){return this.get_widget().is_of_type(c)}}}(window.TOONTALK);window.TOONTALK.frontside=function(c){return{create:function(k){var f=Object.create(this),d=document.createElement("div"),q=$(d),l;$(d).addClass("toontalk-frontside toontalk-side");d.toontalk_widget=k;c.UTILITIES.drag_and_drop(d);f.get_element=function(){return d};f.get_widget=function(){return k};f.visible=function(){return l};f.set_visible=function(c){var d=this.get_widget();l=c;d.walk_children&&d.walk_children(function(d){d.set_visible(c);return!0})};d.addEventListener("click",function(d){$(d.target).is(".ui-resizable-handle")||
1!==d.which||(q.is(".toontalk-top-level-resource")?k.set_running(!k.get_running()):k.get_running()?c.debugging&&console.log("Ignoring click on running widget."):k.open_backside(),d.stopPropagation())});d.addEventListener("mouseenter",function(d){(d=k.get_backside())&&c.UTILITIES.highlight_element(d.get_element())});d.addEventListener("mouseout",function(d){k.get_backside()&&c.UTILITIES.remove_highlight()});c.debugging&&(d.id=k.debug_id);return f},update_display:function(){return this.get_widget().update_display()},
remove:function(){$(this.get_element()).remove()}}}(window.TOONTALK);window.TOONTALK.number=function(c){var k=Object.create(c.widget),f=function(a,b,c,d){var f="",h=100;c=50/c;b/=1+b;if(d)for(d=0;h>=c&&d<a.length;)f=f+"<span class='toontalk-digit' style='font-size:"+h+"%'>"+a[d]+"</span>",d+=1,"-"!==a[d]&&(h*=b);else for(d=a.length-1;h>=c&&0<d;)f="<span class='toontalk-digit' style='font-size:"+h+"%'>"+a[d]+"</span>"+f,d-=1,"-"!==a[d]&&(h*=b);return f},d=function(a,b){var c=a/(1+a);return Math.ceil(Math.log(.5/b)/Math.log(c))},q=function(a,b,c){if(a.length<=Math.round(b))return'<span class="toontalk-digit" style="font-size:100%">'+
a+"</span>";if(1>b)return"";if(5>b)return"<span style='font-size: 80%'>"+q(a,1.25*b,.8*c)+"</span>";b=b/2-1;return f(a,b,c,!0)+f(a,b,c,!1)},l=function(a,b,c){var d="",f=new BigInteger(10),h=a.isNegative();for(h&&(a=a.abs());c>d.length;)if(a=a.multiply(f),0>a.compare(b))d+="0";else if(d+=a.divide(b).toString(),a=a.remainder(b).multiply(f),a.isZero())return h&&(d="-"+d),d=m(d);h&&(d="-"+d);return d},m=function(a){return 0<a.length&&"0"===a.charAt(a.length-1)?m(a.substring(0,a.length-1)):a},r=function(a,
b){var c=Math.min(b,a/2);return a-(c+1)},h=function(a,b){b||(b=1);if(!("number"!==typeof a&&"string"!==typeof a||"number"!==typeof b&&"string"!==typeof b))return bigrat.fromValues(a,b);var c=bigrat.create();1===b?bigrat.set(c,bigrat.toBigInteger(a.get_value()),BigInteger.ONE):a.get_value&&b.get_value?bigrat.set(c,bigrat.toBigInteger(a.get_value()),bigrat.toBigInteger(b.get_value())):bigrat.set(c,a,b);return c},b=function(a){switch(a){case "+":return"";case "-":return"&minus;";case "*":return"&times;";
case "/":return"&divide;";case "^":return"^";default:return c.UTILITIES.report_internal_error("Number has an unsupported operator: "+a),""}},n=bigrat.fromInteger(10);k.create=function(a,b,d,f,l){var m=Object.create(k),n=h(a,b);f||(f="improper_fraction");d||(d="+");m.set_value=function(a){if(!bigrat.equals(n,a))return this.fire_value_change_listeners(n,a),n=a,this.rerender(),c.debugging&&(this.debug_string=this.toString()),this};m.set_value_from_sub_classes=m.set_value;m.fire_value_change_listeners=
function(a,b){var c=this.get_listeners("value_changed"),e;c&&(e={type:"value_changed",old_value:a,new_value:b},c.forEach(function(a){a(e)}))};m.get_value=function(){return n};m.set_value_from_decimal=function(a){"number"===typeof a?this.set_value(bigrat.fromInteger(a)):this.set_value(bigrat.fromDecimal(a))};m.get_format=function(){return f};m.set_format=function(a,b){f=a;b&&this.rerender();return this};m.get_operator=function(){return d};m.set_operator=function(a,b){d=a;b&&this.rerender();return this};
m=k.add_standard_widget_functionality(m);m.set_description(l);c.debugging&&(m.debug_string=m.toString(),m.debug_id=c.UTILITIES.generate_unique_id(),n.debug_id_new=m.debug_id);return m};k.create_backside=function(){return c.number_backside.create(this)};k.set_from_values=function(a,b){return this.set_value(h(a,b))};k.ONE=function(){return this.create(1)};k.ZERO=function(){return this.create(0)};k.copy=function(a){return this.add_to_copy(k.create(this.get_value()[0],this.get_value()[1],this.get_operator(),
this.get_format(),this.get_description()),a)};k.is_number=function(){return!0};k.equals=function(a){return a.equals_number&&a.equals_number(this)};k.equals_number=function(a){return bigrat.equals(this.get_value(),a.get_value())};k.compare_with=function(a){if(a.compare_with_number)return-1*a.compare_with_number(this)};k.compare_with_number=function(a){return bigrat.equals(this.get_value(),a.get_value())?0:bigrat.isGreaterThan(this.get_value(),a.get_value())?1:-1};k.update_display=function(){var a,
b,d,f,h;a=this.get_frontside(!0).get_element();$(a).is(".toontalk-conditions-contents")?b=$(a):$(a).parent().is(".toontalk-backside, .toontalk-json")?(b=$(a),h=!0):b=$(a).parent().is(".toontalk-scale-half")?$(a):$(a).parent();if($(a).is(".toontalk-carried-by-bird"))d=100,f=40;else if($(a).is(".toontalk-element-attribute"))d=200,f=32;else{if(!b.is(":visible"))return;d=b.width();f=b.height();if(0===d||0===f)return;b.is(".toontalk-nest")&&(d*=.8,f*=.8)}$(a).removeClass("toontalk-number-eighth-size-border toontalk-number-quarter-size-border toontalk-number-half-size-border toontalk-number-full-size-border");
32>=d||32>=f?($(a).addClass("toontalk-number-eighth-size-border"),a.toontalk_border_size=4):64>=d||64>=f?($(a).addClass("toontalk-number-quarter-size-border"),a.toontalk_border_size=8):128>=d||128>=f?($(a).addClass("toontalk-number-half-size-border"),a.toontalk_border_size=16):($(a).addClass("toontalk-number-full-size-border"),a.toontalk_border_size=32);b=f-2*a.toontalk_border_size;h=this.to_HTML(d/(.64*b),b,this.get_format(),!0,this.get_operator(),h);c.UTILITIES.on_a_nest_in_a_box(a)&&(d="width:"+
d+"px;",b=h.indexOf('style="'),h=0<=b?h.substring(0,b+7)+d+h.substring(b+7):h);d=$(a).children(".toontalk-widget");d.is("*")?d=d.get(0):(d=document.createElement("div"),a.appendChild(d));d.innerHTML=h;$(d).addClass("toontalk-widget");a.title=this.get_title();(a=this.get_backside())&&a.rerender()};k.to_HTML=function(a,c,g,h,m,k){var v,x,z,A,E,C,H=!1!==h?" toontalk-top-level-number":"";k&&(H+=" toontalk-number-size-unconstrained-by-container");x=m?b(m):"";a||(a=4);c||(c=16);if(this.get_erased&&this.get_erased())return'<div class="toontalk-number toontalk-integer'+
H+'" style="font-size: '+c+'px;"></div>';0<x.length&&(a-=1,2>a&&(c*=Math.max(1,a)/2,a=2));if(this.is_integer()&&"scientific_notation"!==g)return v=bigrat.toBigInteger(this.get_value()).toString(),z=v.length,0<x.length&&z++,4>a&&z>a&&(z=Math.min(4,z),c*=a/z,a=z),'<div class="toontalk-number toontalk-integer'+H+'" style="font-size: '+c+'px;">'+x+q(v,a,c)+"</div>";v=' style="font-size:'+.4*c+'px;"';if("improper_fraction"===g||!g)return c='<table class="toontalk-number toontalk-improper-fraction'+H+'"'+
v+'><tr class="toontalk-numerator"><td align="center" class="toontalk-number">'+q(this.numerator_string(),2*a,c)+'</td></tr><tr class="toontalk-fraction-line-as-row"><td  class="toontalk-fraction-line-as-table-entry"><div class="toontalk-fraction-line"></div></tr><tr class="toontalk-denominator"><td align="center" class="toontalk-number">'+q(this.denominator_string(),2*a,c)+"</td></tr></table>",""===x?c:"<table class='toontalk-operator-and-fraction'"+v+"><tr><td>"+x+"</td><td>"+c+"</td></tr></table>";
if("mixed_number"===g||"proper_fraction"===g){x=this.integer_part();if(x.is_zero())return this.to_HTML(a,c,"improper_fraction",h,m);z=this.copy().subtract(x).absolute_value();return'<table class="toontalk-number toontalk-mixed-number'+H+'"'+v+'><tr><td class="toontalk-number toontalk-integer-part-of-mixed-number">'+x.to_HTML(a/2,c,"",!1,this.get_operator())+'</td><td class="toontalk-number toontalk-fraction-part-of-mixed-number">'+z.to_HTML(a/2,c,"improper_fraction",!1)+"</td></tr></table>"}if("decimal"===
g)return 4>a&&(c*=Math.max(1,a)/4,a=4),'<div class="toontalk-number toontalk-decimal'+H+'" style="font-size: '+c+'px;">'+x+this.decimal_string(a,c)+"</div>";if("scientific_notation"===g){z=bigrat.isNegative(this.get_value());A=this.get_value();E=bigrat.abs(bigrat.create(),A);A=bigrat.isLessThan(E,bigrat.ONE);E=(A?bigrat.toBigInteger(bigrat.divide(bigrat.create(),bigrat.ONE,E)):bigrat.toBigInteger(E)).toString();A=A?-E.length:E.length-1;E=bigrat.power(bigrat.create(),n,A);C=bigrat.divide(bigrat.create(),
this.get_value(),E);E=6+(0===A?1:Math.ceil(Math.log10(Math.abs(A)))/2);z&&E++;if(a<E+1)return this.to_HTML(E+1,c*a/(E+1),g,h,m,k);h=d(r(a,E),c);h=l(C[0],C[1],h);z?(z=h.substring(0,2),h=h.substring(2)):(z=h.substring(0,1),h=h.substring(1));a=f(h,a*(1-E/a),c,!0);0<a.length&&(a="<span class='toontalk-decimal-point'>.</span>"+a);return'<table class="toontalk-number toontalk-scientific_notation'+H+'"'+v+'><tr><td class="toontalk-number toontalk-significand-of-scientific-notation"><div class="toontalk-number toontalk-decimal'+
H+'" style="font-size: '+c+'px;">'+x+z+a+'</td><td class="toontalk-number toontalk-exponent-of-scientific-notation"><div style="font-size: '+c+'px;"> &times;10<sup style="font-size: '+c/2+'px;">'+A+"</sup></div></td></tr></table>"}};k.drop_on=function(a,b,c,d){if(a.number_dropped_on_me)return a.number_dropped_on_me(this,b,c,d),!0;if(a.widget_dropped_on_me)return a.widget_dropped_on_me(this,b,c,d);console.log("No handler for drop of '"+this+"' on '"+a+"'")};k.number_dropped_on_me=function(a,b,d,f){var h,
l,m,n;return a.visible()&&(d||f&&f.visible())?(f&&(a.robot_waiting_before_next_step=f),h=document.createElement("div"),$(h).addClass("toontalk-bammer-down"),l=$(this.get_frontside_element()).closest(".toontalk-top-level-backside"),h.style.left="-10px",h.style.top=l.height()+"px",l.append(h),b=this.get_frontside_element(),m=$(b).offset(),m.left-=.75*$(h).width(),m.left+=.5*$(b).width()+.1*$(h).width(),m.top-=.5*$(b).height()+.4*$(h).height(),b=function(){this.number_dropped_on_me_semantics(a,d,f)&&
f&&f.run_next_step();$(h).removeClass("toontalk-bammer-down");c.UTILITIES.set_timeout(function(){var a=l.offset();a||(a={left:0,top:0});$(h).addClass("toontalk-bammer-away");m.left=a.left+l.width()-100;m.top=a.top+l.height()+100;n=function(){$(h).remove()};c.UTILITIES.animate_to_absolute_position(h,m,n);$(h).css({opacity:.01})})}.bind(this),c.UTILITIES.animate_to_absolute_position(h,m,b),$(h).css({opacity:1,"z-index":c.UTILITIES.next_z_index()+100}),this):this.number_dropped_on_me_semantics(a,d,f)};
k.number_dropped_on_me_semantics=function(a,b,d){c.robot.in_training&&c.robot.in_training.dropped_on(a,this);a.remove();switch(a.get_operator()){case "+":return this.add(a);case "-":return this.subtract(a);case "*":return this.multiply(a);case "/":return this.divide(a);case "^":return this.power(a);default:c.UTILITIES.report_internal_error("Number received a number with unsupported operator: "+a.get_operator())}};k.widget_dropped_on_me=function(a,b,c,d){return a.number_dropped_on_me?this.number_dropped_on_me(a,
b,c,d):!1};k.add=function(a){this.set_value(bigrat.add(bigrat.create(),this.get_value(),a.get_value()));return this};k.subtract=function(a){this.set_value(bigrat.subtract(bigrat.create(),this.get_value(),a.get_value()));return this};k.multiply=function(a){this.set_value(bigrat.multiply(bigrat.create(),this.get_value(),a.get_value()));return this};k.divide=function(a){this.set_value(bigrat.divide(bigrat.create(),this.get_value(),a.get_value()));return this};k.power=function(a){this.set_value(bigrat.power(bigrat.create(),
this.get_value(),bigrat.toInteger(a.get_value())));return this};k.absolute_value=function(){this.set_value(bigrat.abs(bigrat.create(),this.get_value()));return this};k.is_zero=function(){return bigrat.equals(this.get_value(),bigrat.ZERO)};k.is_negative=function(){return bigrat.isNegative(this.get_value())};k.toString=function(){return("+"===this.get_operator()?"":this.get_operator())+bigrat.str(this.get_value())};k.to_float=function(){return bigrat.toDecimal(this.get_value())};k.get_type_name=function(){return"number"};
k.get_help_URL=function(){return"docs/manual/numbers.html"};k.get_json=function(){return{type:"number",operator:this.get_operator(),numerator:this.numerator_string(),denominator:this.denominator_string(),format:this.get_format()}};c.creators_from_json.number=function(a){return k.create(a.numerator,a.denominator,a.operator,a.format,a.description)};k.is_integer=function(){return 0===this.get_value()[1].compare(BigInteger.ONE)||0===this.get_value()[0].compare(BigInteger.ZERO)};k.numerator=function(){var a=
bigrat.create();return bigrat.set(a,this.get_value()[0],BigInteger.ONE)};k.denominator=function(){var a=bigrat.create();return bigrat.set(a,this.get_value()[1],BigInteger.ONE)};k.numerator_string=function(){return this.get_value()[0].toString()};k.denominator_string=function(){return this.get_value()[1].toString()};k.integer_part=function(){return this.create(this)};k.decimal_string=function(a,b){if(this.is_integer())return this.numerator_string();var c=k.copy.call(this),h=c.integer_part(),m=h.toString();
"0"===m&&this.is_negative()&&(m="-"+m);var n=c.subtract(h),h=r(a,m.length),v=d(h,b),c=Math.min(m.length,a/2),n=n.absolute_value(),v=l(n.get_value()[0],n.get_value()[1],v),h=v.length<a?v:f(v,h,b,!0);return q(m,c,b)+"<span class='toontalk-decimal-point'>.</span>"+h};k.match=function(a){return this.get_erased&&this.get_erased()?a.match_with_any_number?a.match_with_any_number():"not matched":a.match_with_this_number?a.match_with_this_number(this):"not matched"};k.match_with_any_number=function(){return"matched"};
k.match_with_this_number=function(a){return a.equals(this)?"matched":"not matched"};return k}(window.TOONTALK);
window.TOONTALK.number_backside=function(c){return{create:function(k){var f=c.backside.create(k),d=f.get_element(),q=document.createElement("div"),l=k.numerator_string(),m=k.denominator_string(),r=c.UTILITIES.create_text_area(l,"toontalk-numerator-input","","Type here to edit the numerator"),h=c.UTILITIES.create_text_area(m,"toontalk-denominator-input","","Type here to edit the denominator"),b=c.UTILITIES.create_radio_button("number_format","decimal","toontalk-decimal-radio-button","Decimal number",
"Display number as a decimal."),n=c.UTILITIES.create_radio_button("number_format","proper_fraction","toontalk-proper-fraction-radio-button","Mixed number","Display number as an integer part and a proper fraction."),a=c.UTILITIES.create_radio_button("number_format","improper_fraction","toontalk-improper-fraction-radio-button","Improper fraction","Display number as a simple fraction."),e=c.UTILITIES.create_radio_button("number_format","scientific_notation","toontalk-scientific-notation-radio-button",
"Scientific notation","Display number as a decimal between 1 and 10 multiplied by ten to some power."),g=c.UTILITIES.create_radio_button("operator","+","toontalk-plus-radio-button","+","Add me to what I'm dropped on."),u=c.UTILITIES.create_radio_button("operator","-","toontalk-minus-radio-button","&minus;","Subtract me from what I'm dropped on."),w=c.UTILITIES.create_radio_button("operator","*","toontalk-times-radio-button","&times;","Multiply me with what I'm dropped on."),B=c.UTILITIES.create_radio_button("operator",
"/","toontalk-dividie-radio-button","&divide;","Divide me into what I'm dropped on."),v=c.UTILITIES.create_radio_button("operator","^","toontalk-power-radio-button","Integer power","Use me as the number of times to multiply together what I'm dropped on."),x=function(a){var b=r.button.value.trim(),e=h.button.value.trim();if(b!==l||e!==m)k.set_from_values(b,e),l=b,m=e,c.robot.in_training&&(a=a.srcElement.className.split(" ",1)[0],c.robot.in_training.edited(k,{setter_name:"set_from_values",argument_1:b,
argument_2:e,toString:"toontalk-denominator-input"===a?"change value of the denominator to "+e+" of the number":"change value of the numerator to "+b+" of the number",button_selector:"."+a}))},z=function(){var d=c.UTILITIES.selected_radio_button(b.button,n.button,a.button,e.button),g=d.value;k.set_format(g,!0);c.robot.in_training&&c.robot.in_training.edited(k,{setter_name:"set_format",argument_1:g,toString:"change the format to "+g+" of the number",button_selector:"."+d.className.split(" ",1)[0]})},
A=function(){var a=c.UTILITIES.selected_radio_button(g.button,u.button,w.button,B.button,v.button),b=a.value;k.set_operator(b,!0);c.robot.in_training&&c.robot.in_training.edited(k,{setter_name:"set_operator",argument_1:b,toString:"change the operator to "+b+" of the number",button_selector:"."+a.className.split(" ",1)[0]})},E=c.UTILITIES.create_horizontal_table(r.container,q,h.container),C=$(c.UTILITIES.create_horizontal_table(b.container,n.container,a.container,e.container)).buttonset().get(0),H=
$(c.UTILITIES.create_horizontal_table(g.container,u.container,w.container,B.container,v.container)).buttonset().get(0),V=c.backside.create_advanced_settings_button(f,k),K=f.update_display;q.innerHTML="/";$(q).addClass("ui-widget");d.appendChild(E);d.appendChild(V);r.button.addEventListener("change",x);r.button.addEventListener("mouseout",x);r.button.addEventListener("mouseenter",function(){l=r.button.value.trim();m=h.button.value.trim()});h.button.addEventListener("change",x);h.button.addEventListener("mouseout",
x);b.button.addEventListener("change",z);n.button.addEventListener("change",z);a.button.addEventListener("change",z);e.button.addEventListener("change",z);switch(k.get_format()){case "decimal":c.UTILITIES.check_radio_button(b);break;case "improper_fraction":c.UTILITIES.check_radio_button(a);break;case "mixed_number":case "proper_fraction":c.UTILITIES.check_radio_button(n);break;case "scientific_format":c.UTILITIES.check_radio_button(e)}switch(k.get_operator()){case "+":c.UTILITIES.check_radio_button(g);
break;case "-":c.UTILITIES.check_radio_button(u);break;case "*":c.UTILITIES.check_radio_button(w);break;case "/":c.UTILITIES.check_radio_button(B);break;case "^":c.UTILITIES.check_radio_button(v)}g.button.addEventListener("change",A);u.button.addEventListener("change",A);w.button.addEventListener("change",A);B.button.addEventListener("change",A);v.button.addEventListener("change",A);f.update_display=function(){$(r.button).val(k.numerator_string());$(h.button).val(k.denominator_string());K()};$(C).addClass("toontalk-advanced-setting");
$(H).addClass("toontalk-advanced-setting");d.appendChild(C);d.appendChild(H);f.add_advanced_settings();return f}}}(window.TOONTALK);window.TOONTALK.box=function(c){var k=Object.create(c.widget);k.create=function(f,d,q,l){var m=Object.create(k),r=[],h;"undefined"===typeof d&&(d=!0);m.get_horizontal=function(){return d};m.set_horizontal=function(b,c){d=b;c&&($(this.get_frontside_element()).children(".toontalk-side").remove(),this.rerender());return this};m.get_hole=function(b){return r[b]};m.get_hole_contents=function(b){return r[b].get_contents()};m.set_hole=function(b,d,a){r[b].set_contents(d);a&&(d&&d.save_dimensions(),this.update_hole_display(b,
d));this.rerender();c.debugging&&(this.debug_string=this.toString())};m.get_holes=function(){return r};m.temporarily_remove_contents=function(b,c){var a=this.get_index_of(b);this.temporarily_removed_contents||(this.temporarily_removed_contents=[]);this.temporarily_removed_contents[a]=b;this.set_hole(a,void 0,c);return function(){this.set_hole(a,b,c);this.temporarily_removed_contents[a]=void 0}.bind(this)};m.get_contents_temporarily_removed=function(b){if(this.temporarily_removed_contents)return this.temporarily_removed_contents[b]};
m.set_contents=function(b){b.forEach(function(b,a){r[a].set_contents(b)})};m.get_size=function(){return f};m.set_size=function(b,d){var a;if(f===b)return!1;r.length=b;if(b>f)for(a=f;a<b;a++)r[a]=c.box_hole.create(a),r[a].set_parent_of_frontside(m);f=b;d&&this.rerender();c.debugging&&(this.debug_string=this.toString());return!0};m.copy=function(b){var c=r.map(function(a){if(a=a.get_contents())return a.copy(b)}),c=k.create(f,d,c,this.get_description());return this.add_to_copy(c,b)};m=m.add_standard_widget_functionality(m);
for(h=0;h<f;h++)r[h]=c.box_hole.create(h),r[h].set_parent_of_frontside(m);m.set_description(l);m.set_contents(q);c.debugging&&(m.debug_string=m.toString(),m.debug_id=c.UTILITIES.generate_unique_id());return m};k.create_backside=function(){return c.box_backside.create(this)};k.equals=function(c){return c.equals_box&&c.equals_box(this)};k.equals_box=function(c){var d=this.get_size(),k,l,m;if(d!==c.get_size())return!1;for(k=0;k<d;k++)if(l=this.get_hole_contents(k),m=c.get_hole_contents(k),!l&&m||l&&
!m||l&&m&&(!l.equals||!l.equals(m)))return!1;return!0};k.compare_with=function(c){if(c.compare_with_box)return-1*c.compare_with_box(this)};k.compare_with_box=function(c){var d=this.get_size(),k=c.get_size(),l,m;if(d>k)return 1;if(d<k)return-1;for(k=0;k<d;k++){l=this.get_hole_contents(k);m=c.get_hole_contents(k);if(l&&!m)return 1;if(!l&&m)return-1;if(l&&m)if(l.compare_with){if(l=l.compare_with(m),1===l||-1===l)return l}else return}return 0};k.match=function(c){return this.get_erased&&this.get_erased()?
c.match_with_any_box?c.match_with_any_box():"not matched":c.match_with_this_box?c.match_with_this_box(this):"not matched"};k.match_with_any_box=function(){return"matched"};k.match_with_this_box=function(f){var d=this.get_size(),k=[],l,m,r;if(d!==f.get_size())return"not matched";for(l=0;l<d;l++)if(r=f.get_hole_contents(l)){m=this.get_hole_contents(l);if(!m)return"not matched";m=c.UTILITIES.match(r,m);if("not matched"===m)return"not matched";"matched"!==m&&(k=0===k.length?m:k.concat(m))}return 0<k.length?
k:"matched"};k.toString=function(){var c="",d=this.get_size(),k,l,m=this.get_type_name()+" that looks like ";for(k=0;k<d;k++)l=this.get_hole(k),c+=l.get_full_description(),k<d-1&&(c+=" | ");return m+"["+c.replace(m,"")+"]"};k.get_type_name=function(){return"box"};k.get_help_URL=function(){return"docs/manual/boxes.html"};k.get_json=function(f){var d=[],k=this.get_size(),l;for(l=0;l<k;l++)this.get_hole_contents(l)?d[l]=c.UTILITIES.get_json(this.get_hole_contents(l),f):d[l]=null;return{type:"box",size:k,
contents:d,horizontal:this.get_horizontal()}};k.walk_children=function(c){var d=this.get_size(),k;for(k=0;k<d&&c(this.get_hole(k));k++);};c.creators_from_json.box=function(f,d){return k.create(f.size,f.horizontal,c.UTILITIES.create_array_from_json(f.contents,d),f.description)};k.update_display=function(){var f=this.get_frontside(!0).get_element(),d=this.get_size(),k=function(d,f,h){var m=f.get_frontside_element(!0),n,k;l?(n=b*h,1<h&&(n+=g*(h-1)),k=0):(n=0,k=a*h,1<h&&(k+=g*(h-1)));$(d).css({left:n,
top:k,width:b,height:a});d!==m&&($(m).css({left:0,top:0,width:"",height:""}),d.appendChild(m));c.UTILITIES.has_animating_image(m)||(0<h&&($(d).removeClass("toontalk-box-eighth-size-border-left toontalk-box-quarter-size-border-left toontalk-box-half-size-border-left toontalk-box-full-size-border-left"),$(d).removeClass("toontalk-box-eighth-size-border-top toontalk-box-quarter-size-border-top toontalk-box-half-size-border-top toontalk-box-full-size-border-top"),l?$(d).addClass(e+"-left"):$(d).addClass(e+
"-top")),d.toontalk_border_size=g);f.render()},l=this.get_horizontal();$(f).is(".toontalk-box");var m=function(){var a=$(f).children(".toontalk-box-hole");a.length===d?a.each(function(a,b){k(b,this.get_hole(a),a)}.bind(this)):(a.remove(),this.get_holes().forEach(function(a,b){r=a.get_element();$(r).addClass("toontalk-hole-number-"+b);k(r,a,b);f.appendChild(r)}))}.bind(this),r,h,b,n,a,e,g;$(f).addClass("toontalk-box");$(f).removeClass("toontalk-box-eighth-size-border toontalk-box-quarter-size-border toontalk-box-half-size-border toontalk-box-full-size-border");
f.title=this.get_title();c.debugging&&(this.debug_string=this.toString());this.get_erased()?($(f).addClass("toontalk-box-erased"),$(f).children(".toontalk-side").remove()):($(f).removeClass("toontalk-box-erased"),h=$(f).width(),n=$(f).height(),l?(b=h/d,a=n):(b=h,a=n/d),32>=b||32>=a?(e="toontalk-box-eighth-size-border",g=4):64>=b||64>=a?(e="toontalk-box-quarter-size-border",g=8):128>=b||128>=a?(e="toontalk-box-half-size-border",g=16):(e="toontalk-box-full-size-border",g=32),l?b-=(d-1)*g/d:a-=(d-1)*
g/d,$(f).addClass(e),f.toontalk_border_size=g,c.UTILITIES.set_timeout(m))};k.update_hole_display=function(c,d){var k=this.get_frontside_element(),k=$(k).children(".toontalk-hole-number-"+c),l;k.empty();d&&(l=d.get_frontside_element(!0),k.append(l),$(l).css({left:0,top:0}),d.rerender())};k.drop_on=function(c,d,k){if(c.box_dropped_on_me)return d=c.box_dropped_on_me(this,k),k&&c.rerender(),this.remove(),d;if(c.widget_dropped_on_me)return c.widget_dropped_on_me(this,d,k);console.log("No handler for drop of "+
this+" on "+c)};k.box_dropped_on_me=function(c,d){console.log("box on box not yet implemented");return!1};k.widget_dropped_on_me=function(f,d,k,l){var m=this.get_horizontal(),r=this.get_frontside_element(),h=this.get_size(),b,n,a;if(0!==h){n=$(r).offset();r=m?$(r).width()/h:$(r).height()/h;a=m?n.left:n.top;if(k)for(b=0;b<h;b++)if(n=this.get_hole(b),a+=r,(m?k.pageX<=a:k.pageY<=a)||b+1===h)return(m=n.get_contents())?f.drop_on(m,d,k,l):n.widget_dropped_on_me(f,d,k,l);c.UTILITIES.report_internal_error(f+
" dropped on "+this+" but no event was provided.")}};k.get_index_of=function(c){return c.get_parent_of_frontside().get_index()};k.removed_from_container=function(f,d,k,l){d=!!k;"undefined"===typeof l&&(l=this.get_index_of(f));0<=l?(this.set_hole(l,void 0,d),d&&(this.rerender(),f.restore_dimensions())):c.UTILITIES.report_internal_error("Attempted to remove "+f+" from "+this+" but not found.")};k.get_path_to=function(f,d){var k=this.get_size(),l,m;if("empty hole"===f.get_type_name())return c.box.path.create(f.get_index());
for(l=0;l<k;l++)if(m=this.get_hole_contents(l)||this.get_contents_temporarily_removed(l)){if(f===m||m.top_contents_is&&m.top_contents_is(f))return c.box.path.create(l);if(m.get_path_to&&(m=m.get_path_to(f,d)))return k=c.box.path.create(l),k.next=m,k}};k.dereference=function(f,d,k){var l,m;if(f){l=f.get_index&&f.get_index();if(!c.debugging||"number"===typeof l){if(m=this.get_hole_contents(l)){if(m.dereference_contents&&!f.not_to_be_dereferenced)return m.dereference_contents(f,d,k);if(f.next){if(m.dereference)return m.dereference(f.next,
d,k);c.UTILITIES.report_internal_error("Expected to refer to a part of "+m+" but it lacks a method to obtain "+c.path.toString(f.next))}f.removing_widget&&("empty hole"===m.get_type_name()?c.UTILITIES.report_internal_error("Robot is trying to remove something from an empty hole. "):m.get_infinite_stack()||k.remove_from_container(m,this));return m}return this.get_hole(l)}c.UTILITIES.report_internal_error(this+" unable to dereference the path: "+c.path.toString(f))}else return this};k.path={create:function(f){return{get_index:function(){return f},
toString:function(){return"scale"===this.true_type?0===f?"the left side of the scale ":"the right side of the scale ":"the "+c.UTILITIES.cardinal(f)+" hole "},get_json:function(c){return{type:"box_path",index:f,true_type:this.true_type,next:this.next&&this.next.get_json(c)}}}}};c.creators_from_json.box_path=function(f,d){var q=k.path.create(f.index);f.next&&(q.next=c.UTILITIES.create_from_json(f.next,d));f.true_type&&(q.true_type=f.true_type);return q};return k}(window.TOONTALK);
window.TOONTALK.box_backside=function(c){return{create:function(k){var f=c.backside.create(k),d=c.UTILITIES.create_text_input(k.get_size().toString(),"toontalk-box-size-input","Number of holes","Type here to edit the number of holes."),q=c.UTILITIES.create_radio_button("box_orientation","horizontal","toontalk-horizontal-radio-button","Left to right","Show box horizontally."),l=c.UTILITIES.create_radio_button("box_orientation","vertical","toontalk-vertical-radio-button","Top to bottom","Show box vertically."),
m=function(){var a=parseInt(d.button.value.trim(),10);k.set_size(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(k,{setter_name:"set_size",argument_1:a,toString:"change the number of holes to "+a+" of the box",button_selector:".toontalk-box-size-input"})},r=function(){var a=c.UTILITIES.selected_radio_button(q.button,l.button),b=a.value,d="horizontal"===b;k.set_horizontal(d,!0);c.robot.in_training&&c.robot.in_training.edited(k,{setter_name:"set_horizontal",argument_1:d,toString:"change the orientation to "+
b+" of the box",button_selector:"."+a.className.split(" ",1)[0]})},h=f.get_element(),b=c.backside.create_advanced_settings_button(f,k),n=f.update_display;d.button.addEventListener("change",m);d.button.addEventListener("mouseout",m);q.button.addEventListener("change",r);l.button.addEventListener("change",r);f.update_display=function(){d.button.value=k.get_size().toString();k.get_horizontal()?c.UTILITIES.check_radio_button(q):c.UTILITIES.check_radio_button(l);n()};h.appendChild(d.container);h.appendChild($(c.UTILITIES.create_horizontal_table(q.container,
l.container)).buttonset().get(0));h.appendChild(b);f.add_advanced_settings();f.render();return f}}}(window.TOONTALK);
window.TOONTALK.box_hole=function(c){return{create:function(k){var f=Object.create(this),d,q,l;f.get_element=function(){l||(l=document.createElement("div"),l.className="toontalk-box-hole toontalk-frontside toontalk-side",l.toontalk_widget=f);return l};f.get_frontside=function(c){return d?d.get_frontside(c):this.get_element()};f.get_side_element=function(){return this.get_element()};f.get_frontside_element=function(c){return d?d.get_frontside_element(c):this.get_element()};f.get_frontside=function(){return this};
f.widget_dropped_on_me=function(d,f,h,b){f=this.get_parent_of_frontside();var l;c.robot.in_training&&c.robot.in_training.dropped_on(d,this);h&&d.save_dimensions&&(d.save_dimensions(),d.set_size_attributes&&(l=$(this.get_element()),d.set_size_attributes(l.width(),l.height())));this.set_contents(d);d.dropped_on_other&&d.dropped_on_other(this,!1,h,b);f.render();return!0};f.get_json=function(){return null};f.add_to_json=function(c){return c};f.copy=function(d){return c.box_hole.create(k)};f.match=function(){return"matched"};
f.get_type_name=function(){return"empty hole"};f.is_of_type=function(c){return"empty hole"===c};f.get_index=function(){return k};f.get_contents=function(){return d};f.set_contents=function(l){var k=this.get_listeners("value_changed");k&&(d!==l&&k.forEach(function(c){c({type:"value_changed",old_value:d,new_value:l})}),d&&k.forEach(function(c){d.remove_listener("value_changed",c,!0)}),l&&k.forEach(function(c){l.add_listener("value_changed",c)}));d&&d.set_parent_of_frontside(void 0);(d=l)?(d.set_parent_of_frontside(this),
c.debugging&&(f.debug_string="A hole containing "+d),d.set_visible(q)):c.debugging&&(f.debug_string="An empty hole")};f.visible=function(){return this.get_parent_of_frontside().visible()};f.set_visible=function(c){q=c;d&&d.set_visible(c)};f.render=function(){if(d)return d.render()};f.rerender=function(){if(d)return d.rerender()};f.removed_from_container=function(f,l,h){d?(h&&d.restore_dimensions(),this.set_contents(void 0),h&&this.get_parent_of_frontside().render()):c.UTILITIES.report_internal_error("Holes can't be removed from containers.")};
f.temporarily_remove_contents=function(c,f){if(d)return this.get_parent_of_frontside().temporarily_remove_contents(c,f)};f.toString=function(){return d?d.toString():"_"};f.get_description=function(){return d?d.get_description():"_"};f.get_full_description=function(){return d?d.get_full_description():"_"};f.is_backside=function(){return!1};f.get_widget=function(){return this};c.debugging&&(f.debug_string="An empty hole");c.widget.has_parent(f);c.widget.has_listeners(f);return f}}}(window.TOONTALK);window.TOONTALK.bird=function(c){var k=Object.create(c.widget);k.create=function(f,d){var q=Object.create(k);q.widget_dropped_on_me=function(d,m,k,h){m=m?d.get_backside():d;if(f){if(f.has_ancestor(d))return c.UTILITIES.display_message("Bird can't take its nest to its nest!"),!1;this.visible()||f.visible()||f.any_nest_copies_visible()?(d.save_dimensions(),k=this.get_frontside_element(),$(k).removeClass("toontalk-bird-gimme"),h&&(d.robot_waiting_before_next_step=h,d.remove_from_parent_of_frontside()),
f.animate_bird_delivery(m,this,h&&h.run_next_step,h)):(f.add_to_contents(m),h&&h.run_next_step())}else console.log("to do: handle drop on a nestless bird -- just removes other?");c.robot.in_training&&c.robot.in_training.dropped_on(d,this);return!0};q.animate_delivery_to=function(d,m,k,h,b,n,a){var e=!!k,g=this.get_parent_of_frontside(),q=this.get_frontside_element(),w=$(q).offset(),B=function(){var a=$(E).offset(),b;e?this.remove():(b=function(){$(q).removeClass("toontalk-bird-morph-to-static");$(q).addClass("toontalk-bird-static");
g&&g.get_widget().rerender()},q.style.position=C,a&&(w.left-=a.left,w.top-=a.top),$(q).css(w),E&&E.appendChild(q),g&&(g.get_widget().is_of_type("top-level")?this.rerender():g.get_widget().rerender()),P&&(ca.remove_backside_widget(this,!1,!0),P()),c.UTILITIES.add_animation_class(q,"toontalk-bird-morph-to-static"),c.UTILITIES.add_one_shot_event_handler(q,"animationend",1E3,b),n&&(n(),d.robot_waiting_before_next_step=void 0))}.bind(this),v=function(){z();k.add_to_contents(d,this,!0);c.UTILITIES.set_timeout(function(){this.fly_to(w,
B)}.bind(this))}.bind(this),x=function(a,b){this.element_to_display_when_flying=a;b&&(this.update_display(),b.update_display());a.width_before_carry=a.clientWidth;a.height_before_carry=a.clientHeight;c.UTILITIES.set_timeout(function(){$(this.element_to_display_when_flying).addClass("toontalk-carried-by-bird").css({left:"",top:"",width:"",height:"",position:""});this.update_display()}.bind(this))}.bind(this),z=function(a){if(this.element_to_display_when_flying){var b=this.element_to_display_when_flying.width_before_carry,
e=this.element_to_display_when_flying.height_before_carry;$(this.element_to_display_when_flying).removeClass("toontalk-carried-by-bird");a?($(this.element_to_display_when_flying).css({width:b,height:e}),$(q).closest(".toontalk-top-level-backside").append(this.element_to_display_when_flying),c.UTILITIES.set_absolute_position($(this.element_to_display_when_flying),a)):$(this.element_to_display_when_flying).remove();this.element_to_display_when_flying=void 0;this.update_display()}}.bind(this),A,E,C,
H,V,K,P,N,L,X,ca,U;k||(k=f);X=d.get_element();x(X,d);A=m.get_widget().closest_visible_ancestor().get_widget().get_frontside_element();if(m.visible()||this.visible())if(m=$(A).offset(),K=$(k.get_frontside_element()).closest(".toontalk-top-level-backside"),K.is("*")||(K=$(this.get_frontside_element()).closest(".toontalk-top-level-backside")),(U=K.offset())||(U={left:0,top:0}),w=h?{left:h+U.left,top:b+U.top}:$(q).offset(),E=q.parentElement,H=$(q).width(),V=$(q).height(),C=q.style.position,q.style.position=
"absolute",ca=this.top_level_widget(),g&&g.get_widget().temporarily_remove_contents&&(P=g.get_widget().temporarily_remove_contents(this,!0))&&ca.add_to_top_level_backside(this),K.append(q),$(q).css({left:h||w.left-U.left,top:b||w.top-U.top,width:H,height:V}),(N=k.get_contents_frontside_element())&&k.visible()&&(!a||a.visible())){h=$(A).width();b=$(A).height();L=$(A).offset();U.max_left=U.left+K.width();U.max_top=U.top+K.height();m.left+=h;m.top+=b;var ka={left:Math.min(L.left+h,U.max_left-h),top:Math.min(L.top+
b,U.max_top-b)},oa={left:Math.max(L.left-h,U.left),top:Math.max(L.top-b,U.top)};A=function(){var a=function(){k.set_locked(!0);this.fly_to(L,za,300)}.bind(this);z(ka);k.get_locked()?k.run_when_unlocked(a):a()}.bind(this);var za=function(){x(N);this.fly_to(oa,ha,300)}.bind(this),ha=function(){z(oa);this.fly_to(ka,ra,300)}.bind(this),ra=function(){x(X,d);this.fly_to(L,sa,300)}.bind(this),sa=function(){z(L);this.fly_to(oa,ta,300)}.bind(this),ta=function(){x(N);this.fly_to(L,da,300)}.bind(this),da=function(){k.set_locked(!1);
z();k.update_display();v()}.bind(this);this.fly_to(ka,A,300)}else this.fly_to(m,v,300);else k.add_to_contents(d,this,!0)};q.get_json=function(d){return{type:"bird",nest:f&&c.UTILITIES.get_json(f,d)}};q.copy=function(c){var d;d=c?this.create(void 0,this.get_description()):this.create(f,this.get_description());return this.add_to_copy(d,c)};q=q.add_standard_widget_functionality(q);q.set_description(d);c.debugging&&(q.debug_id=c.UTILITIES.generate_unique_id(),q.debug_string=f?"a bird with "+f.debug_string:
"a bird without a nest");return q};k.create_backside=function(){return c.bird_backside.create(this)};k.match=function(c){return c.match_with_any_bird?c.match_with_any_bird(this):"not matched"};k.match_with_any_bird=function(){return"matched"};k.update_display=function(){var f=this.get_frontside(!0),d=this.get_backside(),k;k=f.get_element();k.title=this.get_title();$(k).is(".toontalk-bird, .toontalk-side-animating")||($(k).addClass("toontalk-bird toontalk-bird-static"),k.addEventListener("dragover",
function(d){$(k).is(".toontalk-bird-static")&&($(k).removeClass("toontalk-bird-static"),c.UTILITIES.add_animation_class(k,"toontalk-bird-gimme"))}),k.addEventListener("dragleave",function(c){$(k).is(".toontalk-bird-gimme")&&$(k).addClass("toontalk-bird-static").removeClass("toontalk-bird-gimme")}));this.element_to_display_when_flying?k.appendChild(this.element_to_display_when_flying):$(k).children(".toontalk-side").remove();d&&d.rerender()};k.fly_to=function(f,d,k){var l=this.get_frontside_element(),
m=$(l).offset(),m=Math.atan2(f.top-m.top,f.left-m.left),r="toontalk-fly-west toontalk-fly-northwest toontalk-fly-north toontalk-fly-northeast toontalk-fly-east toontalk-fly-southeast toontalk-fly-south toontalk-fly-southwest".split(" ")[Math.round(4*(m/Math.PI+1))%8];$(l).position();c.UTILITIES.add_animation_class(l,r);this.animate_to_absolute_position(f,function(){$(l).removeClass(r);k?($(l).addClass("toontalk-bird-static"),setTimeout(d,k)):d()})};k.toString=function(){return"a bird"};k.get_type_name=
function(){return"bird"};k.get_help_URL=function(){return"docs/manual/birds-nests.html"};k.matching_resource=function(c){return c.get_type_name&&c.get_type_name()===this.get_type_name()};c.creators_from_json.bird=function(f,d){return c.bird.create(c.UTILITIES.create_from_json(f.nest,d),f.description)};k.drop_on=function(c,d,k,l){if(c.widget_dropped_on_me)return c.widget_dropped_on_me(this,!1,k,l)};return k}(window.TOONTALK);
window.TOONTALK.bird_backside=function(c){return{create:function(k){k=c.backside.create(k);k.add_advanced_settings(!0);return k}}}(window.TOONTALK);
window.TOONTALK.nest=function(c){var k=Object.create(c.widget),f={},d={};k.create=function(d,l,m,r,h){var b=Object.create(k),n;l||(l=[]);m||(m=[]);b.matched_by=function(a){return 0<l.length?c.UTILITIES.match(a,l[0].get_widget()):[this]};b.run_when_non_empty=function(a){m.push(a)};b.add_to_contents=function(a,b,d){var f;1===l.push(a)?0<m.length&&(f=m,m=[],f.forEach(function(a){$(a.robot.get_frontside_element()).removeClass("toontalk-robot-waiting");a.robot.run(a.context,a.top_level_context,a.queue)})):
a.get_widget().hide();a.is_backside()?a.get_widget().set_parent_of_backside(this):a.get_widget().set_parent_of_frontside(this);n&&!d&&(b?n.forEach(function(d){d.has_ancestor(a.get_widget())||d.animate_bird_delivery(c.UTILITIES.copy_side(a),b)}):n.forEach(function(b){b.has_ancestor(a.get_widget())||b.add_to_contents(c.UTILITIES.copy_side(a,!1,!0))}));this.rerender()};b.animate_bird_delivery=function(a,b,d,f){var h,l,m;b.animate_delivery_to(a,this,void 0,void 0,void 0,d,f);n&&(h=$(b.closest_visible_ancestor().get_widget().get_frontside_element()).closest(":visible").position(),
l=b.get_parent_of_frontside().get_element(),m=this.visible(),n.forEach(function(d){var g=c.UTILITIES.copy_side(a,!1,m),n,k;d.has_ancestor(a.get_widget())||(d.visible()||m?(n=b.copy(!0),k=n.get_frontside_element(!0),$(l).append(k),n.animate_delivery_to(g,d,d,h.left,h.top,void 0,f)):d.add_to_contents(g))}))};b.get_contents_frontside_element=function(){if(0<l.length)return l[0].get_widget().get_frontside_element()};b.get_locked=function(){return this.locked_for_animating_deliveries};b.set_locked=function(a){this.locked_for_animating_deliveries=
a;!a&&this.to_run_when_unlocked&&0<this.to_run_when_unlocked.length&&this.to_run_when_unlocked.shift()()};b.run_when_unlocked=function(a){this.to_run_when_unlocked?this.to_run_when_unlocked.push(a):this.to_run_when_unlocked=[a]};b.removed_from_container=function(a,b,d){a=l.shift();this.visible()&&(a?(a.get_widget().restore_dimensions(),a.is_backside()?a.get_widget().set_parent_of_backside(void 0):a.get_widget().set_parent_of_frontside(void 0)):c.UTILITIES.report_internal_error("Nothing removed from nest!"),
0<l.length&&(l[0].set_visible(!0),$(l[0].get_element()).show()),this.render());return a};b.dereference_contents=function(a,b,c){var d,f,h,m;return 0===l.length?this:a.removing_widget?(a=l[0],c.remove_from_container(a,this),this.visible()&&(h=this.get_frontside_element(),c=$(h).offset(),b=$(h).closest(".toontalk-backside-of-top-level"),(d=b.offset())||(d={left:0,top:0}),f=a.get_frontside_element(),m=$(h).width(),h=$(h).height(),$(f).css({left:.1*m+c.left-d.left,top:.1*h+c.top-d.top,width:.8*m,height:.8*
h}),b.append(f)),a):a.next?l[0].get_widget().dereference(a.next,b,c):l[0].get_widget()};b.get_json=function(a){var b=m&&m.map(function(b){return{robot:c.UTILITIES.get_json(b.robot,a),context:b.context&&c.UTILITIES.get_json(b.context,a),top_level_context:b.top_level_context&&c.UTILITIES.get_json(b.top_level_context,a)}});return{type:"nest",contents:c.UTILITIES.get_json_of_array(l,a),guid:r,original_nest:h&&c.UTILITIES.get_json(h,a),waiting_robots:b}};b.copy=function(a,b){var d,f;if(a)return 0<l.length?
l[0].get_widget().copy(a):c.nest.create(this.get_description(),[],[],"in a robot's condition");d=c.UTILITIES.copy_widget_sides(l);b||(f=h||this);d=c.nest.create(this.get_description(),d,[],r,f);return this.add_to_copy(d,a)};b.has_contents=function(){return 0<l.length};b.dropped_on_other=function(a,d,g,f){var h,l,m,n,k,q,E;r||(r=c.UTILITIES.generate_unique_id(),c.debugging&&(b.debug_string="A nest with "+r),h=c.bird.create(this),f&&(f.add_newly_created_widget(h),this.robot_waiting_before_next_step=
f),this.rerender(),l=this.get_frontside_element(!0),c.UTILITIES.add_animation_class(l,"toontalk-hatch-egg"),k=function(){var b,k,r;if(d)b=a.get_backside();else if((r=c.UTILITIES.widget_from_jquery($(l).closest(".toontalk-top-level-backside")))||(r=c.UTILITIES.widget_from_jquery($(a.get_widget().get_frontside_element(!0)).closest(".toontalk-top-level-backside"))),r)b=r.get_backside();else{c.UTILITIES.report_internal_error("Unable to find the top-level backside for bird to go to.");return}k=b.get_element();
r=$(k).offset();m=h.get_frontside_element(!0);$(m).removeClass("toontalk-bird-static");c.UTILITIES.add_animation_class(m,"toontalk-fly-southwest");n=c.UTILITIES.relative_position(l,k);$(m).css({left:n.left,top:n.top});c.robot.in_training?(c.robot.in_training.add_newly_created_widget(h),b.widget_dropped_on_me(h,!1,g,void 0,!0)):b.widget_dropped_on_me(h,!1,g);$(l).removeClass("toontalk-hatch-egg").addClass("toontalk-empty-nest").css({width:"",height:""});"top-level"===this.get_parent_of_frontside().get_widget().get_type_name()&&
$(l).css({left:n.left-5,top:n.top+45});E=function(){$(m).removeClass("toontalk-fly-southwest");c.UTILITIES.set_timeout(function(){c.UTILITIES.add_animation_class(m,"toontalk-fly-down");q=function(){$(m).removeClass("toontalk-fly-down");c.UTILITIES.add_animation_class(m,"toontalk-bird-morph-to-static");c.UTILITIES.add_one_shot_event_handler(m,"animationend",1E3,function(){$(m).removeClass("toontalk-bird-morph-to-static toontalk-side-animating").addClass("toontalk-bird-static")});f&&f.run_next_step();
h.update_display()};c.UTILITIES.add_one_shot_event_handler(l,"animationend",1E3,q)}.bind(this))}.bind(this);$(m).removeClass("toontalk-bird-static");b=Math.max(10,n.left-70);k=Math.max(10,n.top+70);h.animate_to_absolute_position({left:b+r.left,top:k+r.top},E);this.rerender()}.bind(this),c.UTILITIES.add_one_shot_event_handler(l,"animationend",2E3,k));return!0};b.widget_dropped_on_me=function(a,b,d,f){d&&a.save_dimensions&&a.save_dimensions();0===l.length?(this.add_to_contents(b?a.get_backside():a),
a.dropped_on_other?a.dropped_on_other(this,b,d,f):c.robot.in_training&&c.robot.in_training.dropped_on(a,this)):a.drop_on(l[0].get_widget(),b,d,f);return!0};b.drop_on=function(a,b,c,d){return a.widget_dropped_on_me?(a.widget_dropped_on_me(this,!1,c,d),!0):!1};b.element_to_highlight=function(a){return 0===l.length?this.get_frontside_element():l[0].get_frontside_element()};b.update_display=function(){var a=this.get_frontside(!0),b=this.get_backside(),d,f,h,m,n,a=a.get_element();0<l.length?(d=l[0].get_widget(),
l[0].is_backside()?(m=d.get_backside(!0),n=m.get_element(),m.update_display(),m.scale_to_fit(n,a)):(d.render(),n=l[0].get_element()),f=$(a).width(),h=$(a).height(),0<f&&0<h&&c.UTILITIES.set_timeout(function(){for(var a=2*n.toontalk_border_size||0,b=.8*f,c=.8*h;2*a>=b||2*a>=c;)a/=2;b-=a;c-=a;$(n).css({width:b,height:c,left:.1*f,top:.1*h});d.set_size_attributes&&d.set_size_attributes(b,c)},2),a.appendChild(n),$(a).addClass("toontalk-empty-nest"),l[0].is_backside()?d.set_parent_of_backside(this):d.set_parent_of_frontside(this)):
(a.title=this.get_title(),r?($(a).removeClass("toontalk-nest-with-egg"),$(a).addClass("toontalk-empty-nest")):c.UTILITIES.add_animation_class(a,"toontalk-nest-with-egg"));$(a).addClass("toontalk-nest");b&&b.rerender()};b[f]=function(a){n||(n=[]);n.push(a)};b.get_path_to=function(a,b){if(0<l.length&&l[0].get_widget().get_path_to)return l[0].get_widget().get_path_to(a,b)};b.walk_children=function(a){if(0<l.length)return a(l[0])};b.top_contents_is=function(a){return 0<l.length&&l[0].get_widget()===a};
b.any_nest_copies_visible=function(){var a=!1;if(!n)return!1;n.some(function(b){b.visible()&&(a=!0)});return a};b.compare_with=function(a){if(0<l.length)return l[0].compare_with(a);if(a.compare_with_nest)return-1*a.compare_with_nest(this)};b.compare_with_nest=function(a){return 0===l.length?0:1};b.compare_with_number=function(a){return 0<l.length?l[0].compare_with(a):-1};b.compare_with_box=b.compare_with_number;b.compare_with_scale=b.compare_with_number;b=b.add_standard_widget_functionality(b);b.set_description(d);
c.debugging&&(b.debug_id=c.UTILITIES.generate_unique_id(),b.debug_string=r?"A nest with id "+r:"A nest with an egg");if(h&&r)h[f](b);return b};k.create_backside=function(){return c.nest_backside.create(this)};k.match=function(c){return c.match_nest_with_nest?c.match_nest_with_nest(this):"not matched"};k.match_nest_with_nest=function(c){return"matched"};k.toString=function(){return"a nest"};k.get_help_URL=function(){return"docs/manual/birds-nests.html"};k.get_type_name=function(){return"nest"};k.matching_resource=
function(c){return c.get_type_name&&c.get_type_name()===this.get_type_name()};c.creators_from_json.nest=function(f,l){var m=!f.original_nest&&f.guid&&d[f.guid];m||(m=c.nest.create(f.description,c.UTILITIES.create_array_from_json(f.contents,l),void 0,f.guid,f.original_nest&&c.UTILITIES.create_from_json(f.original_nest,l)),d[f.guid]=m);return m};return k}(window.TOONTALK);window.TOONTALK.nest_backside=function(c){return{create:function(k){k=c.backside.create(k);k.add_advanced_settings(!0);return k}}}(window.TOONTALK);window.TOONTALK.scale=function(c){var k=Object.create(c.widget);k.create=function(f,d,k,l){var m=function(){k.rerender()},r=function(a){var b=$(k.get_frontside_element()),b=b.offset().left+b.width()/2;return a.clientX<b?0:1},h,b,n;k||(k=c.box.create(2,void 0,f,d));h=k.get_json;b=k.copy;n=k.get_path_to;k.copy=function(a){var d=b.call(this,a),d=c.scale.create(void 0,void 0,d,a&&this.get_state());return k.add_to_copy(d,a)};k.get_json=function(a){a=h.call(this,a);a.type="scale";a.inactive_state=this.get_inactive_state();
return a};k.get_path_to=function(a,b){var c=n.call(this,a,b);c&&(c.true_type="scale");return c};k.element_to_highlight=function(a){a=r(a);a=this.get_hole(a);var b=a.get_contents();return b?b.get_frontside_element():a.get_frontside_element()};k.drop_on=function(a,b,c,d){if(a.widget_dropped_on_me)return a.widget_dropped_on_me(this,b,c,d)};k.widget_dropped_on_me=function(a,b,c,d){var f=this.get_hole_contents(0),h=this.get_hole_contents(1),l;if(f&&!h)return this.set_hole(1,a),!0;if(!f&&h)return this.set_hole(0,
a),!0;l=r(c);if(0===l){if(f){if(f.drop_on)return a.drop_on(f,b,c,d);return}}else if(h){if(h.drop_on)return a.drop_on(h,b,c,d);return}this.set_hole(l,a,c);return!0};k.get_inactive_state=function(){return l};k.update_display=function(){var a=this.get_frontside_element(),b=$(a),d=$(a).children(".toontalk-scale-half"),f=$(a).parent(),f=f.is(".toontalk-backside")?a:f.get(0),h=$(f).width(),l=$(f).height(),m=function(a,b,c){var d=b.get_frontside_element(!0),e=c*h*.5,g=.5*h,f=l;b=b.get_contents();$(a).css({left:e,
top:0,width:g,height:f});a!==d&&(e=0===c?-.05*h:.15*h,c="toontalk-scale-balanced"===n?.1*l:0===c&&"toontalk-scale-left_heavier"===n||1===c&&"toontalk-scale-right_heavier"===n?.25*l:1===c&&"toontalk-scale-left_heavier"===n||0===c&&"toontalk-scale-right_heavier"===n?-.1*l:.2*l,g=.4*h,f=.4*l,$(d).css({left:e,top:c,width:g,height:f}),b&&(b.set_location_attributes&&b.set_location_attributes(e,c),b.set_size_attributes&&b.set_size_attributes(g,f)),a.appendChild(d))},n,f=c.UTILITIES.scale_to_fit(a,f,123,
91);0===h&&(h=1);0===l&&(l=1);h/=f.x_scale;l/=f.y_scale;b.is(".toontalk-top-level-resource")?n="toontalk-scale-balanced":(f=this.get_state(),n="undefined"===typeof f?"toontalk-scale-unbalanced":["toontalk-scale-right_heavier","toontalk-scale-balanced","toontalk-scale-left_heavier"][f+1]);b.removeClass("toontalk-scale-balanced toontalk-scale-left_heavier toontalk-scale-right_heavier toontalk-scale-unbalanced");b.addClass(n);b.addClass("toontalk-scale");2===d.length?d.each(function(a,b){c.UTILITIES.set_timeout(function(){m(b,
this.get_hole(a),a)}.bind(this))}.bind(this)):this.get_holes().forEach(function(b,c){var d=b.get_element();0===c?$(d).addClass("toontalk-left_scale  toontalk-scale-half"):$(d).addClass("toontalk-right_scale toontalk-scale-half");m(d,b,c);a.appendChild(d)});a.title=this.get_title();c.debugging&&(this.debug_string=this.toString())};k.get_type_name=function(){return"scale"};k.get_help_URL=function(){return"docs/manual/scales.html"};k.toString=function(){var a=this.get_hole(0),b=this.get_hole(1),d;switch(this.get_state()){case -1:d=
"scale leaning to the right";break;case 1:d="scale leaning to the left";break;case 0:d="balanced scale";break;default:d="unbalanced scale"}a=a?"contains "+c.UTILITIES.add_a_or_an(a.get_full_description()):"is empty";b=b?"contains "+c.UTILITIES.add_a_or_an(b.get_full_description()):"is empty";return d+" and the left pan "+a+" and the right pan "+b};k.create_backside=function(){return c.scale_backside.create(this)};k.get_state=function(){var a=this.get_inactive_state(),b;if(a)return a;a=this.get_hole_contents(0);
b=this.get_hole_contents(1);if(a||b)if(a){if(!b)return 1;if(a.compare_with)return a.compare_with(b)}else return-1};k.match=function(a){return a.match_with_scale?a.match_with_scale(this):"not matched"};k.match_with_scale=function(a){return this.get_state()===a.get_state()?"matched":"not matched"};k.compare_with=function(a){if(a.compare_with_scale)return-1*a.compare_with_scale(this)};k.compare_with_scale=function(a){var b=this.get_state();a=a.get_state();return b&&!a?1:!b&&a?-1:b>a?1:b<a?-1:0};k.get_hole(0).add_listener("value_changed",
m);k.get_hole(1).add_listener("value_changed",m);k.get_hole_contents(0)&&k.get_hole_contents(0).add_listener("value_changed",m);k.get_hole_contents(1)&&k.get_hole_contents(1).add_listener("value_changed",m);return k};c.creators_from_json.scale=function(f,d){return k.create(c.UTILITIES.create_array_from_json(f.contents,d),f.description,void 0,f.inactive_state)};return k}(window.TOONTALK);
window.TOONTALK.scale_backside=function(c){return{create:function(k){k=c.backside.create(k);k.add_advanced_settings(!0);return k}}}(window.TOONTALK);window.TOONTALK.robot=function(c){var k=Object.create(c.widget);k.create=function(f,d,q,l,m,r,h){var b=Object.create(k),n,a=!1;q||(q=c.actions.create());n||(n=b);b.get_frontside_conditions=function(){return f};b.set_frontside_conditions=function(a){f=a};b.get_backside_conditions=function(){return d};b.set_backside_conditions=function(a){(d=a)&&c.UTILITIES.available_types.forEach(function(a){d[a]&&c.widget.erasable(d[a])})};b.add_to_backside_conditions=function(a){var b=a.copy(!0);d||(d={});d[a.get_type_name()]=
b;c.widget.erasable(b)};b.get_body=function(){return q};b.get_animating=function(){return a};b.set_animating=function(b,d){var f=this.get_frontside_element();(a=b)?(d||(d=$(f).offset()),$(f).addClass("toontalk-robot-animating toontalk-side-animating"),$(f).css({width:"",height:"","z-index":c.UTILITIES.next_z_index()}),c.UTILITIES.set_position_relative_to_top_level_backside($(f),d),$(f).closest(".toontalk-top-level-backside").append(f)):$(f).removeClass("toontalk-robot-animating toontalk-side-animating")};
b.get_thing_in_hand=function(){return m};b.set_thing_in_hand=function(a){c.debugging&&a&&"empty hole"===a.get_type_name()?c.UTILITIES.report_internal_error("Robot trying to pick up an empty hole."):m=a};b.get_next_robot=function(){return h};b.set_next_robot=function(a){var b=this.get_backside_element();a&&a.set_first_in_team(this.get_first_in_team());!a&&h&&h.set_first_in_team(h);h=a;b&&(a=a?"When the robot can't run then this one will try: ":window.TOONTALK.robot.empty_drop_area_instructions,$(b).find(".toontalk-drop-area-instructions").get(0).innerHTML=
a)};b.get_first_in_team=function(){return n};b.set_first_in_team=function(a){n=a;h&&h.set_first_in_team(a)};b.walk_children=function(a){(!h||a(h))&&this.get_frontside_conditions()&&a(this.get_frontside_conditions())};b.get_run_once=function(){return r};b.set_run_once=function(a){r=a};h&&b.set_next_robot(h);b=b.add_standard_widget_functionality(b);b.set_description(l);c.debugging&&(this.debug_id=c.UTILITIES.generate_unique_id());return b};k.create_backside=function(){return c.robot_backside.create(this)};
k.copy=function(f){var d=this.get_frontside_conditions(),k=this.get_backside_conditions(),d=d?d.copy(!0):void 0,l=this.get_next_robot(),l=l?l.copy(f):void 0,m;k&&(m={},c.UTILITIES.available_types.forEach(function(c){m[c]&&(m[c]=m[c].copy(!0))}));k=this.create(d,m,this.get_body().copy(),this.get_description(),this.get_thing_in_hand(),this.get_run_once(),l);return this.add_to_copy(k,f)};k.match=function(){console.log("Robot-to-robot matching could be more sophisticated.");return"matched"};k.run=function(f,
d,k){var l=this.get_frontside_conditions(),m,r,h;if(this.being_trained||!l||this.get_animating())return"not matched";this.match_status=c.UTILITIES.match(l,f);(r=l.get_frontside_element())&&("matched"===this.match_status?$(r).removeClass("toontalk-conditions-not-matched"):$(r).addClass("toontalk-conditions-not-matched"));"matched"===this.match_status?(m=this.get_backside_conditions())&&(l=f.get_backside_widgets())&&l.some(function(b){var d=!b.is_backside()&&m[b.get_widget().get_type_name()];if(d&&
(b=c.UTILITIES.match(d,b.get_widget()),(r=d.get_frontside_element())&&("matched"===b?$(r).removeClass("toontalk-conditions-not-matched"):$(r).addClass("toontalk-conditions-not-matched")),"matched"!==b))return this.match_status=b,!0}.bind(this)):this.match_status||(this.match_status="not matched");switch(this.match_status){case "matched":return k||(k=c.QUEUE),this.get_body().reset_newly_created_widgets(),k.enqueue({robot:this,context:f,top_level_context:d,queue:k}),this.match_status;case "not matched":return this.get_next_robot()?
this.get_next_robot().run(f,d,k):this.match_status;default:if(this.get_next_robot()){l=this.get_next_robot().run(f,d,k);if("matched"===l)return l;"not matched"!=l&&l.forEach(function(b){0>this.match_status.indexOf(b)&&this.match_status.push(b)})}this.get_first_in_team()===this&&(h={robot:this,context:f,top_level_context:d,queue:k},this.match_status.forEach(function(b){b.run_when_non_empty(h)}),c.UTILITIES.add_animation_class(this.get_frontside_element(),"toontalk-robot-waiting"));return this.match_status}};
k.set_stopped=function(c){(this.stopped=c)&&this.visible()&&$(this.get_frontside_element()).removeClass("toontalk-robot-waiting");this.get_next_robot()&&this.get_next_robot().set_stopped(c)};k.run_actions=function(c,d,k){return this.stopped?!1:this.visible()?this.get_body().run_watched(c,d,k,this):this.get_body().run_unwatched(c,d,k,this)};k.picked_up=function(f,d,k){var l;this!==f&&(f.get_infinite_stack&&f.get_infinite_stack()?this.current_action_name="pick up a copy of":this.current_action_name=
"pick up",k?(l=f,d=f.copy(),d=c.path.get_path_to_resource(d)):d=c.path.get_path_to(f,this),d&&this.add_step(c.robot_action.create(d,this.current_action_name),l),f.last_action=this.current_action_name,this.current_action_name=void 0,this.set_thing_in_hand(f))};k.dropped_on=function(f,d){var k;this!==f&&(this.current_action_name="drop it on",(k=c.path.get_path_to(d,this))&&this.add_step(c.robot_action.create(k,this.current_action_name)),f.last_action=this.current_action_name+" "+d.get_type_name(),this.current_action_name=
void 0,this.set_thing_in_hand(void 0))};k.copied=function(f,d,k){this.current_action_name=k?"pick up a copy of":"copy";(f=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(f,this.current_action_name),d);d.last_action=this.current_action_name;this.current_action_name=void 0};k.removed=function(f){var d;this.current_action_name="remove";(d=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(d,this.current_action_name));f.last_action=this.current_action_name;this.current_action_name=
void 0};k.edited=function(f,d){var k;this.current_action_name="edit";(k=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(k,this.current_action_name,d));this.current_action_name=void 0};k.erased_widget=function(f,d){var k;this.current_action_name="erased_widget";(k=c.path.get_path_to(f,this))&&this.add_step(c.robot_action.create(k,this.current_action_name,{erased:d,toString:d?"erase":"un-erase"}));this.current_action_name=void 0};k.remove_from_container=function(f,d){var k=d.get_index_of&&
d.get_index_of(f),l=function(){f.get_parent_of_frontside()&&d.removed_from_container(f,!1,!0,k)};this.get_animating()?c.UTILITIES.add_one_shot_event_handler(this.get_frontside_element(),"transitionend",2500,l):l();this.add_newly_created_widget(f)};k.add_step=function(c,d){this.get_body().add_step(c,d);this.get_frontside_element().title=this.get_title()};k.get_context=function(){var f=this.get_frontside_element(),d=$(f).parent(),f=c.UTILITIES.widget_from_jquery(d);return!f&&(d=c.UTILITIES.widget_from_jquery(d.closest(".toontalk-backside-of-robot")))?
d.get_context():f};k.training_started=function(){var f=this.get_context();f?(this.being_trained=!0,this.set_frontside_conditions(f.copy(!0)),$("*").css({cursor:"url("+c.UTILITIES.absolute_file_path("images/RB19.32x32.PNG")+"), default"}),this.get_frontside_element().title=this.get_title(),f=this.get_backside_element(),$(f).find(".toontalk-conditions-panel").remove()):c.UTILITIES.report_internal_error("Robot started training but can't find its 'context'.")};k.training_finished=function(){var f=this.get_body().get_newly_created_widgets(),
d,k;$("*").css({cursor:""});for(d=0;d<f.length;d++)k=f[d],"drop it on top-level"!==k.last_action&&"copy"!==k.last_action||this.add_step(c.robot_action.create(c.newly_created_widgets_path.create(d),"add to the top-level backside"));this.rerender();this.being_trained=!1;this.get_frontside_element().title=this.get_title();this.backup_all()};k.update_display=function(){var f=this.get_frontside(!0),d=this.get_backside(),k=this.get_thing_in_hand(),l,m;c.debugging&&(this.debug_string=this.toString());l=
f.get_element();k&&(m=k.get_frontside_element());!m&&this.carrying_tool&&(m=document.createElement("div"),$(m).addClass(this.carrying_tool));l.title=this.get_title();$(l).addClass("toontalk-robot");$(l).children(".toontalk-side, .toontalk-held-by-robot").remove();m&&l.appendChild(m);"not matched"===this.match_status?$(l).addClass("toontalk-side-animating toontalk-robot-not-matched"):$(l).removeClass("toontalk-robot-not-matched");c.UTILITIES.set_timeout(function(){var c,d,b,f,a;m&&(a={position:"absolute"},
$(m).addClass("toontalk-held-by-robot"),c=$(m).width(),d=$(m).height(),b=$(l).width(),f=$(l).height(),0===c&&(c=2*b,d=f/2,a.width=c,a.height=d),a.left=(b-c)/2,a.top=(f-d)/2,$(m).css(a),k&&k.render())});d&&d.rerender()};k.add_newly_created_widget=function(c){return this.get_body().add_newly_created_widget(c)};k.add_newly_created_widget_if_new=function(c){if(c!==this.get_context())return this.get_body().add_newly_created_widget_if_new(c)};k.get_recently_created_widget=function(){var c=this.get_body().get_newly_created_widgets();
return c[c.length-1]};k.get_title=function(){var c=this.get_description();if(c)return c="This robot "+c,0>c.lastIndexOf(".")&&(c+="."),c+"\n"+this.toString();c=this.get_frontside_element();return $(c).is(".toontalk-top-level-resource")?"Drag this robot to a work area.":this.toString()};k.toString=function(){var f=this.get_frontside_conditions(),d=this.get_body(),k="",l="",m=this.get_next_robot();if(!f)return"has yet to be trained.";f=f.get_full_description();this.being_trained&&(k="is being trained.\n",
l="\n...");f=c.UTILITIES.add_a_or_an(f);d=k+"When working on something that matches "+f+" he will \n"+d.toString()+l;"not matched"===this.match_status&&(d="He isn't running because his conditions don't match. Click to edit his conditions.\n"+d);m&&(d+="\nIf it doesn't match then the next robot will try to run.\n"+m.toString());return d};k.get_type_name=function(){return"robot"};k.get_help_URL=function(){return"docs/manual/robots.html"};k.get_json=function(f){var d=this.get_frontside_conditions(),
k=this.get_backside_conditions(),l,m,r;d&&(l=d.is_of_type("top-level")?{type:"top_level"}:c.UTILITIES.get_json(d,f));k&&c.UTILITIES.available_types.forEach(function(d){k[d]&&(m||(m={}),m[d]=c.UTILITIES.get_json(k[d],f))});this.get_next_robot()&&(r=c.UTILITIES.get_json(this.get_next_robot(),f));return{type:"robot",frontside_conditions:l,backside_conditions:m,body:this.get_body().get_json(f),run_once:this.get_run_once(),next_robot:r}};c.creators_from_json.robot=function(f,d){var k,l,m;f.thing_in_hand&&
(l=c.UTILITIES.create_from_json(f.thing_in_hand,d));f.next_robot&&(k=c.UTILITIES.create_from_json(f.next_robot,d));f.backside_conditions&&(m={},c.UTILITIES.available_types.forEach(function(l){m[l]=c.UTILITIES.create_from_json(f.backside_conditions[l],d)}));return c.robot.create(c.UTILITIES.create_from_json(f.frontside_conditions||f.bubble,d),m,c.UTILITIES.create_from_json(f.body,d),f.description,l,f.run_once,k)};return k}(window.TOONTALK);
window.TOONTALK.robot_backside=function(c){var k=function(d,f,l,m){d=c.UTILITIES.create_text_element(d);var k=f.get_frontside_element(!0),h=document.createElement("div");$(k).addClass("toontalk-conditions-contents "+m);c.UTILITIES.set_timeout(function(){$(k).parent().addClass("toontalk-conditions-contents-container");$(k).css({left:"inherit",width:"inherit",height:"inherit"});f.render()});"not matched"===l.match_status?$(k).addClass("toontalk-conditions-not-matched"):$(k).removeClass("toontalk-conditions-not-matched");
h.appendChild(k);l=c.UTILITIES.create_horizontal_table(d,h);$(l).addClass("toontalk-conditions-panel");return l},f=function(d,f){var l=f.get_frontside_conditions(),m=f.get_backside_conditions(),r,h;l&&0===$(d).find(".toontalk-frontside-conditions-area").length&&(d.insertBefore(k("Runs only if the widget matches: ",l,f,"toontalk-frontside-conditions-area"),d.firstChild),l.set_visible(!0),l.render());m&&Object.keys(m).forEach(function(b){if(r=m[b])h="toontalk-backside-"+b+"-conditions-area",0===$(d).find("."+
h).length&&(b="bird"===b?c.UTILITIES.create_text_element("And there is a bird on the back."):k("Runs only if the "+b+" on the backside matches: ",r,f,h),d.insertBefore(b,d.firstChild.nextSibling),r.set_visible(!0),r.render())})};return{create:function(d){var k=c.backside.create(d),l=k.get_element(),m=c.UTILITIES.create_check_box(!d.get_run_once(),"toontalk-run-once-check-box","When finished start again","Check this if you want the robot to start over again after finishing what he was trained to do."),
r=c.UTILITIES.create_drop_area(window.TOONTALK.robot.empty_drop_area_instructions),h=d.get_next_robot(),b=c.backside.create_advanced_settings_button(k,d),n=k.update_display;r.data("drop_area_owner",d);$(m.button).click(function(a){var b=m.button.checked;d.set_run_once(!b);c.robot.in_training&&c.robot.in_training.edited(d,{setter_name:"set_run_once",argument_1:!b,toString:"change to "+(b?"run again":"run once")+" of the robot",button_selector:".toontalk-run-once-check-box"});a.stopPropagation()});
h&&r.append(h.get_frontside_element(!0));r.get(0).addEventListener("drop",function(a){a=c.UTILITIES.get_dragee();(a=c.UTILITIES.widget_from_jquery(a))&&a.is_of_type("robot")&&(a=a.open_backside(),$(a.get_element()).find(".toontalk-train-backside-button").click())});k.update_display=function(){var a=d.get_frontside_element();a&&(a.title=d.get_title());n()};l.appendChild(this.create_train_button(k,d));l.appendChild(b);$(m.container).addClass("toontalk-advanced-setting");r.addClass("toontalk-advanced-setting");
l.appendChild(m.container);l.appendChild(r.get(0));f(l,d);k.add_advanced_settings();return k},create_train_button:function(d,k){var l=d.get_element();$(l);var m=$("<button>Train</button>").button();m.addClass("toontalk-train-backside-button");var r=!1,h=function(){r?(m.button("option","label","Stop training"),m.attr("title","Click to stop training this robot.")):k.get_body().is_empty()?(m.button("option","label","Train"),m.attr("title","Click to start training this robot.")):(m.button("option","label",
"Re-train"),m.attr("title","Click to start training this robot all over again."));$(l).is(":visible")&&f(l,k)};h();m.click(function(b){r=!r;h();r?(k.get_body().reset_steps(),c.robot.in_training=k,k.training_started()):(k.training_finished(),c.robot.in_training=null);b.stopPropagation()});return m.get(0)}}}(window.TOONTALK);window.TOONTALK.robot.empty_drop_area_instructions="Drop a robot here who will try to run when this robot can't run.";(function(){var c=function(c){return"rotate"===c||"skewX"===c||"skewY"===c||"transform-origin-x"===c||"transform-origin-y"===c};window.TOONTALK.element=function(k){var f=["left","top","width","height"],d=Object.create(k.widget),q=function(c,d){var f,h;"number"===typeof c&&(h=c);0===c.length&&(h=0);if("undefined"===typeof h&&(f=c.substring(c.length-1),0<="0123456789x".indexOf(f)&&(h=parseFloat(c),isNaN(h))))return;f=h;0<=["rotate","skewX","skewY"].indexOf(d)&&(f%=360,0>f&&(f+=360));return f};d.create=
function(f,m,q,h){var b=Object.create(d),n=b.drag_started,a={},e={},g,u,w,B;m||(m=[]);b.get_HTML=function(){return f};b.get_text=function(){return this.get_frontside_element().innerText};b.set_HTML=function(a){var b=this.get_frontside_element();if(!b||f===a)return!1;f=a;$(b).children(":not(.ui-resizable-handle)").remove();this.rerender();return!0};b.set_text=function(a){var b=this.get_frontside_element(),c=function(b){$(b).contents().each(function(){this.nodeType==Node.TEXT_NODE?(this.textContent=
a,a=""):c(this,a)})};if(!b||a===b.textContent)return!1;c(b);return this.set_HTML(b.innerHTML)};b.get_style_attributes=function(){return m};b.set_style_attributes=function(a){m=a};b.get_attribute_widgets=function(){return a};b.get_original_copies=function(){return e};b.get_pending_css=function(){return g};b.get_transform_css=function(){return u};b.add_to_css=function(a,b){c(a)?(u||(u={}),u[a]=b):(g||(g={}),g[a]=b)};b.apply_css=function(){var a,b,c;if(g||u)if(a=this.get_frontside_element())if($(a).is(":visible")){if(u){u.rotate&&
(c="rotate("+u.rotate+"deg)");u.skewX&&(c||(c=""),c+="skewX("+u.skewX+"deg)");u.skewY&&(c||(c=""),c+="skewY("+u.skewY+"deg)");if(u["transform-origin-x"]||u["transform-origin-y"])g||(g={}),g["transform-origin"]=(u["transform-origin-x"]||0)+" "+(u["transform-origin-y"]||0);c&&(g||(g={}),g["-webkit-transform"]=c,g["-moz-transform"]=c,g["-ms-transform"]=c,g["o-transform"]=c,g.transform=c)}k.UTILITIES.set_timeout(function(){g&&(g.width&&"undefined"===typeof g.height?g.height=a.clientHeight:g.height&&"undefined"===
typeof g.width&&(g.width=a.clientWidth),$(a).css(g),B&&(g.width||g.height)&&(b={},b.width=g.width,b.height=g.height,B.css(b)),g=void 0)})}else k.UTILITIES.set_timeout(function(){this.apply_css()}.bind(this),100)};b.on_update_display=function(a){w?w.push(a):w=[a]};b.fire_on_update_display_handlers=function(){w&&k.UTILITIES.set_timeout(function(){w.forEach(function(a,b){a()||w.splice(b,1)})})};b.get_image_element=function(){return B};b.set_image_element=function(a,b){B=$(a).find("img");0===B.length?
B=void 0:($(b).width(B.width()),$(b).height(B.height()))};b.get_additional_classes=function(){return h};b.set_additional_classes=function(a){h=a};b=b.add_standard_widget_functionality(b);b.drag_started=function(a,b){this.drag_x_offset=a.view.drag_x_offset;this.drag_y_offset=a.view.drag_y_offset;n.call(this,a,b)};b.set_description(q);k.debugging&&(b.debug_string=b.toString(),b.debug_id=k.UTILITIES.generate_unique_id());return b};d.copy=function(c){var f=d.create(this.get_HTML(),this.get_style_attributes().slice(),
this.get_description());return this.add_to_copy(f,c)};d.match=function(c){return this.get_erased&&this.get_erased()?c.match_with_any_element?c.match_with_any_element():"not matched":c.match_with_another_element_widget?c.match_with_another_element_widget(this):"not matched"};d.match_with_any_element=function(){return"matched"};d.match_with_another_element_widget=function(c){return this.get_HTML()===c.get_HTML()?"matched":"not matched"};d.compare_with=function(c){if(c.compare_with_other_element)return c.compare_with_other_element(this)};
d.compare_with_other_element=function(c){c=c.get_HTML().localeCompare(this.get_HTML());return 0>c?-1:0<c?1:c};d.create_backside=function(){return k.element_backside.create(this)};d.get_attribute=function(c){var d=this.get_pending_css(),f;if(d&&d[c]||(d=this.get_transform_css())&&d[c])return d[c];d=this.get_frontside_element();f=d.style[c];""===f&&(f=$(d).css(c));return f?"number"===typeof f?f:f.replace("px",""):0};d.set_attribute=function(c,d,f,h){var b,n;if(!this.get_frontside(!0).get_element())return!1;
b=this.get_attribute(c);if(b===d)return!1;n=q(d,c);if("number"===typeof n){if(b==n)return;d=n}f&&k.robot.in_training&&k.robot.in_training.edited(this,{setter_name:"set_attribute",argument_1:c,argument_2:d,toString:"change the '"+c+"' style to "+d+" of",button_selector:".toontalk-element-"+c+"-attribute-input"});this.add_to_css(c,d);h&&(d=this.get_style_attributes(),0>d.indexOf(c)&&d.push(c));this.rerender();return!0};d.dropped_on_style_attribute=function(c,d,f,h){var b,n,a;if(c){b=c.toString();if(c.is_of_type("number")){n=
this.get_attribute(d);if("number"===typeof n)a=n;else if("auto"===n)switch(d){case "left":a=$(this.get_frontside_element()).offset().left;break;case "top":a=$(this.get_frontside_element()).offset().top;break;default:a=0}else a=parseFloat(n);n=c.to_float();switch(b.substring(0,1)){case "-":b=a-n;break;case "*":b=a*n;break;case "/":b=a/n;break;case "^":b=Math.pow(a,n);break;default:b=a+n}this.set_attribute(d,b,!1);(f||h&&h.visible())&&this.get_backside().render()}c.get_infinite_stack()||c.remove();
k.robot.in_training&&k.robot.in_training.dropped_on(c,this.create_attribute_widget(d))}};d.get_attribute_widget=function(c){var d=this.get_attribute_widgets()[c];d||(d=this.create_attribute_widget(c),this.get_attribute_widgets()[c]=d);return d};d.create_attribute_widget=function(c){var d=".toontalk-element-"+c+"-attribute-input",q=this.get_backside_element(),h=this.get_attribute(c),b=this,n=function(b){var d=a.get_attribute_owner(),e;b.currentTarget.toontalk_widget===d&&(e=$(d.get_frontside_element()).closest(".toontalk-top-level-backside").offset(),
e||(console.log("Unable to find top-level backside of an element for its position. Perhaps is 'visible' but not attached."),e={left:0,top:0}),b="left"===c?b.pageX-e.left-d.drag_x_offset:b.pageY-e.top-d.drag_y_offset,a.set_value_from_decimal(b),g.call(a))}.bind(this),a,e,g,u;q&&(d=$(q).find(d),0<d.length&&(d.get(0).toontalk_widget=this));a=k.number.create(0,1);a.element_widget=this;a.set_value_from_decimal(h);a.set_format("decimal");a.attribute=c;a.get_type_name=function(){return"element attribute"};
u=a.toString;a.toString=function(){return u.call(this)+" ("+this.attribute+")"};e=a.equals;a.equals=function(a){return c===a.attribute?this.equals(a.element_widget):e.call(this,a)};(h=this.get_original_copies()[c])?h.push(a):this.get_original_copies()[c]=[a];a.set_value=function(a){var d=b.get_original_copies()[c],e;this.get_attribute_owner().set_attribute(this.attribute,bigrat.toDecimal(a))&&d.forEach(function(b,c){e=b.set_value_from_sub_classes(a)});return e};g=a.update_display;a.update_display=
function(){var b;this.get_erased()||(b=this.get_attribute_owner().get_attribute(this.attribute),a.set_value_from_decimal(b));g.call(this)};0<=f.indexOf(c)&&(this.on_update_display(function(){a.update_display();return!0}),"left"===c||"top"===c)&&(h=this.get_frontside_element(),h.addEventListener("drag",n));a.copy=function(a){return a?k.number.copy.call(this,a):this.add_to_copy(b.create_attribute_widget(c),a)};a.get_json=function(a){return{type:"attribute_number",attribute_name:c,element:k.UTILITIES.get_json(b,
a)}};a.get_original_attribute_widget=function(){return b.get_original_copies()[c][0]};a.get_attribute_owner=function(){var a=function(b){if(b=b.get_parent_of_frontside())return b.is_backside()?b:a(b.get_widget())},c=this.get_original_attribute_widget();if(c!==this)return c.get_attribute_owner();var d,c=a(this);if(!c||!c.is_of_type("element"))return b;c=c.get_widget();for(d=c.get_parent_of_backside();d&&d.is_of_type("element");)c=d.get_widget(),d=c.get_parent_of_backside();return c};return a};k.creators_from_json.attribute_number=
function(c,d){return k.UTILITIES.create_from_json(c.element,d).create_attribute_widget(c.attribute_name)};d.update_display=function(){var c=this.get_frontside_element();this.get_backside();var d,f;this.being_dragged||(this.get_erased&&this.get_erased()?$(c).css({opacity:0}):(this.get_erased&&"0"===$(c).css("opacity")&&$(c).css({opacity:1}),c.children.length===$(c).children(".ui-resizable-handle").length&&(d=document.createElement("div"),d.innerHTML=this.get_HTML(),c.appendChild(d),this.set_image_element(d,
c),$(c).addClass("toontalk-element-frontside"),"<"!==d.innerHTML.substring(0,1)&&((f=this.get_additional_classes())&&$(d).addClass(f),$(c).addClass("ui-widget toontalk-plain-text-element"))),k.UTILITIES.on_a_nest_in_a_box(c)&&(this.set_attribute("width",$(c).closest(".toontalk-box-hole").width(),!1),this.set_attribute("height",$(c).closest(".toontalk-box-hole").height(),!1)),this.apply_css(),this.fire_on_update_display_handlers()))};d.toString=function(){var c="element whose HTML is '"+k.UTILITIES.maximum_string_length(this.get_HTML(),
40)+"'";k.debugging&&(c+=" ("+this.debug_id+")");return c};d.get_type_name=function(){return"element"};d.get_help_URL=function(){return"docs/manual/elements.html"};d.get_json=function(c){var d=this.get_style_attributes(),f=[],h=k.UTILITIES.remove_z_index(this.get_HTML()),b=encodeURIComponent(h);0===h.indexOf("<img src='data:image/")?(c.shared_html||(c.shared_html=[]),h=c.shared_html.indexOf(b),0>h&&(h=c.shared_html.push(b)-1),c={shared_html_index:h}):c=b;d.forEach(function(b){f.push(b)});return{type:"element",
html:c,attributes:f,attribute_values:f.map(this.get_attribute.bind(this)),additional_classes:this.get_additional_classes()}};k.creators_from_json.element=function(c,f){var k=decodeURIComponent("string"===typeof c.html?c.html:f.shared_html[c.html.shared_html_index]),h=d.create(k,c.attributes,c.description),b;b=f&&f.event?["left","top"]:[];c.attribute_values.forEach(function(d,a){var e=c.attributes[a];0>b.indexOf(e)&&h.add_to_css(e,q(d)||d)});c.additional_classes&&h.set_additional_classes(c.additional_classes);
return h};d.create_attribute_path=function(c,d){var f=k.path.get_path_to(c.element_widget,d);return this.extend_attribute_path(f,c.attribute)};d.extend_attribute_path=function(c,d){return{dereference:function(f,h,b){return c.dereference(h||f,void 0,b).get_attribute_widget(d)},toString:function(){return"the '"+d+"' property of "+c},get_json:function(){return{type:"path_to_style_attribute",attribute:d,element_widget_path:c.get_json()}}}};k.creators_from_json.path_to_style_attribute=function(c){var f=
k.UTILITIES.create_from_json(c.element_widget_path);return d.extend_attribute_path(f,c.attribute)};d.get_size_attributes=function(){return{width:this.get_attribute("width"),height:this.get_attribute("height")}};d.set_size_attributes=function(c,d){this.set_attribute("width",c);this.set_attribute("height",d)};d.set_location_attributes=function(c,d){this.set_attribute("left",c);this.set_attribute("top",d)};return d}(window.TOONTALK);window.TOONTALK.element_backside=function(k){var f=function(l,m,q){var h=
function(a){var b=m.get_style_attributes();0>b.indexOf(a)&&(b.push(a),"left"===a?(a=m.get_frontside_element(),$(a).on("drag",function(a){var b=m.get_backside_element(),c=m.get_frontside_element();b&&c&&$(b).find(".toontalk-element-left-attribute-input").val(a.originalEvent.clientX)})):"top"===a&&(a=m.get_frontside_element(),$(a).on("drag",function(a){var b=m.get_backside_element(),c=m.get_frontside_element();b&&c&&$(b).find(".toontalk-element-top-attribute-input").val(a.originalEvent.clientY)})))},
b=function(a,b){var g=0<=m.get_style_attributes().indexOf(a),n=k.UTILITIES.create_check_box(g,"toontalk-style-attribute-check-box",a+"&nbsp;","Click to add or remove the '"+a+"' style attribute from the backside of this element."),g=k.UTILITIES.create_anchor_element("i",("transform-origin-x"===a||"transform-origin-y"===a?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin#":c(a)?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform#":"http://www.w3.org/community/webed/wiki/CSS/Properties/")+
a),w=document.createElement("li");$(g).addClass("toontalk-help-button toontalk-attribute-help-button");$(g).css({color:"white"});n.container.appendChild(g);n.button.addEventListener("click",function(b){if(n.button.checked)h(a);else{b=m.get_style_attributes();var c=b.indexOf(a);0<=c&&(b.splice(c,1),f(l,m,q))}d(q,m,m.get_backside())});w.appendChild(n.container);b.appendChild(w)},n=function(a,c){var d,f;"string"===typeof a?b(a,c):a.label?(d=document.createElement("h3"),d.textContent=a.label,f=document.createElement("ul"),
c.appendChild(d),c.appendChild(f),n(a.sub_menus,f)):a.forEach(function(a){n(a,c)})};$(l).is(".ui-accordion")&&$(l).accordion("destroy");$(l).empty();n([{label:"Geometry attributes",sub_menus:"left top width height z-index background-position".split(" ")},{label:"Color attributes",sub_menus:["background-color","color","opacity"]},{label:"Font attributes",sub_menus:["font-size","font-weight"]},{label:"Visibility",sub_menus:["display","visibility"]},{label:"Transformations",sub_menus:["rotate","skewX",
"skewY","transform-origin-x","transform-origin-y"]}],l);$(l).accordion({active:0,heightStyle:"content"});return l},d=function(c,d,f){var h=d.get_style_attributes();d.get_frontside_element();$(c).empty();h.forEach(function(b){d.get_attribute(b);var h=document.createElement("tr"),a=document.createElement("td"),e=d.get_attribute_widget(b),g=e.get_frontside_element();e.set_parent_of_frontside(f,!1,!0);e.set_infinite_stack(!0);c.appendChild(h);h.appendChild(a);a.appendChild(k.UTILITIES.create_text_element(b));
a=document.createElement("td");h.appendChild(a);e.set_visible(!0);$(g).addClass("toontalk-element-attribute");a.appendChild(g);e.render()})},q=function(c){var d=$("<button>Add or remove style attributes</button>").button();d.addClass("toontalk-show-attributes-chooser-button");d.click(function(f){$(c).is(":visible")?($(c).hide(),d.button("option","label","Add or remove style attributes"),d.attr("title","Click to add widgets for reading and writing style attributes of this element.")):($(c).show(),
d.button("option","label","Hide style attributes list"),d.attr("title","Click to hide the list of attributes that can be added or removed."))});d.attr("title","Click to add widgets for reading and writing style attributes of this element.");return d.get(0)};return{create:function(c){var m=k.backside.create(c),r=m.get_element();c.get_HTML();var h=document.createElement("table"),b=document.createElement("div"),n=q(b),a=k.backside.create_advanced_settings_button(m,c),e=k.UTILITIES.get_current_url_boolean_parameter("elementHTML",
!1),g=e?"get_HTML":"get_text",u=m.update_display,w,B;c.update_display();w=c[g]().trim();0<w.length&&(B=k.UTILITIES.create_text_area(w,"toontalk-html-input","","Type here to edit the text."),w=function(a){a=B.button.value.trim();c.get_frontside_element();var b=e?"set_HTML":"set_text";c[b](a)&&k.robot.in_training&&k.robot.in_training.edited(c,{setter_name:b,argument_1:a,toString:"change the text to "+a+" of",button_selector:".toontalk-html-input"})},$(B.container).resizable(),$(B.container).css({width:"100%"}),
$(B.button).css({width:"100%"}),B.button.addEventListener("change",w),B.button.addEventListener("mouseout",w),r.appendChild(B.container));m.get_attributes_chooser=function(){return b};f(b,c,h);d(h,c,m);r.appendChild(b);r.appendChild(n);r.appendChild(h);r.appendChild(a);$(b).hide();$(b).addClass("toontalk-attributes-chooser");m.update_display=function(){B&&$(B.button).val(c[g]());d(h,c,m);$(b).is(":visible")&&f(b,c,h);u()};$(r).find(".toontalk-hide-backside-button").click(function(a){$(b).hide()});
m.add_advanced_settings();return m}}}(window.TOONTALK)})();window.TOONTALK.sensor=function(c){var k=Object.create(c.widget),f=function(c,f){"element"===c.get_type_name()&&(c.set_attribute("font-size",.5*$(f.get_frontside_element(!0)).height(),!1,!0),c.set_additional_classes("toontalk-string-value-from-sensor"),f.visible()&&c.rerender())};k.create=function(d,q,l,m,r,h){var b=c.nest.create(l,m,void 0,"sensor"),n=b.get_json,a=b.update_display,e=b.copy,g=function(a){var d=a[q],e=b.visible(),g=$(b.get_frontside_element()).closest(".toontalk-top-level-backside"),
h;if("keyCode"===q){if(16===d)return;d=String.fromCharCode(d);a.shiftKey||(d=d.toLowerCase())}switch(typeof d){case "number":h=c.number.create(Math.round(d),1);break;case "string":h=c.element.create(d,void 0,void 0,"toontalk-string-value-from-sensor");f(h,b);break;case "boolean":h=c.element.create(d.toString(),void 0,void 0,"toontalk-string-value-from-sensor");f(h,b);break;case "undefined":c.UTILITIES.report_internal_error("No "+q+" in sensor "+k);return}e?(a=c.bird.create(),b.add_to_top_level_backside(a),
a.animate_delivery_to(h,b,b,g.width()/2,g.height())):b.add_to_contents(h)}.bind(this);b.copy=function(a){var g;if(a&&this.has_contents())return e.call(this,!0);g=c.sensor.create(d,q,l,void 0,r,a?void 0:h);return b.add_to_copy(g,a)};b.get_json=function(a){var b=n.call(this,a);b.type="sensor";b.event_name=d;b.attribute=q;b.active=r;b.sensor_of=h&&c.UTILITIES.get_json(h,a);return b};b.update_display=function(){var b=$(this.get_frontside_element());a.call(this);r||b.is(".toontalk-top-level-resource")?
(b.addClass("toontalk-sensor-nest"),b.removeClass("toontalk-sensor-inactive-nest")):(b.addClass("toontalk-sensor-inactive-nest"),b.removeClass("toontalk-sensor-nest"));b.removeClass("toontalk-empty-nest")};b.get_type_name=function(){return"sensor"};b.get_help_URL=function(){return"docs/manual/sensors.html"};b.toString=function(){return"a sensor of "+q+" for "+d+" sensors"};b.get_active=function(){return r};b.set_active=function(a,b){if(r!==a||b)a?h?h.get_frontside_element().addEventListener(d,g):
window.addEventListener(d,g):h?h.get_frontside_element().removeEventListener(d,g):window.removeEventListener(d,g),r=a};b.set_active(r,!0);b.create_backside=function(){return c.sensor_backside.create(this)};b.get_event_name=function(){return d};b.set_event_name=function(a){var b=r;d&&r&&this.set_active(!1);d=a;b&&this.set_active(!0)};b.get_attribute=function(){return q};b.set_attribute=function(a){q=a};b.match=function(a){return"not matched"};b.set_sensor_of=function(a){h=a};return b};c.creators_from_json.sensor=
function(d,k){var l=c.UTILITIES.create_array_from_json(d.contents,k),m=c.sensor.create(d.event_name,d.attribute,d.description,l,!1);d.sensor_of?c.UTILITIES.set_timeout(function(){m.set_sensor_of(c.UTILITIES.create_from_json(d.sensor_of,k));m.set_active(d.active)}):m.set_active(d.active);0<l.length&&setTimeout(function(){l.forEach(function(c){f(c.get_widget(),m)})},500);return m};return k}(window.TOONTALK);
window.TOONTALK.sensor_backside=function(c){return{create:function(k){var f=c.UTILITIES.create_text_input(k.get_event_name(),"toontalk-sensor-event-name-input","Event name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;","Type here the event name.","https://developer.mozilla.org/en-US/docs/Web/Events/"+k.get_event_name()),d=c.UTILITIES.create_text_input(k.get_attribute(),"toontalk-sensor-event-attribute-input","Event attribute","Type here the event attribute name.","https://developer.mozilla.org/en/docs/Web/API/Event"),
q=c.UTILITIES.create_check_box(k.get_active(),"toontalk-sensor-active-check-box","Listening to events","Check the box if you want to make this sensor active."),l=c.nest_backside.create(k),m=l.get_element(),r=$(m).find(".toontalk-settings-backside-button").get(0);f.button.addEventListener("change",function(){k.set_event_name(f.button.value.trim())});d.button.addEventListener("change",function(){k.set_attribute(d.button.value.trim())});$(q.button).click(function(d){var b=q.button.checked;k.set_active(b);
c.robot.in_training&&c.robot.in_training.edited(robot,{setter_name:"set_active",argument_1:b,toString:"change to "+(b?"active":"inactive")+" of the "+k,button_selector:".toontalk-sensor-active-check-box"});k.render();d.stopPropagation()});m.insertBefore(f.container,r);m.insertBefore(d.container,r);m.insertBefore(q.container,r);return l}}}(window.TOONTALK);window.TOONTALK.tool=function(c){return{add_listeners:function(k,f){var d,q,l,m,r,h=function(a){var b=n(a),d;a.preventDefault();var f=0,h=0;20>a.clientX?f=-20:a.clientX+20>window.innerWidth&&(f=20);20>a.clientY?h=-20:a.clientY+20>window.innerHeight&&(h=20);window.scrollBy(f,h);k.style.left=a.pageX-f-q+"px";k.style.top=a.pageY-h-l+"px";if(b&&b.is_of_type("top-level"))r&&(c.UTILITIES.remove_highlight(),r=void 0);else{if(b&&(d=b.get_frontside_element(),d===r))return;r=d;c.UTILITIES.highlight_element(r)}},
b=function(a){var e=n(a),g;a.preventDefault();r&&c.UTILITIES.remove_highlight();e&&e.add_copy_to_container&&(g=e.top_level_widget(),f.apply_tool(e,a),g.backup_all());!e&&f.nothing_under_tool&&f.nothing_under_tool();$(k).removeClass("toontalk-tool-held");$(k).addClass("toontalk-tool-returning");c.UTILITIES.add_one_shot_event_handler(k,"transitionend",1E3,function(){$(k).removeClass("toontalk-tool-returning")});c.UTILITIES.set_timeout(function(){k.style.left=d.left+"px";k.style.top=d.top+"px"});document.removeEventListener("mousemove",
h);document.removeEventListener("mouseup",b)},n=function(a){var b;$(k).hide();a=document.elementFromPoint(a.pageX-(window.pageXOffset+q),a.pageY-(window.pageYOffset+l)+m/2);for($(k).show();a&&!a.toontalk_widget&&(!$(a).is(".toontalk-backside")||$(a).is(".toontalk-top-level-backside"));)a=a.parentNode;a&&(b=a.toontalk_widget);if(b)return a=b.get_type_name(),b&&"empty hole"===a?b.get_parent_of_frontside():b};k.addEventListener("mousedown",function(a){var c=k.getBoundingClientRect();q=a.clientX-c.left;
l=a.clientY-c.top;m=c.height;a.preventDefault();$(k).addClass("toontalk-tool-held");d=$(k).offset();document.addEventListener("mousemove",h);document.addEventListener("mouseup",b)})}}}(window.TOONTALK);window.TOONTALK.vacuum=function(c){var k=Object.create(null),f={suck:"Drag this vacuum over the thing you want to remove. Click or type 'e' to switch to erasing. Type 'r' to restore previously removed or erased things.",erase:"Drag this vacuum over the thing you want to erase (or un-erase). Type 's' to switch to sucking. Click or type 'r' to restore contents.",restore:"Drag this over the work area. Each time you release it a widget is restored. Click or type 's' to switch to sucking. Type 'e' to switch to erasing."},
d={suck:"toontalk-vacuum-s",erase:"toontalk-vacuum-e",restore:"toontalk-vacuum-r"},q={suck:"erase",erase:"restore",restore:"suck"};k.create=function(){var k,m,r,h=[],b=function(a){m!==a&&(m=a,$(k).removeClass(r),r=d[m],$(k).addClass(r),n())},n=function(){k.title="restore"===m&&0===h.length?"The vacuum is empty. Type 'r' to switch to removing. Type 'e' to switch to erasing.":f[m]};return{apply_tool:function(a,b){var d,f;"suck"===m?a.remove&&"top-level"!==a.get_type_name()&&(c.robot.in_training&&c.robot.in_training.removed(a),
a.remove(b),h.push(a)):"erase"===m?"top-level"!==a.get_type_name()&&(a.get_frontside_element(),d=!a.get_erased(),a.set_erased(d,!0),c.robot.in_training&&c.robot.in_training.set_erased(a,d)):"restore"===m&&0<h.length&&(d=h.pop(),f=a.add_to_top_level_backside(d,!0),d=$(k).offset(),d.left-=$(f).width(),c.UTILITIES.set_absolute_position($(f),d))},nothing_under_tool:function(){b(q[m])},get_element:function(){k||(k=document.createElement("div"),$(k).addClass("toontalk-vacuum"),c.tool.add_listeners(k,this),
b("suck"),document.addEventListener("keyup",function(a){a=String.fromCharCode(a.keyCode);"s"===a||"S"===a?b("suck"):"e"===a||"E"===a?b("erase"):"r"!==a&&"R"!==a||b("restore")}),n());return k}}};c.creators_from_json.vacuum=function(d,f){var k=c.vacuum.create();d.mode&&c.UTILITIES.set_timeout(function(){k.set_mode(d.mode)});return k};return k}(window.TOONTALK);window.TOONTALK.wand=function(c){var k=Object.create(null);k.create=function(){var f;return{apply_tool:function(c){"top-level"!==c.get_type_name()&&c.add_copy_to_container()},get_element:function(){f||(f=document.createElement("div"),$(f).addClass("toontalk-wand"),f.title="Drag this magic wand over the thing you want to copy.",c.tool.add_listeners(f,this));return f}}};c.creators_from_json.wand=function(){return c.wand.create()};return k}(window.TOONTALK);window.TOONTALK.SETTINGS=function(c){var k=function(k,l,h){var b=[],n=[],a=l?1:0,e=c.UTILITIES.create_local_files_table(k);b[a]="Programs stored in browser";d(k,e,!1,h);n[a]=e;l?(f("program",k,h,function(a){b[0]="Programs in cloud";n[0]=a||c.UTILITIES.create_text_element("Error connecting");n[2]&&h.appendChild(c.UTILITIES.create_tabs(b,n))}),f("page",k,h,function(a){b[2]="Published pages";n[2]=a||c.UTILITIES.create_text_element("Error connecting");n[0]&&h.appendChild(c.UTILITIES.create_tabs(b,n))})):
h.appendChild(c.UTILITIES.create_tabs(b,n))},f=function(f,k,h,b){c.google_drive.get_toontalk_files(!1,f,function(l){var a;"string"===typeof l?a=l:l.error&&(a=l.error.message);a?(console.log(a),console.log("Google drive status: "+c.google_drive.get_status()),b(null)):(a="program"===f?"toontalk-file-load-button":"toontalk-published-page-button",l=c.UTILITIES.create_file_data_table(l.items,!0,a),d(k,l,!0,h),b(l))})},d=function(c,d,f,b){$(d).find(".toontalk-file-load-button").click(function(d){var a=
function(){$(b).remove()},e=function(){c.set_setting("program_name",d.target.innerText);c.load(f,a)}.bind(this);c.save(!0,void 0,e)});$(d).find(".toontalk-published-page-button").click(function(b){q(this.title,this.id)})},q=function(c,d){var f=window.open(c,"published page editor");l(function(){f.postMessage({save_edits_to:window.location.href,file_id:d},"*")},d)},l=function(c,d){var f=function(a){a.data.editor_enabled_for&&a.data.editor_enabled_for===d&&(k=!0,window.removeEventListener("message",
f))},b=function(a,c){k||setTimeout(function(){a();b(a,c)},500)},k=!1;window.addEventListener("message",f);b(c,d)};return{open:function(d){var f=document.createElement("div"),h=d.get_backside_element(),b=d.get_setting("program_name"),l=c.UTILITIES.create_text_input(b,"toontalk-program-name-input","Current program name:","Edit this to change the name of your program","docs/manual/settings.html"),a=c.UTILITIES.create_close_button(function(){$(f).remove()},"Click to close the settings panel."),e=c.UTILITIES.create_text_element("How should your program be saved?"),
g=c.UTILITIES.create_check_box(d.get_setting("auto_save_to_google_drive"),"toontalk-save-setting","Save automatically to my Google Drive","Check this if you want your programs automatically saved to a 'ToonTalk Programs' folder in your Google Drive."),u=c.UTILITIES.create_check_box(d.get_setting("auto_save_to_local_storage"),"toontalk-save-setting","Save automatically to this browser's local storage","Check this if you want your programs automatically saved in this browser's local storage."),w=c.UTILITIES.create_button("Save to Google Drive now",
"toontalk-save-button","Click to save your program now to your Google Drive account.",function(){d.save(!0,{google_drive:!0})}),B=c.UTILITIES.create_button("Save to browser's storage now","toontalk-save-button","Click to save your program now to this browser's local storage.",function(){d.save(!0,{local_storage:!0})}),v=c.UTILITIES.create_button("Login to Google","toontalk-google-login-button","Click to log in to Google to authorize use of your Google Drive.",function(){c.google_drive.authorize(function(){$(v).remove()})}),
x=c.UTILITIES.create_button("Publish","toontalk-publish-button","Click to publish your program by generating a Google Drive URL.",function(){d.publish(z)}),z=function(a){a=A(a,"Published: ");$(l.container).find("tr").append(c.UTILITIES.create_table_entry(a))},A=function(a,b){var e=document.createElement("span"),g=c.google_drive.google_drive_url(a.id);e.innerHTML=b+"<div class='toontalk-published-page-button'>"+d.get_setting("program_name")+"</div>";e.addEventListener("click",function(b){q(g,a.id)});
return e},E=document.createElement("div"),C=c.google_drive?c.google_drive.get_status():"Google Drive code not loaded",H=!0;$(f).addClass("toontalk-settings-panel").css({width:$(h).width()+29,height:$(h).height()+50,left:-2,top:-25,"z-index":c.UTILITIES.next_z_index()});f.appendChild(a);l.button.addEventListener("change",function(){var a=l.button.value.trim();b!==a&&d.save(!0,void 0,function(){b=a;d.set_setting("program_name",a);d.load(!0,function(){setTimeout(function(){$(f).css({"z-index":c.UTILITIES.next_z_index()})},
500)})})});g.button.addEventListener("click",function(a){d.set_setting("auto_save_to_google_drive",g.button.checked);g.button.checked?$(w).hide():$(w).show()});u.button.addEventListener("click",function(a){d.set_setting("auto_save_to_local_storage",u.button.checked);u.button.checked?$(B).hide():$(B).show()});f.appendChild(E);$(e).css({"font-weight":"bold","font-size":24,color:"navy"});E.appendChild(e);E.appendChild(l.container);E.appendChild(g.container);E.appendChild(u.container);g.container.appendChild(c.UTILITIES.create_space());
g.container.appendChild(w);d.get_setting("auto_save_to_google_drive")&&$(w).hide();u.container.appendChild(c.UTILITIES.create_space());u.container.appendChild(B);d.get_setting("auto_save_to_local_storage")&&$(B).hide();"Need to authorize"===C?(g.container.appendChild(c.UTILITIES.create_space()),g.container.appendChild(v)):"Authorized"!==C&&"Ready"!==C&&"Authorized but not yet ready"!==C&&(H=!1,setTimeout(function(){g.button.disabled=!0;$(x).button("option","disabled",!0);$(w).button("option","disabled",
!0);g.container.title="Inactived because attempt to connect to Google Drive returned: "+C;x.title=g.container.title;w.title=g.container.title},1));$(l.container).find("tr").append(c.UTILITIES.create_table_entry(x));k(d,H,f);h.appendChild(f)}}}(window.TOONTALK);window.TOONTALK.DEFAULT_SETTINGS={program_name:"My first program",auto_save_to_google_drive:!0,auto_save_to_local_storage:!0};window.TOONTALK.DISPLAY_UPDATES=function(c){var k=[],f=0;return{pending_update:function(c){c.update_display&&(0<=k.indexOf(c)||k.push(c))},update_display:function(){var d=k,f=function(c,d){$(c).children().each(function(c,h){$(h).css({"z-index":d+1});f(h,d+1)})};k=[];0!==d.length&&d.forEach(function(d){var k=d.get_frontside_element&&d.get_frontside_element(),r,h,b;d.update_display();r=$(k).parent().closest(".toontalk-side");r.is("*")&&(h=c.UTILITIES.get_style_numeric_property(k,"z-index"),b=c.UTILITIES.get_style_numeric_property(r.get(0),
"z-index"),b||(b=c.UTILITIES.next_z_index(),r.css({"z-index":b})),!h||r.is(".toontalk-top-level-backside")?(h=c.UTILITIES.next_z_index(),$(k).css({"z-index":h})):h>=b&&(h=b+1,$(k).css({"z-index":h})),f(k,h));k&&!$(k).is(".toontalk-top-level-resource, .toontalk-bird, .toontalk-nest, .toontalk-box-hole, .toontalk-plain-text-element, .toontalk-conditions-contents, .toontalk-robot, .toontalk-widget, .toontalk-held-by-robot")&&c.UTILITIES.set_timeout(function(){r.is(".toontalk-box-hole")?$(k).is(".ui-resizable")&&
$(k).resizable("destroy"):$(k).is(".ui-resizable")||c.UTILITIES.make_resizable($(k),d)})})},run_cycle_is_over:function(){var c=Date.now();20<=c-f&&(this.update_display(),f=c)}}}(window.TOONTALK);window.TOONTALK.actions=function(c){c.creators_from_json.body=function(k,f){var d=c.actions.create();f.body=d;d.initialise_steps(c.UTILITIES.create_array_from_json(k.steps,f));return d};return{create:function(k){var f=Object.create(this),d=[];k||(k=[]);f.copy=function(){return c.actions.create(c.UTILITIES.copy_array(k))};f.get_steps=function(){return k};f.initialise_steps=function(c){k=c};f.is_empty=function(){return 0===k.length};f.reset_steps=function(){k=[];this.reset_newly_created_widgets()};
f.reset_newly_created_widgets=function(){d=[]};f.add_step=function(c,d){k.push(c);d&&this.add_newly_created_widget(d)};f.add_newly_created_widget_if_new=function(c){0<=d.indexOf(c)||this.add_newly_created_widget(c)};f.add_newly_created_widget=function(f){c.debugging&&0<=d.indexOf(f)?console.log("add_newly_created_widget called with not new widget."):d.push(f)};f.get_newly_created_widgets=function(){return d};f.get_path_to=function(f,k){var m,r;d.some(function(d,b){if(d===f)return m=c.newly_created_widgets_path.create(b),
!0;if(d.get_path_to&&(r=d.get_path_to(f,k)))return m=c.newly_created_widgets_path.create(b),m.next=r,!0});return m};f.dereference=function(f){c.debugging&&!d[f]&&c.UTILITIES.report_internal_error("Expected to find the "+(f+1)+"th newly created widget.");return d[f]};return f},run_unwatched:function(c,f,d,q,l){var m=this.get_steps();l||(l=0);q.run_next_step=function(){if(l<m.length){var r=m[l];l++;r.run_unwatched(c,f,q)}else q.get_run_once()||q.get_first_in_team().run(c,f,d)};q.run_next_step()},run_watched:function(k,
f,d,q){var l=this.get_steps(),m=q.get_frontside_element(),r=m.parentElement,h=function(){$(m).addClass("toontalk-side-animating");c.UTILITIES.set_position_relative_to_top_level_backside($(m),n);setTimeout(function(){r.appendChild(m);c.UTILITIES.set_absolute_position($(m),n);q.set_animating(!1);q.get_run_once()||q.get_first_in_team().run(k,f,d);q.render()},1E3)},b=0,n=$(m).offset(),a=$(m).position(),e=$(m).width(),g=$(m).height(),u=$(m).closest(".toontalk-backside"),w=u.get(0).getBoundingClientRect(),
B=$(m).closest(".toontalk-top-level-backside").offset(),v=k.get_backside();0===e&&($(m).css({width:"",height:""}),e=$(m).width(),g=$(m).height());B||(console.log("Unable to find top-level backside. Perhaps is 'visible' but not attached."),B={left:0,top:0});if(n.left<w.left-B.left||n.top<w.top-B.top||n.left+e>w.right+B.left||n.top+g>w.bottom+B.top)n=u.offset(),n.left+=u.width()/2,n.top+=u.height()-g;q.start_position=a;q.run_next_step=function(){v&&v.visible()?setTimeout(function(){if(b<l.length){var a=
l[b];b++;a.run_watched(k,f,q);q.get_thing_in_hand()&&(q.get_thing_in_hand().save_dimensions(),q.render())}else h()},500):(q.set_animating(!1),$(m).css({width:"",height:""}),m.style.left=a.left+"px",m.style.top=a.top+"px",r.appendChild(m),this.run_unwatched(k,f,d,q,b))}.bind(this);q.set_animating(!0,n);q.run_next_step();return!0},toString:function(){var c="",f=this.get_steps();f.forEach(function(d,q){c+=d.toString();c=q===f.length-2?c+" and \n":q<f.length-2?c+", \n":c+"."});return c},get_json:function(k){return{type:"body",
steps:c.UTILITIES.get_json_of_array(this.get_steps(),k)}}}}(window.TOONTALK);
window.TOONTALK.newly_created_widgets_path=function(c){c.creators_from_json.newly_created_widgets_path=function(k){return c.newly_created_widgets_path.create(k.index)};return{create:function(k){return{dereference:function(f,d,q){f=q.get_body().dereference(k);return this.next?c.path.dereference_path(this.next,f,d,q):f},toString:function(){var c;switch(k){case 0:c="first";break;case 1:c="second";break;case 2:c="third";break;default:c=k+1+"th"}return"the "+c+" widget he created"},get_json:function(){return{type:"newly_created_widgets_path",
index:k}}}}}}(window.TOONTALK);window.TOONTALK.robot_action=function(c){var k={copy:function(c,b,d,a){a.add_newly_created_widget(c.copy());return!0},"pick up":function(c,b,d,a){a.set_thing_in_hand(c);return!0},"pick up a copy of":function(c,b,d,a){c=c.copy();a.add_newly_created_widget(c);a.set_thing_in_hand(c);return!0},"drop it on":function(d,b,f,a,e){if(d)if(b=a.get_thing_in_hand()){if(b.drop_on)return b.drop_on(d,!1,void 0,a),a.set_thing_in_hand(void 0),d.visible&&d.visible()&&d.render(),b.robot_waiting_before_next_step===a?
(e&&e.running_watched||(b.robot_waiting_before_next_step=void 0),!1):!0;c.UTILITIES.report_internal_error("Thing in robot's hand ("+b+") doesn't handle 'drop_on'. Robot that "+a)}else c.UTILITIES.report_internal_error("The robot that '"+a.toString()+"' is executing drop_on but has nothing in its hand.");else c.UTILITIES.report_internal_error("The robot that '"+a.toString()+"' is executing drop_on but doesn't know where to drop what its holding")},remove:function(c,b,d,a){c.remove();return!0},erased_widget:function(c,
b,d,a,e){c.set_erased(e.erased);return!0},edit:function(d,b,f,a,e){if(d[e.setter_name])return e.argument_2?d[e.setter_name].call(d,e.argument_1,e.argument_2,d.visible()):d[e.setter_name].call(d,e.argument_1,d.visible()),!0;c.UTILITIES.report_internal_error(d+" cannot be edited.")},"add to the top-level backside":function(c,b,d,a,e){a.visible()||(a=c.get_frontside_element(!0),d=$(b.get_frontside_element()).position(),b=$(b.get_frontside_element()).closest(".toontalk-top-level-backside").get(0),$(a).css({left:d.left,
top:d.top}),b.appendChild(a),b.toontalk_widget.add_backside_widget(c),c.animate_to_element(b));return!0}},f=function(c,b,d,a,e){b=a.get_thing_in_hand();a.get_frontside_element();var g=c.get_element();d=$(g).width()/2;g=$(g).height()/2;a.animate_to_widget(c,e,.25,d,g);b&&a.render()},d=function(c,b){var d=c.get_backside_element(!0);return $(d).find(b).get(0)},q=function(c,b,f,a,e,g){var k=d(c,g),l=a.get_frontside_element(),m=k&&$(k).is(":visible"),q=function(){e();$(k).addClass("ui-state-active");setTimeout(function(){$(k).removeClass("ui-state-active");
!m&&c.get_backside()&&c.get_backside().hide_backside();a.run_next_step()},500)};b=function(){a.animate_to_element(k,q,.25,0,-$(l).height())};!m&&c.open_backside?c.open_backside(b):b()},l=function(c,b,d,a,e,g){a.get_frontside_element();a.carrying_tool=g;a.update_display();a.animate_to_element(c.get_frontside_element(),function(){e();a.carrying_tool=void 0;a.update_display();a.run_next_step()},.25,0,0)},m=function(c,b,d,a,e){var g=c.get_parent_of_frontside();l(c,b,d,a,function(){e();g&&"top-level"!==
g.get_widget().get_type_name()&&g.update_display&&g.update_display();c.render()},"toontalk-vacuum-ready-small")},r={copy:function(c,b,d,a,e){l(c,b,d,a,function(){e();c.add_copy_to_container(a.get_recently_created_widget())},"toontalk-wand-small")},"pick up":function(d,b,k,a,e){var g=d.get_frontside_element(),l=function(){e();a.run_next_step()};"empty hole"===d.get_type_name()?c.UTILITIES.report_internal_error("Robot trying to pick up an empty hole."):(d.save_dimensions(),$(g).css({width:g.offsetWidth+
"px",height:g.offsetHeight+"px"}),f(d,b,k,a,l))},"pick up a copy of":function(c,b,d,a,e){f(c,b,d,a,function(){e();a.get_recently_created_widget().set_visible(!0);a.update_display();a.run_next_step()})},"drop it on":function(d,b,k,a,e){var g=a.get_thing_in_hand(),l;g?(l=$(g.get_frontside_element()),f(d,b,k,a,function(){var b=l.offset();l.removeClass("toontalk-held-by-robot");e();g.drop_on&&($(a.get_frontside_element()).closest(".toontalk-top-level-backside").append(l.get(0)),c.UTILITIES.set_absolute_position(l,
b),g.restore_dimensions(),g.robot_waiting_before_next_step===a?g.robot_waiting_before_next_step=void 0:(a.set_thing_in_hand(void 0),a.run_next_step()),a.rerender())})):(c.UTILITIES.report_internal_error("Expected the robot to be holding something."),console.log("The robot is "+a),f(d,b,k,a,e))},remove:m,erased_widget:m,edit:function(c,b,d,a,e,g){q(c,b,d,a,function(){c.get_backside()&&c.get_backside().update_display();e()},g.button_selector)},"add to the top-level backside":function(c,b,d,a,e){e();
a.run_next_step()}};c.creators_from_json.robot_action=function(d,b){return d.additional_info?c.robot_action.create(c.path.create_from_json(d.path,b),d.action_name,d.additional_info):c.robot_action.create(c.path.create_from_json(d.path,b),d.action_name)};return{create:function(d,b,f){var a=Object.create(this),e=k[b],g=r[b];g||(g=function(a,b,c,d,e){setTimeout(function(){continuation(a)},3E3)});d||c.UTILITIES.report_internal_error("path undefined in "+b+" action");e||c.UTILITIES.report_internal_error("no run_function for "+
b);a.run_unwatched=function(a,b,g){var k=c.path.dereference_path(d,a,b,g);if(!k)return c.UTILITIES.report_internal_error("Unable to dereference path: "+c.path.toString(d)+" in context: "+a.toString()),!1;e(k,a,b,g,f)&&g.run_next_step()};a.run_watched=function(a,b,k){var l=c.path.dereference_path(d,a,b,k),m=function(){f||(f={});f.running_watched=!0;e(l,a,b,k,f)};l?(l.set_visible(!0),g(l,a,b,k,m,f)):c.UTILITIES.report_internal_error("Unable to dereference the path: "+c.path.toString(d)+" in context: "+
a.toString())};a.toString=function(){return b+" "+c.path.toString(d)};a.get_json=function(a){return{type:"robot_action",action_name:b,path:c.path.get_json(d,a),additional_info:f}};return a}}}(window.TOONTALK);window.TOONTALK.queue=function(c){return{create:function(){var k=Object.create(this);k.to_run=c.UTILITIES.create_queue();return k},enqueue:function(k){if(c.debugging&&this.to_run.does_any_item_satisfy(function(c){return c.robot===k.robot}))console.log("The same robot is being queued twice."),console.log("Robot is "+k.robot);else return this.to_run.enqueue(k)},maximum_run:50,paused:!1,run:function(){for(var k,f=Date.now()+this.maximum_run;!(this.to_run.isEmpty()||this.paused||Date.now()>=f);)k=this.to_run.dequeue(),
k.robot.run_actions(k.context,k.top_level_context,k.queue);c.DISPLAY_UPDATES.run_cycle_is_over();c.UTILITIES.set_timeout(function(){this.run()}.bind(this),this.to_run.isEmpty()?this.maximum_run:0)}}}(window.TOONTALK);window.TOONTALK.path=function(c){c.creators_from_json["path.to_entire_context"]=function(){return c.path.to_entire_context()};c.creators_from_json["path.top_level_backside"]=function(){return c.path.top_level_backside};c.creators_from_json["path.to_backside_widget_of_context"]=function(k){return c.path.get_path_to_backside_widget_of_context(k.type_name)};c.creators_from_json["path.to_resource"]=function(k,f){return c.path.get_path_to_resource(c.UTILITIES.create_from_json(k.resource,f))};return{get_path_to:function(k,
f){var d=function(d,f){var k=f.get_context(),r=f.get_body(),h,b;if(k===d)return c.path.to_entire_context();b=d.get_type_name();if("top-level"===b)return c.path.top_level_backside;if(h=r.get_path_to(d,f))return h;if("element attribute"===b&&d.get_original_attribute_widget()===d)return c.element.create_attribute_path(d,f);if(k.get_path_to&&(r=k.get_path_to(d,f)))return h=c.path.to_entire_context(),h.next=r,h;k.backside_widgets.some(function(b){b=b.get_widget();var a;if(b===d||b.top_contents_is&&b.top_contents_is(d))return h=
c.path.get_path_to_backside_widget_of_context(b.get_type_name()),f.add_to_backside_conditions(b),!0;if(b.get_path_to&&(a=b.get_path_to(d,f)))return h=c.path.get_path_to_backside_widget_of_context(b.get_type_name()),h.next=a,f.add_to_backside_conditions(b),!0});return h?h:c.path.get_path_to_resource(d.copy())}(k,f);d&&k.dereference_contents&&(c.path.path_end(d).not_to_be_dereferenced=!0);!d||"pick up"!==f.current_action_name&&"remove"!==f.current_action_name||(c.path.path_end(d).removing_widget=!0);
return d},path_end:function(c){for(;c.next;)c=c.next;return c},dereference_path:function(c,f,d,q){return c?c.dereference?c.dereference(f,d,q):f.dereference(c,d,q):f},continue_dereferencing_path:function(c,f,d,q){return c.next?f.dereference_contents&&!c.next.not_to_be_dereferenced?f.dereference_contents(c.next,d,q):f.dereference(c.next,d,q):f.dereference_contents&&!c.not_to_be_dereferenced?f.dereference_contents(c,d,q):f},toString:function(k){return k.next?(c.path.toString(k.next),c.path.toString(k.next)+
"of "+k.toString()):k.toString()},get_json:function(k,f){var d;if(!k.get_json)return k;d=k.get_json(f);k.next&&(d.next_path=c.path.get_json(k.next,f));k.removing_widget&&(d.removing_widget=!0);k.not_to_be_dereferenced&&(d.not_to_be_dereferenced=!0);return d},to_entire_context:function(){return{dereference:function(k,f,d){return c.path.continue_dereferencing_path(this,k,f,d)},toString:function(){return"what he's working on"},get_json:function(){return{type:"path.to_entire_context"}}}},get_path_to_resource:function(k,
f){k=k.get_widget();return{dereference:function(d,f,l){d=k.copy();var m,r,h;l.add_newly_created_widget(d);l.visible()&&!k.visible()&&(m=c.UTILITIES.find_resource_equal_to_widget(k))&&(h=d.get_frontside_element(),r=$(m).position(),c.UTILITIES.set_timeout(function(){$(h).css({left:r.left,top:r.top,width:m.offsetWidth,height:m.offsetHeight})}));return d},toString:function(){return c.UTILITIES.add_a_or_an(k.toString())},get_json:function(){return{type:"path.to_resource",resource:c.path.get_json(k,c.UTILITIES.fresh_json_history())}}}},
get_path_to_backside_widget_of_context:function(k){return{dereference:function(f,d,q){var l;f.backside_widgets.some(function(c){if(c.get_widget().is_of_type(k))return l=c.get_widget(),!0});if(l)return c.path.continue_dereferencing_path(this,l,d,q)},toString:function(){return"the "+k+" on the back of what he's working on"},get_json:function(){return{type:"path.to_backside_widget_of_context",type_name:k}}}},create_from_json:function(k,f){var d=c.UTILITIES.create_from_json(k,f),q;k.next_path&&(q=c.UTILITIES.create_from_json(k.next_path,
f),k.next_path.removing_widget&&(q.removing_widget=!0),k.next_path.not_to_be_dereferenced&&(q.not_to_be_dereferenced=!0),d.next=q);k.removing_widget&&(d.removing_widget=!0);k.not_to_be_dereferenced&&(d.not_to_be_dereferenced=!0);return d},top_level_backside:{dereference:function(c,f,d){return c.ancestor_of_type("top-level")},toString:function(){return"the top-level backside"},get_json:function(){return{type:"path.top_level_backside"}}}}}(window.TOONTALK);window.TOONTALK.publish=function(c){var k=["replaced by page title","Edit this. Select text for formatting.","replace with widget div","And edit this.",""],f=[],d;f[0]='<!DOCTYPE html>\n<html>\n<head>\n<link rel="stylesheet" media="all" href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/toontalk.css">\n<link href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/css/font-awesome.min.css" rel="stylesheet" type="text/css" />\n<link href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/css/froala_editor.min.css" rel="stylesheet" type="text/css" />\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/compile/toontalk.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/froala_editor.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/block_styles.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/colors.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/font_family.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/font_size.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/lists.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/tables.min.js">\x3c/script>\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/video.min.js">\x3c/script>\n<title>';
f[1]='</title>\n<link rel="shortcut icon" href="favicon.ico" />\n</head>\n<body>\n<form>\n<div class="toontalk-edit" name="content">';f[2]="</div>\n</form>\n";f[3]='\n<form>\n<div class="toontalk-edit" name="content">';f[4]='</div>\n</form>\n<script>\nvar current_contents = [];\nvar editor_enabled = false;\nvar send_edit_updates = function (other_window, other_target, file_id) {\n    var edits = [];\n    $(".toontalk-edit").each(function (index, element) {\n                                 var content = $(element).editable("getHTML", false, true);\n                                 if (current_contents[index] && current_contents[index] !== content) {\n                                     edits[index] = content;\n                                 }\n                                 current_contents[index] = content;\n    });\n    if (edits.length > 0) {\n        other_window.postMessage({edits: edits, file_id: file_id}, other_target);\n    }\n    setTimeout(function () {\n                   send_edit_updates(other_window, other_target, file_id);\n               },\n               10000);\n};\nvar message_handler =\n    function (event) {\n        if (event.data.save_edits_to) {\n            if (editor_enabled) {\n                return;\n            }\n            editor_enabled = true;\n            $(".toontalk-edit").editable({inlineMode: true, imageUpload: false});\n            event.source.postMessage({editor_enabled_for: event.data.file_id}, event.data.save_edits_to);\n            send_edit_updates(event.source, event.data.save_edits_to, event.data.file_id);\n        };\n    };\nwindow.addEventListener("message", message_handler, false);\n\x3c/script>\n</body>\n</html>';
var q=function(){var c="";f.forEach(function(d,f){c+=d;c+=k[f]});return c};return{publish_widget:function(f,m,r){var h=c.google_drive.get_status();k[0]=f;"Ready"===h?(m&&(f=c.UTILITIES.get_json_top_level(m),k[2]=c.UTILITIES.toontalk_json_div(f,m),d=m.get_setting("program_name")),contents=q(),c.google_drive.upload_file(d,"html",contents,r)):(console.log("Unable to publish to Google Drive because: "+h),r(null))},republish:function(d){d.edits.forEach(function(c,d){c&&(k[0===d?1:3]=c)});c.google_drive.insert_or_update_file(void 0,
d.file_id,"page",q(),function(){})}}}(window.TOONTALK);window.TOONTALK.UTILITIES=function(c){var k,f=100,d=(new Date).getTime(),q,l=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(!(0>b||0>c))return a.substring(b,c+1)},m=function(a,b,d,f,h,k,l,m,n,q){var r,C,H,V,K;d.set_visible(!0);if(a.is(".toontalk-backside")){if(d.is_of_type("top-level")){r=l.semantic.backside_widgets;C=l.shared_widgets;H=a.get(0);k=d.get_backside_widgets().slice();k.forEach(function(a,b){var c=a.get_widget(),e,h,k,l,m,n,q;d.remove_backside_widget(c,a.is_backside());e=0<=
r[b].widget.shared_widget_index?C[r[b].widget.shared_widget_index].view:r[b].widget.view;a.is_backside()?(h=c.get_backside_element(!0),k=e.backside_left,l=e.backside_top,m=e.backside_width,n=e.backside_height):(h=c.get_frontside_element(!0),k=e.frontside_left,l=e.frontside_top,m=e.frontside_width,n=e.frontside_height);f.add_backside_widget(c,a.is_backside());H.appendChild(h);q=$(h).position();$(h).css({left:q.left+k,top:q.top+l,width:m,height:n});a.is_backside()&&(c.backside_geometry=e.backside_geometry,
c.apply_backside_geometry())}.bind(this));return}d?f.get_backside().widget_dropped_on_me(d,q,k):c.UTILITIES.report_internal_error("No source_widget");m||(n=m=0,setTimeout(function(){var a=d.get_HTML(),c=b.width(),f=b.height();0<=a.indexOf("data:image")?(a=Math.min(80,c)/2,c=90,90>f&&(c-=(90-f)/2)):(a=Math.min(60,c/2),c=Math.min(30,f/2));b.css({left:V-a,top:K-c})},50));V=k.pageX-(h.left+m);K=k.pageY-(h.top+n);b.css({left:V,top:K});l&&l.semantic.running&&d.set_running(!0)}else if(a.is(".toontalk-drop-area"))b.addClass("toontalk-widget-in-drop_area"),
a.append(b.get(0)),b.is(".toontalk-robot")&&a.data("drop_area_owner").set_next_robot(c.UTILITIES.widget_from_jquery(b));else{if(b.is(".toontalk-backside-of-top-level"))return;if(f)H=a.closest(".toontalk-top-level-backside").get(0),H.appendChild(b.get(0)),h=$(H).offset(),b.css({left:k.pageX-(h.left+m),top:k.pageY-(h.top+n)}),d.drop_on&&d.drop_on(f,q,k)||f.widget_dropped_on_me&&f.widget_dropped_on_me(d,q,k)||(a=a.closest(".toontalk-top-level-backside"),0<a.length&&(f=c.UTILITIES.widget_from_jquery(a))&&
f.get_backside().widget_dropped_on_me(d,q,k));else{c.UTILITIES.report_internal_error("target element has no 'owner'");return}}c.UTILITIES.remove_highlight()},r=function(a,b,d,f,h){var k=new FileReader,n=0===a.type.indexOf("image"),q,r;k.onloadend=function(){if(n)q=c.element.create("<img src='"+k.result+"' alt='"+a.name+"'/>");else{if(r=l(k.result))try{q=c.UTILITIES.create_from_json(JSON.parse(r))}catch(A){}q||(q=c.element.create(k.result))}m(b,$(q.get_frontside_element(!0)),q,d,f,h)};n?k.readAsDataURL(a):
k.readAsText(a)},h=function(){k&&(k.removeClass("toontalk-being-dragged"),k.find("*").removeClass("toontalk-ignore-events"),c.UTILITIES.set_timeout(function(){k=void 0}))},b=function(a,c){if(a===c)return!0;if(a.parentNode)return b(a.parentNode,c)},n=[];window.addEventListener("message",function(a){a.source===window&&"zero-timeout-message"===a.data?(a.stopPropagation(),0<n.length&&n.shift()()):a.data.edits&&c.publish.republish(a.data)},!1);$(document).ready(function(){var a=!1;c.debugging=c.UTILITIES.get_current_url_boolean_parameter("debugging",
!1);$(".toontalk-json").each(function(b,d){var f=d.textContent,h,k,l,m;if(f)if(f=f.substring(f.indexOf("{"),f.lastIndexOf("}")+1),h=JSON.parse(f),k=c.UTILITIES.create_from_json(h)){d.textContent="";if(k.get_type_name)if(k.is_of_type("top-level")){if(!c.no_local_storage&&!c.UTILITIES.get_current_url_boolean_parameter("reset",!1)){if(h.load_most_recent_program)try{(m=window.localStorage.getItem("toontalk-last-key"))&&(l=window.localStorage.getItem(m))}catch(n){f="Error reading previous state. Error message is "+
n,c.UTILITIES.is_internet_explorer()?console.error(f):c.UTILITIES.display_message()}l&&(h=JSON.parse(l),k=c.UTILITIES.create_from_json(h))}l=k.get_backside(!0);l=l.get_element();$(d).replaceWith(l);$(l).css({width:h.view.backside_width,height:h.view.backside_height,"background-color":h.view.background_color,"border-width":h.view.border_width});a=!0}else $(d).addClass("toontalk-top-level-resource"),l=k.get_frontside_element(),$(l).addClass("toontalk-top-level-resource").css({position:"relative"}),
d.appendChild(l);else d.appendChild(k.get_element());k.set_active&&k.set_active(!1);setTimeout(function(){k.update_display&&k.update_display();h.semantic.running&&k.set_running(!0)},1)}else c.UTILITIES.report_internal_error("Could not recreate a widget from this JSON: "+f)});a||$(document).click(function(){$(".toontalk-frontside").each(function(a,b){var c=b.toontalk_widget;c&&c.set_running&&c.set_running(!1)})});c.QUEUE=window.TOONTALK.queue.create();c.QUEUE.run();window.addEventListener("beforeunload",
function(a){c.UTILITIES.backup_all_top_level_widgets(!0)});c.UTILITIES.add_test_all_button()});return{create_from_json:function(a,b,d){var f=function(a,b,c){b.shared_widgets[c]=a;a.finish_create_from_json_continuation&&(a.finish_create_from_json_continuation(),a.finish_create_from_json_continuation=void 0);return a},h,k,l,m;if(a){b||(b={});a.shared_widgets&&(b.json_of_shared_widgets=a.shared_widgets,b.shared_widgets=[]);a.shared_html&&(b.shared_html=a.shared_html);if(a.widget)return h=c.UTILITIES.create_from_json(a.widget,
b),a.is_backside?h.get_backside(!0):h;if(b&&b.shared_widgets&&0<=a.shared_widget_index){if(d=b.shared_widgets[a.shared_widget_index])return d;d=b.json_of_shared_widgets[a.shared_widget_index];h=c.UTILITIES.create_from_json(d,b,!0);return f(h,b,a.shared_widget_index)}(l=a.semantic)||(l=a);a=a.view;if(0<=l.shared_widget_index)return h=c.UTILITIES.create_from_json(b.json_of_shared_widgets[l.shared_widget_index],b,!0),f(h,b,l.shared_widget_index);if(c.creators_from_json[l.type]){b||(b={});a?b.json_view=
a:a=b.json_view;if((h=c.creators_from_json[l.type](l,b))&&h.get_backside){l.erased&&(c.widget.erasable(h),h.set_erased(l.erased));l.infinite_stack&&h.set_infinite_stack(l.infinite_stack);if(a&&a.frontside_width)if(k=a.backside?h.get_backside(!0).get_element():h.get_frontside_element(),m={width:a.frontside_width,height:a.frontside_height},"element"===l.type)h.on_update_display(function(){$(k).css(m)});else $(k).css(m);a&&a.saved_width&&(h.saved_width=a.saved_width,h.saved_height=a.saved_height);a&&
a.backside_geometry&&(h.backside_geometry=a.backside_geometry);l.backside_widgets&&(d?h.finish_create_from_json_continuation=function(){this.add_backside_widgets_from_json(h,l.backside_widgets,b)}.bind(this):this.add_backside_widgets_from_json(h,l.backside_widgets,b))}return h}c.UTILITIES.report_internal_error("JSON type '"+l.type+"' not supported. Perhaps a JavaScript file implementing it is missing.")}},add_backside_widgets_from_json:function(a,b,c){var d;b&&(d=this.create_array_from_json(b,c),
a.set_backside_widget_sides(d,b.map(function(a){return 0<=a.widget.shared_widget_index?c.json_of_shared_widgets[a.widget.shared_widget_index].view:a.widget.view})))},create_array_from_json:function(a,b){var d=[];a.forEach(function(a,f){d[f]=a?c.UTILITIES.create_from_json(a,b):a});return d},get_json_of_array:function(a,b){var d=[];a.forEach(function(a,f){a.is_backside&&a.is_backside()?d[f]={widget:c.UTILITIES.get_json(a.get_widget(),b),is_backside:!0}:d[f]=a.get_type_name?{widget:c.UTILITIES.get_json(a,
b)}:a.get_json(b)});return d},fresh_json_history:function(){return{widgets_encountered:[],shared_widgets:[],json_of_widgets_encountered:[]}},get_json_top_level:function(a){var b=this.fresh_json_history(),d=c.UTILITIES.get_json(a,b);0<b.shared_widgets.length&&(d.shared_widgets=b.shared_widgets.map(function(f,h){var k=function(a){a=b.widgets_encountered.indexOf(a);return b.json_of_widgets_encountered[a]},l=function(a){return k(b.shared_widgets[a])},m=k(f);a===f?(m={semantic:m.semantic,view:m.view,version:m.version},
d.semantic={shared_widget_index:h}):c.UTILITIES.tree_replace_once(d.semantic,m,{shared_widget_index:h},l);return m}));d.shared_html=b.shared_html;return d},get_json:function(a,b){var d,f;c.debugging&&!b&&c.UTILITIES.report_internal_error("no json_history");d=b.shared_widgets.indexOf(a);if(0<=d)return{shared_widget_index:d};d=b.widgets_encountered.indexOf(a);if(0<=d)return d=c.UTILITIES.insert_ancestors_last(a,b.shared_widgets),{shared_widget_index:d};d=b.widgets_encountered.push(a)-1;f=a.get_json(b);
f=a.add_to_json(f,b);b.json_of_widgets_encountered[d]=f;a.add_backside_widgets_to_json&&a.add_backside_widgets_to_json(f,b);return f},tree_replace_once:function(a,b,c,d){var f,h;for(h in a)if(a.hasOwnProperty(h)&&(f=a[h])){if(f===b)return a[h]=c,!0;if("shared_widget_index"===h){if(this.tree_replace_once(d(f),b,c,d))return!0}else if(!(0<=["string","number","function","undefined"].indexOf(typeof f))&&this.tree_replace_once(f,b,c,d))return!0}return!1},insert_ancestors_last:function(a,b){var c=-1;b.some(function(b,
d){if(a.has_ancestor(b))return c=d,!0});0>c&&(c=b.length);b.splice(c,0,a);return c},toontalk_json_div:function(a,b){var d=a.view.backside,f=b.get_backside_widgets(),h=b.get_type_name();"top-level"===h?d?(h="a work area containing ",0===f.length?h="an empty work area":(h=1===f.length?h+"one thing: ":h+(f.length+" things: "),q=f.length,f.forEach(function(a){q--;h+=c.UTILITIES.add_a_or_an(a.get_type_name());1===q?h+=", and ":1<q&&(h+=", ")}))):h="a top-level widget":(h=c.UTILITIES.add_a_or_an(h),d&&
(h="the back of "+h));return"<div class='toontalk-json'>\nThis will be replaced by "+h+".\n<div style='display:none;'>"+JSON.stringify(a,null,"  ")+"</div></div>"},copy_widgets:function(a,b){var c=[],d;for(d=0;d<a.length;d++)c[d]=a[d]&&a[d].copy(b);return c},copy_widget_sides:function(a,b){return a.map(function(a){var c=a.get_widget().copy(b);a.is_backside()&&c.get_backside();return c})},copy_array:function(a){return a.slice()},generate_unique_id:function(){d+=1;return"toontalk_id_"+d},get_style_property:function(a,
b){if(a.currentStyle)return a.currentStyle[b];if(window.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},get_style_numeric_property:function(a,b){var c=this.get_style_property(a,b),d;return"string"===typeof c?(d=c.indexOf("px"),0<=d&&(c=c.substring(0,d)),parseInt(c,10)):c},data_transfer_json_object:function(a){var b;if(a.dataTransfer){try{b=a.dataTransfer.getData("text/html")}catch(d){b=a.dataTransfer.getData("text")}if(!b||b.match(/[\u3400-\u9FBF]/))b=a.dataTransfer.getData("text");
if(b){a=l(b);if(!a)return c.UTILITIES.get_json_top_level(c.element.create(b));try{return JSON.parse(a)}catch(f){c.UTILITIES.report_internal_error("Exception parsing "+a+"\n"+f.toString())}}}},drag_and_drop:function(a){c.UTILITIES.draggable(a);c.UTILITIES.can_receive_drops(a)},draggable:function(a){$(a).attr("draggable",!0);a.addEventListener("dragstart",function(b){var d=$(b.target).closest(".toontalk-side"),f,h,l;b.dataTransfer.getData("text")&&0<b.dataTransfer.getData("text").length||(k=d||$(a),
h=c.UTILITIES.widget_from_jquery(k),h||(h=c.UTILITIES.widget_from_jquery($element),c.UTILITIES.report_internal_error("Possible bug that "+k+" doesn't have a known owner."),k=$(a)),h.being_dragged=!0,f=k.get(0).getBoundingClientRect(),l=k.is(".toontalk-top-level-resource"),b.dataTransfer&&h.get_json&&(b.dataTransfer.effectAllowed=l?"copy":"move",d=c.UTILITIES.get_json_top_level(h),d.view.drag_x_offset=b.clientX-f.left,d.view.drag_y_offset=b.clientY-f.top,!d.view.frontside_width&&k.parent().is(".toontalk-backside")&&
(d.view.frontside_width=k.width(),d.view.frontside_height=k.height()),k.is(".toontalk-backside")&&(d.view.backside=!0),k.data("json",d),f=c.UTILITIES.toontalk_json_div(d,h),b.dataTransfer.setData("text",f),c.UTILITIES.is_internet_explorer()||b.dataTransfer.setData("text/html",f),h.drag_started(d,l)),k.addClass("toontalk-being-dragged"),b.stopPropagation())});a.addEventListener("dragend",function(a){k||(k=$(a.target).closest(".toontalk-side"));c.UTILITIES.widget_from_jquery(k).being_dragged=void 0;
if(k.is(".toontalk-frontside"))if(k.parent().is(".toontalk-backside")){var b=k.data("json");b&&(k.data("json",""),k.css({width:b.view.frontside_width,height:b.view.frontside_height}))}else k.parent().is(".toontalk-top-level-resource, .toontalk-drop-area")||k.is(".toontalk-carried-by-bird, .toontalk-element-attribute")||c.UTILITIES.has_animating_image(k.get(0))||k.css({width:"100%",height:"100%"});h();a.stopPropagation()})},can_receive_drops:function(a){a.addEventListener("dragover",function(a){a.preventDefault();
return!1});a.addEventListener("drop",function(b){var d,f,l,n,q,x,z,A,E,C,H=c.UTILITIES.data_transfer_json_object(b);b.preventDefault();$(a).find("*").removeClass("toontalk-ignore-events");d=k;h();if(d||H||b.dataTransfer.files){if($(b.target).is(".toontalk-drop-area-instructions"))l=$(b.target).parent();else if($(b.target).is(".toontalk-element-attribute-input")){if(l=$(b.target).closest(".toontalk-side"),n=c.UTILITIES.widget_from_jquery(l)){f=d?c.UTILITIES.widget_from_jquery(d):c.UTILITIES.create_from_json(H);
c.UTILITIES.restore_resource(d,f);n.dropped_on_style_attribute(f,b.target.name,b);b.stopPropagation();return}}else l=$(b.target).is(".toontalk-drop-area")?$(b.target):$(b.target).closest(".toontalk-side");if(0!==l.length&&!l.is(".toontalk-top-level-resource")){z=l.offset();c.UTILITIES.remove_highlight();n=c.UTILITIES.widget_from_jquery(l);if(d&&0<d.length&&!(n&&n.get_infinite_stack&&n.get_infinite_stack())&&(d.get(0)===l.get(0)||jQuery.contains(d.get(0),l.get(0)))){if(d.is(".toontalk-top-level-backside"))return;
l.hide();f=document.elementFromPoint(b.pageX-window.pageXOffset,b.pageY-window.pageYOffset);l.show();f&&(l=$(f).closest(".toontalk-side"),z=l.offset(),n=c.UTILITIES.widget_from_jquery(l))}H&&H.view&&H.view.drag_x_offset?(q=H.view.drag_x_offset,x=H.view.drag_y_offset):x=q=0;if(d&&0<d.length){if(!(n&&n.get_infinite_stack&&n.get_infinite_stack()||d.get(0)!==l.get(0)&&!jQuery.contains(d.get(0),l.get(0)))){d.css({left:d.get(0).offsetLeft+(b.layerX-q),top:d.get(0).offsetTop+(b.layerY-x)});b.stopPropagation();
return}A=d.is(".toontalk-backside");f=c.UTILITIES.widget_from_jquery(d);d.parent().is(".toontalk-drop-area")?(d.removeClass("toontalk-widget-in-drop_area"),d.parent().data("drop_area_owner").set_next_robot(void 0)):(E=d.parents(".toontalk-side:first"),(C=c.UTILITIES.widget_from_jquery(E))?!A&&f.get_infinite_stack&&f.get_infinite_stack()?(f=f.copy(),E=d.width(),C=d.height(),d=$(f.get_frontside_element(!0)),l.is(".toontalk-backside")&&d.css({width:H.view.frontside_width||E,height:H.view.frontside_height||
C})):C.removed_from_container&&(E.is(".toontalk-backside")?C.remove_backside_widget(f,A,!0):(C.removed_from_container(f,A,b),f.restore_dimensions&&f.restore_dimensions())):c.UTILITIES.restore_resource(d,f),c.robot.in_training&&c.robot.in_training.add_newly_created_widget_if_new(f))}else{if(0<b.dataTransfer.files.length){for(d=0;d<b.dataTransfer.files.length;d++)r(b.dataTransfer.files[d],l,n,z,b);b.stopPropagation();return}f=c.UTILITIES.create_from_json(H,{event:b});if(!f){H?c.UTILITIES.report_internal_error("Unable to construct a ToonTalk widget from the JSON."):
c.debugging&&console.log("No data transfer in drop.");b.stopPropagation();return}(A=H.view.backside)?(d=$(f.get_backside_element()),d.css({width:H.view.backside_width,height:H.view.backside_height,"background-color":H.view.background_color,"border-width":H.view.border_width}),f.apply_backside_geometry()):d=$(f.get_frontside_element())}f!==n&&m(l,d,f,n,z,b,H,q,x,A);b.stopPropagation()}}else b.dataTransfer?c.UTILITIES.report_internal_error("Drop failed since unable to parse as JSON."):c.UTILITIES.report_internal_error("Drop failed since there is no event.dataTransfer"),
b.stopPropagation()});a.addEventListener("dragenter",function(d){var f=$(d.target).closest(".toontalk-side"),h=c.UTILITIES.get_dragee();f.is(".toontalk-top-level-backside")||f.closest(".toontalk-top-level-resource").is("*")||f.is(".toontalk-being-dragged")||h&&b(f.get(0),h.get(0))||(c.UTILITIES.highlight_element(f),f.is(".toontalk-backside, .toontalk-drop-area")||"box"===c.UTILITIES.widget_from_jquery($(a)).get_type_name()||f.find(".toontalk-side").addClass("toontalk-ignore-events"));d.stopPropagation()});
a.addEventListener("dragleave",function(a){a.stopPropagation()})},create_drop_area:function(a){var b=document.createElement("div"),d=$(b),f=document.createElement("div");f.innerHTML=a;$(f).addClass("toontalk-drop-area-instructions ui-widget");d.addClass("toontalk-drop-area");d.append(f);c.UTILITIES.can_receive_drops(b);return d},set_absolute_position:function(a,b){for(var c=a.parent(),d=b.left,f=b.top,h;c.is("*")&&!c.is("html");)h=c.position(),d-=h.left,f-=h.top,c=c.parent();a.css({left:d,top:f,position:"absolute"});
a.is(".toontalk-side-animating")&&(a.get(0).style.left=d+"px",a.get(0).style.top=f+"px")},set_position_relative_to_top_level_backside:function(a,b){var c=a.closest(".toontalk-top-level-backside").offset();c||(console.log("Unable to find top-level backside. Perhaps is 'visible' but not attached."),c={left:0,top:0});var d=b.left-c.left,c=b.top-c.top;a.css({left:d,top:c,position:"absolute"});a.is(".toontalk-side-animating")&&(a.get(0).style.left=d+"px",a.get(0).style.top=c+"px")},restore_resource:function(a,
b){var d,f;a.is(".toontalk-top-level-resource")&&(d=b.copy(!1,!0),f=d.get_frontside_element(),$(f).css({width:a.width(),height:a.height()}),a.removeClass("toontalk-top-level-resource"),$(f).addClass("toontalk-top-level-resource").css({position:"relative"}),a.get(0).parentElement.appendChild(f),c.DISPLAY_UPDATES.pending_update(d),b.set_active&&(b.set_active(!0),d.set_active(!1)))},find_resource_equal_to_widget:function(a){var b;$(".toontalk-top-level-resource").each(function(d,f){var h=$(f).children(":first"),
k=c.UTILITIES.widget_from_jquery(h);if(k&&(a.equals&&a.equals(k)||a.matching_resource&&a.matching_resource(k)))return b=h.get(0),!1});return b},set_position_is_absolute:function(a,b,c){b?(c=$(a).position(),b=c.left,c=c.top,$(a).css({left:b,top:c,position:"absolute"})):a.style.position="static"},cardinal:function(a){switch(a){case 0:return"first";case 1:return"second";case 2:return"third";default:return a+"th"}},on_a_nest_in_a_box:function(a){return $(a).closest(".toontalk-nest").is("*")&&$(a).closest(".toontalk-box").is("*")},
add_one_shot_event_handler:function(a,b,c,d){var f=!1,h=function(c){f=!0;d&&d();a.removeEventListener(b,h)};a.addEventListener(b,h);setTimeout(function(){f||h()},c)},animate_to_absolute_position:function(a,b,d,f,h){var k=$(a).offset(),l=$(a).position(),m=c.UTILITIES.distance(b,k);f||(f=.5);f=Math.round(m/f);$(a).addClass("toontalk-side-animating");a.style.transitionDuration=f+"ms";a.style.left=l.left+(b.left-k.left)+"px";a.style.top=l.top+(b.top-k.top)+"px";h||c.UTILITIES.add_one_shot_event_handler(a,
"transitionend",f+500,function(){$(a).removeClass("toontalk-side-animating");a.style.transitionDuration=""});c.UTILITIES.add_one_shot_event_handler(a,"transitionend",f+500,d)},distance:function(a,b){var c=a.left-b.left,d=a.top-b.top;return Math.sqrt(c*c+d*d)},highlight_element:function(a,b){var d;if(!$(a).is(".toontalk-highlight")&&(c.UTILITIES.remove_highlight(),d=c.UTILITIES.widget_from_jquery($(a)))){if(d.element_to_highlight&&(a=d.element_to_highlight(event),!a))return;$(a).addClass("toontalk-highlight");
b&&setTimeout(function(){c.UTILITIES.remove_highlight()},b)}},remove_highlight:function(){$(".toontalk-highlight").removeClass("toontalk-highlight")},cursor_of_image:function(a){var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b)+".32x32"+a.substring(b):a},next_z_index:function(){f++;return f},create_button:function(a,b,c,d){a=$("<button>"+a+"</button>").button();a.addClass(b).click(d).attr("title",c);return a.get(0)},create_close_button:function(a,b){var c=document.createElement("div"),d=document.createElement("div");
$(c).addClass("toontalk-close-button");$(c).click(a);$(c).attr("title",b);d.innerHTML="&times;";c.appendChild(d);return c},check_radio_button:function(a){$(a.button).prop("checked",!0);$(a.label).addClass("ui-state-active")},create_button_set:function(){var a=document.createElement("div"),b,c;for(b=0;b<arguments.length;b++)if(0<=arguments[b].length)for(c=0;c<arguments[b].length;c++)a.appendChild(arguments[b][c]);else a.appendChild(arguments[b]);$(a).buttonset();return a},create_text_element:function(a){var b=
document.createElement("div");b.textContent=a;$(b).addClass("ui-widget");return b},create_space:function(){var a=document.createElement("span");a.innerHTML="&nbsp;";$(a).addClass("ui-widget");return a},create_anchor_element:function(a,b){var c=document.createElement("a");c.innerHTML=a;c.href=b;c.target="_blank";return c},create_text_input:function(a,b,d,f,h){var k=document.createElement("input"),l;k.type="text";k.className=b;k.value=a;k.title=f;d?(a=document.createElement("label"),a.innerHTML=d,k.id=
c.UTILITIES.generate_unique_id(),a.htmlFor=k.id,h&&(l=c.UTILITIES.create_anchor_element("i",h),$(l).addClass("toontalk-help-button")),d=c.UTILITIES.create_horizontal_table(a,k,l),$(a).addClass("ui-widget")):d=k;$(k).button().addClass("toontalk-text-input");$(k).css({"background-color":"white"});return{container:d,button:k}},create_text_area:function(a,b,d,f){var h=document.createElement("textarea");h.className=b;h.value=a;h.title=f;a=document.createElement("label");a.innerHTML=d;h.id=c.UTILITIES.generate_unique_id();
a.htmlFor=h.id;d=c.UTILITIES.create_horizontal_table(a,h);$(h).button().addClass("toontalk-text-text_area");$(h).css({background:"white"});$(a).addClass("ui-widget");return{container:d,button:h}},create_radio_button:function(a,b,d,f,h){var k=document.createElement("div"),l=document.createElement("input"),m=document.createElement("label");l.type="radio";l.className=d;l.name=a;l.value=b;m.innerHTML=f;l.id=c.UTILITIES.generate_unique_id();m.htmlFor=l.id;k.appendChild(l);k.appendChild(m);k.title=h;$(l).button();
return{container:k,button:l,label:m}},create_check_box:function(a,b,d,f){var h=document.createElement("div"),k=document.createElement("input"),l=document.createElement("label");k.type="checkbox";k.className=b;k.checked=a;l.innerHTML=d;k.id=c.UTILITIES.generate_unique_id();l.htmlFor=k.id;$(l).addClass("ui-widget");h.appendChild(k);h.appendChild(l);h.title=f;return{container:h,button:k,label:l}},create_horizontal_table:function(){var a=document.createElement("table"),b,c,d;c=document.createElement("tr");
a.appendChild(c);for(b=0;b<arguments.length;b++)arguments[b]&&(d=document.createElement("td"),c.appendChild(d),d.appendChild(arguments[b]));return a},create_vertical_table:function(){var a=document.createElement("table"),b,d;for(b=0;b<arguments.length;b++)arguments[b]&&(d=c.UTILITIES.create_row(arguments[b]),a.appendChild(d));return a},create_row:function(){var a=document.createElement("tr"),b=document.createElement("td"),c;for(c=0;c<arguments.length;c++)a.appendChild(arguments[c]);b.appendChild(a);
return a},create_table_entry:function(a){var b=document.createElement("td");b.appendChild(a);return b},selected_radio_button:function(){var a;for(a=0;a<arguments.length;a++)if(arguments[a].checked)return arguments[a]},create_image:function(a,b){var c=document.createElement("img"),d;c.src=a;b&&$(c).addClass(b);0===a.indexOf("images/")&&(d=function(b){c.removeEventListener("error",d);c.src="http://toontalk.github.io/ToonTalk/"+a},c.addEventListener("error",d));return c},create_tabs:function(a,b){var c=
document.createElement("div"),d=document.createElement("ul"),f;if(a.length!==b.length)return console.error("UTILITIES.create_tabs called with different length lists."),c;a.forEach(function(a,c){var g=document.createElement("li"),h=document.createElement("a"),k;"string"===typeof a?(k=document.createElement("span"),k.innerHTML=a):k=a;f="tab-"+c;h.href="#"+f;h.appendChild(k);g.appendChild(h);d.appendChild(g);b[c].id=f});c.appendChild(d);b.forEach(function(a){c.appendChild(a)});$(c).tabs();return c},
create_file_data_table:function(a,b,d){var f=document.createElement("table");$(f).DataTable({data:a,columns:[{data:"title",title:"Name",render:function(a,f,h,k){a=b?a.substring(0,a.length-5):a;f=b?c.google_drive.google_drive_url(h.id):"Click to load this program.";return"<div class='"+d+"' title='"+f+"'id='"+h.id+"'>"+a+"</div>"}},{data:"modifiedDate",title:"Modified",render:function(a,b,c,d){return(new Date(a)).toUTCString()}},{data:"createdDate",title:"Created",render:function(a,b,c,d){return(new Date(a)).toUTCString()}},
{data:"fileSize",title:"Size"}]});$(f).addClass("toontalk-file-table");return f},create_local_files_table:function(a){a=c.UTILITIES.get_all_locally_stored_program_names().map(function(a){var b=c.UTILITIES.get_local_storage_meta_data(a);if(b)return{title:a,modifiedDate:b.last_modified,createdDate:b.created,fileSize:b.file_size}});return c.UTILITIES.create_file_data_table(a,!1,"toontalk-file-load-button")},get_dragee:function(){return k},add_a_or_an:function(a,b){var c=a.charAt(0);return 0===a.indexOf("the ")?
a:0>"aeiou".indexOf(c)?b?"A "+a:"a "+a:b?"An "+a:"an "+a},maximum_string_length:function(a,b){var c;if(a.length<=b)return a;c=a.substring(0,Math.round(.75*b));return c+" ... "+a.substring(a.length-(b-c.length))},backup_all_top_level_widgets:function(a){$(".toontalk-top-level-backside").each(function(b,d){c.UTILITIES.widget_from_jquery($(d)).save(a)})},make_resizable:function(a,b){a.resizable({resize:function(c,d){a.find("img").css({width:d.size.width,height:d.size.height});b.render()},handles:"n,e,s,w"})},
match:function(a,b){var c=a.match(b);return"not matched"===c&&b.matched_by?b.matched_by(a):c},current_URL:function(){return window.location.pathname},absolute_file_path:function(a){var b=window.location.pathname,c=b.lastIndexOf("ToonTalk/");return 0>c?a:b.substring(0,c+9)+a},copy_side:function(a,b,c){b=a.get_widget().copy(b);var d;c&&(c=a.get_widget().get_frontside_element())&&(d=b.get_frontside_element(!0),$(d).css({width:$(c).width(),height:$(c).height()}));return a.is_backside()?b.get_backside():
b},scale_to_fit:function(a,b,c,d,f){var h=function(){$(a).css({transform:"scale("+l+", "+m+")","transform-origin":"top left",width:c,height:d})},k,l,m;c||(c=$(a).width());d||(d=$(a).height());$(b).is(".toontalk-backside")?m=l=1:(k=$(b).width(),b=$(b).height(),l=k/c,m=b/d,0===l&&(l=1),0===m&&(m=1));f?setTimeout(h,f):h();return{x_scale:l,y_scale:m}},relative_position:function(a,b){var c=$(a).offset(),d;b&&(d=$(b).offset(),c.left-=d.left,c.top-=d.top);return c},add_animation_class:function(a,b){$(a).css({width:"",
height:""}).addClass(b)},widget_from_jquery:function(a){if(0<a.length)return a.get(0).toontalk_widget},has_animating_image:function(a){a=$(a);return(a=a.css("animation")||a.css("webkit-animation")||a.css("moz-animation")||a.css("ms-animation")||a.css("o-animation"))&&0!==a.indexOf("none")},display_message:function(a){alert(a)},report_internal_error:function(a){console.log(a);c.debugging&&c.UTILITIES.display_message(a)},get_current_url_boolean_parameter:function(a,b){return 0>window.location.href.indexOf(a+
"=")?b:0<=window.location.href.indexOf(a+"=1")?!0:!1},is_browser_of_type:function(a){return 0<=window.navigator.userAgent.indexOf(a)},is_internet_explorer:function(){return c.UTILITIES.is_browser_of_type("MSIE")||c.UTILITIES.is_browser_of_type("Trident")},remove_z_index:function(a){if(0===a.length||"<"!==a.charAt(0)||0>a.indexOf("z-index"))return a;a=$(a);a.attr("z-index","");return a.html()},add_test_all_button:function(){var a=$("#toontalk-test-all-button"),b;if(0!==a.length){a.button();b=a.get(0);
b.innerHTML="Run all tests";var c=!1;a.click(function(a){c?($(".toontalk-stop-sign").each(function(){$(this).parent().is(".toontalk-top-level-backside")&&$(this).click()}),b.innerHTML="Run all tests"):($(".toontalk-green-flag").each(function(){$(this).parent().is(".toontalk-top-level-backside")&&$(this).click()}),b.innerHTML="Stop all tests");c=!c})}},set_timeout:function(a,b){b?setTimeout(a,b):(n.push(a),window.postMessage("zero-timeout-message","*"))},get_all_locally_stored_program_names:function(){var a=
window.localStorage.getItem("toontalk-all-program-names");return a?JSON.parse(a):[]},set_all_locally_stored_program_names:function(a){window.localStorage.setItem("toontalk-all-program-names",JSON.stringify(a))},get_local_storage_meta_data:function(a){a=c.UTILITIES.local_storage_program_meta_data_key(a);var b;try{if(b=window.localStorage.getItem(a))return JSON.parse(b)}catch(d){}},local_storage_program_key:function(a){return"toontalk-json: "+a},local_storage_program_meta_data_key:function(a){return"toontalk-meta-data: "+
a},create_queue:function(){var a=[],b=0;return{getLength:function(){return a.length-b},isEmpty:function(){return 0==a.length},enqueue:function(b){a.push(b)},dequeue:function(){var c;if(0!=a.length)return c=a[b],2*++b>=a.length&&(a=a.slice(b),b=0),c},peek:function(){return 0<a.length?a[b]:void 0},does_any_item_satisfy:function(c){var d;for(d=b;d<a.length;d++)if(c(a[d]))return!0;return!1}}}}}(window.TOONTALK);window.TOONTALK.UTILITIES.available_types="number box element robot nest sensor top-level".split(" ");
