'use strict';(function(c){var l;"undefined"===typeof exports?"function"===typeof define&&"object"===typeof define.amd&&define.amd?(l={},define(function(){return l})):l="undefined"!==typeof window?window:c:l=exports;(function(c){var e={greatest_common_divisor:function(a,r){if(1===r||1===a)return 1;for(var b;0!==r;){b=r;r=a%r;if(!isFinite(r))return 0;a=b}return a}};e.gcd=e.greatest_common_divisor;e.fromRandom=function(a){return Math.random()*(1<<a)>>>0};e.fromMillitime=function(){return+new Date};e.fromUnixtime=
function(){return.001*e.fromMillitime()|0};"undefined"!==typeof c&&(c.integer=e);(function(a){function r(a,h,f){if(f!==b)return a instanceof r?a:"undefined"===typeof a?c:r.parse(a);for(a=a||[];a.length&&!a[a.length-1];)--a.length;this._d=a;this._s=a.length?h||1:0}var b={};r._construct=function(a,h){return new r(a,h,b)};r.base=1E7;r.base_log10=7;var c=new r([],0,b);r.ZERO=c;var f=new r([1],1,b);r.ONE=f;var d=new r(f._d,-1,b);r.M_ONE=d;r._0=c;r._1=f;r.small=[c,f,new r([2],1,b),new r([3],1,b),new r([4],
1,b),new r([5],1,b),new r([6],1,b),new r([7],1,b),new r([8],1,b),new r([9],1,b),new r([10],1,b),new r([11],1,b),new r([12],1,b),new r([13],1,b),new r([14],1,b),new r([15],1,b),new r([16],1,b),new r([17],1,b),new r([18],1,b),new r([19],1,b),new r([20],1,b),new r([21],1,b),new r([22],1,b),new r([23],1,b),new r([24],1,b),new r([25],1,b),new r([26],1,b),new r([27],1,b),new r([28],1,b),new r([29],1,b),new r([30],1,b),new r([31],1,b),new r([32],1,b),new r([33],1,b),new r([34],1,b),new r([35],1,b),new r([36],
1,b)];r.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");r.prototype.toString=function(a){a=+a||10;if(2>a||36<a)throw Error("illegal radix "+a+".");if(0===this._s)return"0";if(10===a){a=0>this._s?"-":"";a+=this._d[this._d.length-1].toString();for(var h=this._d.length-2;0<=h;h--){for(var b=this._d[h].toString();7>b.length;)b="0"+b;a+=b}return a}h=r.digits;a=r.small[a];for(var b=this._s,c=this.abs(),f=[],d;0!==c._s;)d=c.divRem(a),c=d[0],d=d[1],f.push(h[d.valueOf()]);return(0>b?"-":"")+f.reverse().join("")};
r.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,
/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/];r.parse=function(a,h){function f(a){a=a.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e");return a.replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,function(a,h,b,r,c){c=+c;var f=0>c,d=b.length+c;a=(f?b:r).length;c=(c=Math.abs(c))>=a?c-a+f:0;a=Array(c+1).join("0");b+=r;return(h||"")+(f?b=a+b:b+=a).substr(0,d+=f?a.length:0)+(d<b.length?"."+b.substr(d):"")})}a=a.toString();if("undefined"===typeof h||10===+h)a=f(a);var d=RegExp("^([+\\-]?)("+("undefined"===
typeof h?"0[xcb]":16==h?"0x":8==h?"0c":2==h?"0b":"")+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(a);if(d){var e=d[1]||"+",g=d[2]||"",d=d[3]||"";if("undefined"===typeof h)h="0x"===g||"0X"===g?16:"0c"===g||"0C"===g?8:"0b"===g||"0B"===g?2:10;else if(2>h||36<h)throw Error("Illegal radix "+h+".");h=+h;if(!r.radixRegex[h].test(d))throw Error("Bad digit for radix "+h);d=d.replace(/^0+/,"").split("");if(0===d.length)return c;e="-"===e?-1:1;if(10==h){for(g=[];7<=d.length;)g.push(parseInt(d.splice(d.length-r.base_log10,
r.base_log10).join(""),10));g.push(parseInt(d.join(""),10));return new r(g,e,b)}g=c;h=r.small[h];for(var k=r.small,m=0;m<d.length;m++)g=g.multiply(h).add(k[parseInt(d[m],36)]);return new r(g._d,e,b)}throw Error("Invalid BigInteger format: "+a);};r.prototype.add=function(a){if(0===this._s)return r(a);a=r(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.subtract(a);var h=this._d;a=a._d;for(var c=h.length,f=a.length,d=Array(Math.max(c,f)+1),e=Math.min(c,f),g=0,k=0;k<e;k++)g=h[k]+
a[k]+g,d[k]=g%1E7,g=g/1E7|0;f>c&&(h=a,c=f);for(k=e;g&&k<c;k++)g=h[k]+g,d[k]=g%1E7,g=g/1E7|0;for(g&&(d[k]=g);k<c;k++)d[k]=h[k];return new r(d,this._s,b)};r.prototype.negate=function(){return new r(this._d,-this._s|0,b)};r.prototype.abs=function(){return 0>this._s?this.negate():this};r.prototype.subtract=function(a){if(0===this._s)return r(a).negate();a=r(a);if(0===a._s)return this;if(this._s!==a._s)return a=a.negate(),this.add(a);var h=this;0>this._s&&(h=new r(a._d,1,b),a=new r(this._d,1,b));var f=
h.compareAbs(a);if(0===f)return c;if(0>f){var d=a;a=h;h=d}h=h._d;a=a._d;var d=h.length,e=a.length,g=Array(d),k=0,m,p;for(m=0;m<e;m++)p=h[m]-k-a[m],0>p?(p+=1E7,k=1):k=0,g[m]=p;for(m=e;m<d;m++){p=h[m]-k;if(0>p)p+=1E7;else{g[m++]=p;break}g[m]=p}for(;m<d;m++)g[m]=h[m];return new r(g,f,b)};(function(){function a(h,c){for(var f=h._d,d=f.slice(),e=0;;){var g=(f[e]||0)+1;d[e]=g%1E7;if(9999999>=g)break;++e}return new r(d,c,b)}function h(a,c){for(var f=a._d,d=f.slice(),e=0;;){var g=(f[e]||0)-1;if(0>g)d[e]=
g+1E7;else{d[e]=g;break}++e}return new r(d,c,b)}r.prototype.next=function(){switch(this._s){case 0:return f;case -1:return h(this,-1);default:return a(this,1)}};r.prototype.prev=function(){switch(this._s){case 0:return d;case -1:return a(this,-1);default:return h(this,1)}}})();r.prototype.compareAbs=function(a){if(this===a)return 0;if(!(a instanceof r)){if(!isFinite(a))return isNaN(a)?a:-1;a=r(a)}if(0===this._s)return 0!==a._s?-1:0;if(0===a._s)return 1;var h=this._d.length,b=a._d.length;if(h<b)return-1;
if(h>b)return 1;b=this._d;a=a._d;for(h-=1;0<=h;h--)if(b[h]!==a[h])return b[h]<a[h]?-1:1;return 0};r.prototype.compare=function(a){if(this===a)return 0;a=r(a);return 0===this._s?-a._s:this._s===a._s?this.compareAbs(a)*this._s:this._s};r.prototype.isUnit=function(){return this===f||this===d||1===this._d.length&&1===this._d[0]};r.prototype.multiply=function(a){if(0===this._s)return c;a=r(a);if(0===a._s)return c;if(this.isUnit())return 0>this._s?a.negate():a;if(a.isUnit())return 0>a._s?this.negate():
this;if(this===a)return this.square();var h=this._d.length>=a._d.length,f=(h?this:a)._d,h=(h?a:this)._d,d=f.length,e=h.length,g=d+e,k=Array(g),m;for(m=0;m<g;m++)k[m]=0;for(m=0;m<e;m++){for(var g=0,p=h[m],q=d+m,l,v=m;v<q;v++)l=k[v]+p*f[v-m]+g,g=l/1E7|0,k[v]=l%1E7|0;g&&(l=k[v]+g,k[v]=l%1E7)}return new r(k,this._s*a._s,b)};r.prototype.multiplySingleDigit=function(a){if(0===a||0===this._s)return c;if(1===a)return this;var h;if(1===this._d.length)return h=this._d[0]*a,1E7<=h?new r([h%1E7|0,h/1E7|0],1,
b):new r([h],1,b);if(2===a)return this.add(this);if(this.isUnit())return new r([a],1,b);var f=this._d,d=f.length;h=d+1;for(var e=Array(h),g=0;g<h;g++)e[g]=0;for(var k=g=0;k<d;k++)h=a*f[k]+g,g=h/1E7|0,e[k]=h%1E7|0;g&&(e[k]=g);return new r(e,1,b)};r.prototype.square=function(){if(0===this._s)return c;if(this.isUnit())return f;var a=this._d,h=a.length,d=Array(h+h+1),e,g,k,m;for(m=0;m<h;m++)k=2*m,e=a[m]*a[m],g=e/1E7|0,d[k]=e%1E7,d[k+1]=g;for(m=0;m<h;m++){g=0;k=2*m+1;for(var p=m+1;p<h;p++,k++)e=a[p]*a[m]*
2+d[k]+g,g=e/1E7|0,d[k]=e%1E7;k=h+m;e=g+d[k];g=e/1E7|0;d[k]=e%1E7;d[k+1]+=g}return new r(d,1,b)};r.prototype.quotient=function(a){return this.divRem(a)[0]};r.prototype.divide=r.prototype.quotient;r.prototype.remainder=function(a){return this.divRem(a)[1]};r.prototype.divRem=function(a){a=r(a);if(0===a._s)throw Error("Divide by zero");if(0===this._s)return[c,c];if(1===a._d.length)return this.divRemSmall(a._s*a._d[0]);switch(this.compareAbs(a)){case 0:return[this._s===a._s?f:d,c];case -1:return[c,this]}var h=
this._s*a._s,e=a.abs(),g=this._d,k=g.length,m=[],p,q=new r([],0,b);for(q._s=1;k;)if(q._d.unshift(g[--k]),0>q.compareAbs(a))m.push(0);else{if(0===q._s)p=0;else{var l=q._d.length;p=e._d.length;l=1E7*q._d[l-1]+q._d[l-2];p=1E7*e._d[p-1]+e._d[p-2];q._d.length>e._d.length&&(l=1E7*(l+1));p=Math.ceil(l/p)}do{l=e.multiplySingleDigit(p);if(0>=l.compareAbs(q))break;p--}while(p);m.push(p);p&&(p=q.subtract(l),q._d=p._d.slice(),0===q._d.length&&(q._s=0))}return[new r(m.reverse(),h,b),new r(q._d,this._s,b)]};r.prototype.divRemSmall=
function(a){a=+a;if(0===a)throw Error("Divide by zero");var h=this._s*(0>a?-1:1);a=Math.abs(a);if(1>a||1E7<=a)throw Error("Argument out of range");if(0===this._s)return[c,c];if(1===a||-1===a)return[1===h?this.abs():new r(this._d,h,b),c];if(1===this._d.length){var f=new r([this._d[0]/a|0],1,b);a=new r([this._d[0]%a|0],1,b);0>h&&(f=f.negate());0>this._s&&(a=a.negate());return[f,a]}for(var d=this._d.slice(),f=Array(d.length),e=0,g=0,k=0,m;d.length;)e=1E7*e+d[d.length-1],e<a?(f[k++]=0,d.pop(),g=1E7*g+
e):(m=0===e?0:e/a|0,g=e-a*m,(f[k++]=m)?(d.pop(),e=g):d.pop());a=new r([g],1,b);0>this._s&&(a=a.negate());return[new r(f.reverse(),h,b),a]};r.prototype.isEven=function(){var a=this._d;return 0===this._s||0===a.length||0===a[0]%2};r.prototype.isOdd=function(){return!this.isEven()};r.prototype.sign=function(){return this._s};r.prototype.isPositive=function(){return 0<this._s};r.prototype.isNegative=function(){return 0>this._s};r.prototype.isZero=function(){return 0===this._s};r.prototype.exp10=function(a){a=
+a;if(0===a)return this;if(Math.abs(a)>Number(e))throw Error("exponent too large in BigInteger.exp10");if(0<a){for(var h=new r(this._d.slice(),this._s,b);7<=a;a-=7)h._d.unshift(0);if(0==a)return h;h._s=1;h=h.multiplySingleDigit(Math.pow(10,a));return 0>this._s?h.negate():h}if(-a>=7*this._d.length)return c;h=new r(this._d.slice(),this._s,b);for(a=-a;7<=a;a-=7)h._d.shift();return 0==a?h:h.divRemSmall(Math.pow(10,a))[0]};r.prototype.pow=function(a){if(this.isUnit())return 0<this._s?this:r(a).isOdd()?
this:this.negate();a=r(a);if(0===a._s)return f;if(0>a._s){if(0===this._s)throw Error("Divide by zero");return c}if(0===this._s)return c;if(a.isUnit())return this;if(0<a.compareAbs(e))throw Error("exponent too large in BigInteger.pow");for(var h=this,b=f,d=r.small[2];a.isPositive()&&(!a.isOdd()||(b=b.multiply(h),!a.isUnit()));)h=h.square(),a=a.quotient(d);return b};r.prototype.modPow=function(a,h){for(var b=f,c=this;a.isPositive();)a.isOdd()&&(b=b.multiply(c).remainder(h)),a=a.quotient(r.small[2]),
a.isPositive()&&(c=c.square().remainder(h));return b};r.prototype.log=function(){switch(this._s){case 0:return-Infinity;case -1:return NaN}var a=this._d.length;if(30>7*a)return Math.log(this.valueOf());var h=Math.ceil(30/7),c=this._d.slice(a-h);return Math.log((new r(c,1,b)).valueOf())+(a-h)*Math.log(1E7)};r.prototype.valueOf=function(){return parseInt(this.toString(),10)};r.prototype.toJSValue=function(){return parseInt(this.toString(),10)};var e=r(2147483647);r.MAX_EXP=e;(function(){function a(h){return function(a){return h.call(r(a))}}
function h(a){return function(h,b){return a.call(r(h),r(b))}}function b(a){return function(h,b,c){return a.call(r(h),r(b),r(c))}}(function(){var c,f,d="toJSValue isEven isOdd sign isZero isNegative abs isUnit square negate isPositive toString next prev log".split(" "),e="compare remainder divRem subtract add quotient divide multiply pow compareAbs".split(" "),g=["modPow"];for(c=0;c<d.length;c++)f=d[c],r[f]=a(r.prototype[f]);for(c=0;c<e.length;c++)f=e[c],r[f]=h(r.prototype[f]);for(c=0;c<g.length;c++)f=
g[c],r[f]=b(r.prototype[f]);r.exp10=function(a,h){return r(a).exp10(h)}})()})();a.BigInteger=r})("undefined"!==typeof c?c:this);var q={greatest_common_divisor:function(a,b){if(b.isUnit()||a.isUnit())return BigInteger.ONE;for(var c;!b.isZero();)c=b,b=a.remainder(b),a=c;return a},create:function(){return[0]},clone:function(a){for(var b=[],c=0,f=a.length;c<f;c++)b[c]=a[c];return b},copy:function(a,b){a=[];for(var c=0,f=b.length;c<f;c++)a[c]=b[c];return a},abs:function(a,b){a[0]=Math.abs(b[0]);return a},
str:function(a){return a[0].toString()},toInteger:function(a){return out[0]},fromInteger:function(a){return[parseInt(a)]}};q.ZERO=q.fromInteger(0);q.ONE=q.fromInteger(1);"undefined"!==typeof c&&(c.bigint=q);if(!m)var m=Array;if(!p)var p=Math.pow(2,56);if(!l)var l=16777216;var k={EPSILON:2E-16};k.MAX_LOOPS=l;k.create=function(){var a=new m(2);a[0]=0;a[1]=1;return a};k.clone=function(a){var b=new m(2);b[0]=a[0];b[1]=a[1];return b};k.fromValues=function(a,b){var c=new m(2);c[0]=a;c[1]=b;return k.normalize(c,
c)};k.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};k.set=function(a,b,c){a[0]=b;a[1]=c;return k.normalize(a,a)};k.abs=function(a,b){a[0]=Math.abs(b[0]);a[1]=b[1];return a};k.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};k.reciprocal=k.invert;k.add=function(a,b,c){b[1]===c[1]?(a[0]=b[0]+c[0],a[1]=b[1]):(a[0]=b[0]*c[1]+c[0]*b[1],a[1]=b[1]*c[1]);return k.normalize(a,a)};k.subtract=function(a,b,c){b[1]===c[1]?(a[0]=b[0]-c[0],a[1]=b[1]):(a[0]=b[0]*c[1]-c[0]*b[1],a[1]=b[1]*c[1]);return k.normalize(a,
a)};k.sub=k.subtract;k.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return k.normalize(a,a)};k.mul=k.multiply;k.mediant=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return k.normalize(a,a)};k.divide=function(a,b,c){a[0]=b[0]*c[1];a[1]=b[1]*c[0];return k.normalize(a,a)};k.div=k.divide;k.equals=function(a,b){return 0===a[0]&&0===b[0]||0===a[1]&&0===b[1]?!0:a[0]===b[0]&&a[1]===b[1]};k.approximates=function(a,b){if(k.equals(a,b))return!0;var c=k.create();k.sub(c,a,b);k.abs(c,c);return k.isLessThan(c,
k.INFINITESIMAL)};k.isGreaterThan=function(a,b){return k.equals(a,b)?!1:a[0]*b[1]>b[0]*a[1]};k.isLessThan=function(a,b){return k.equals(a,b)?!1:a[0]*b[1]<b[0]*a[1]};k.isNegative=function(a){return 0>a[0]};k.min=function(a,b,c){k.isLessThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};k.max=function(a,b,c){k.isGreaterThan(b,c)?(a[0]=b[0],a[1]=b[1]):(a[0]=c[0],a[1]=c[1]);return a};k.scalar_multiply=function(a,b,c){a[0]=b[0]*c;a[1]=b[1];return k.normalize(a,a)};k.scalar_divide=function(a,
b,c){a[0]=b[0];a[1]=b[1]*c;return k.normalize(a,a)};k.normalize=function(a,b){if(isNaN(b[0])||isNaN(b[1])||0===b[0]&&0===b[1])return a[0]=0,a[1]=0,a;if(0===b[0])return a[0]=0,a[1]=1,a;if(0===b[1])return a[0]=1,a[1]=0,a;if(b[0]===b[1])return a[0]=1,a[1]=1,a;0<b[1]?(a[0]=b[0],a[1]=b[1]):(a[0]=-b[0],a[1]=-b[1]);var c=e.greatest_common_divisor(Math.abs(a[0]),a[1]);1<c&&(a[0]/=c,a[1]/=c);return a};k.opposite=function(a,b){a[0]=-b[0];a[1]=b[1];return a};k.negative=k.opposite;k.neg=k.opposite;k.power=function(a,
b,c){2===c?(a[0]=b[0]*b[0],a[1]=b[1]*b[1]):0<c?(a[0]=Math.pow(b[0],c),a[1]=Math.pow(b[1],c)):0>c?(c=Math.abs(c),a[0]=Math.pow(b[1],c),a[1]=Math.pow(b[0],c)):k.copy(a,k.ONE);return k.normalize(a,a)};k.pow=k.power;k.sqrt=function(a,b){return k.nthRoot(a,b,2)};k.nthRoot=function(a,b,c){if(k.equals(b,k.ZERO))return k.copy(a,k.ZERO);if(k.equals(b,k.ONE))return k.copy(a,k.ONE);if(k.equals(b,k.INFINITY))return k.copy(a,k.INFINITY);if(k.equals(b,k.INFINULL))return k.copy(a,k.INFINULL);var f=k.isNegative(b);
f&&(b[0]=-b[0]);a=k.copy(a,k.ONE);for(var d=[1,0,0,1],e=k.clone(k.ONE),g=k.MAX_LOOPS;!k.approximates(b,e)&&g--;)k.isLessThan(b,e)?(d[0]+=d[1],d[2]+=d[3]):(d[1]+=d[0],d[3]+=d[2]),a[0]=d[0]+d[1],a[1]=d[2]+d[3],k.pow(e,a,c);f&&(b[0]=-b[0],1===c%2&&k.neg(a,a));return a};k.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};k.str=function(a){return 1===a[1]?a[0].toString():a[0]+"/"+a[1]};k.toDecimal=function(a){return a[0]/a[1]};k.dec=k.toDecimal;k.toInteger=function(a){return Math.round(k.toDecimal(a))};k.round=
k.toInteger;k.floor=function(a){return Math.floor(k.toDecimal(a))};k.ceil=function(a){return Math.ceil(k.toDecimal(a))};k.fromInteger_copy=function(a,b){a[0]=parseInt(b);a[1]=1;return a};k.fromInteger=function(a){return k.fromInteger_copy(k.create(),a)};k.fromIntegerInverse_copy=function(a,b){a[0]=1;a[1]=parseInt(b);0>a[1]&&(a[0]=-a[0],a[1]=-a[1]);return a};k.fromIntegerInverse=function(a){return k.fromIntegerInverse_copy(k.create(),a)};k.fromDecimal=function(a){return k.fromDecimal_copy(k.create(),
a)};k.fromDecimal_copy=function(a,b){b=parseFloat(b);if(isNaN(b))return k.copy(a,k.INFINULL);if(Infinity===b)return k.copy(a,k.INFINITY);if(Math.abs(b)<k.EPSILON)return k.copy(a,k.ZERO);if(Math.abs(b-1)<k.EPSILON)return k.copy(a,k.ONE);if(Math.abs(b%1)<k.EPSILON)return k.fromInteger_copy(a,b);if(Math.abs(1/b%1)<k.EPSILON)return k.fromIntegerInverse_copy(a,Math.round(1/b));k.copy(a,k.ONE);for(var c=[1,0,0,1],f=b,d=1,e=k.MAX_LOOPS;e--&&Math.abs(b-k.toDecimal(a))>k.EPSILON;)d=Math.floor(f),a[0]=d*c[0]+
c[2],a[1]=d*c[1]+c[3],f=1/(f-d),c[2]=c[0],c[3]=c[1],c[0]=a[0],c[1]=a[1];return a};k.fromRandom=function(a){a[0]=0xfffffffffffff*Math.random()<<0;a[1]=Math.abs(0xfffffffffffff*Math.random()<<0);return k.normalize(a,a)};k.sin=function(a,b){if(0===b[1])return k.copy(a,k.ZERO);k.scalar_multiply(a,b,2);var c=k.create();k.pow(c,b,2);k.add(c,c,k.ONE);k.divide(a,a,c);return a};k.cos=function(a,b){if(0===b[1])return k.neg(a,k.ONE);var c=k.create();k.pow(c,b,2);k.sub(a,k.ONE,c);var f=k.create();k.add(f,k.ONE,
c);k.divide(a,a,f);return a};k.tan=function(a,b){k.scalar_multiply(a,b,2);var c=k.create();k.pow(c,b,2);k.scalar_multiply(c,c,2);k.add(a,a,c);k.pow(c,b,4);k.sub(c,k.ONE,c);k.divide(a,a,c);return a};k.toEgyptian=function(a){a=k.clone(a);k.abs(a,a);var b=k.floor(a);b&&k.sub(a,a,k.fromInteger(b));if(!a[0])return b.toString();b||(b="");for(var c=1,f=k.create();1!==a[0];)c++,f=k.fromValues(1,c),k.isGreaterThan(a,f)&&(b&&(b+=" + "),b+=k.str(f),k.sub(a,a,f));return a?b?b+" + "+k.str(a):k.str(a):b?b:"0"};
k.toBabylonian=function(a){var b="",c=k.toDecimal(a);a=parseInt(c);for(var c=c-a,f=0,d=0;0<a;)(f=a%60)&&(b=f+" * 60^"+d+(b?" + ":"")+b),a=(a-f)/60,d++;for(d=-1;0<c;)c*=60,f=parseInt(c+1E-13),c-=f,-1E-13>c||(f&&(b+=(b?" + ":"")+f+" * 60^"+d),d--);return b?b:"0"};k.traceSternBrocot=function(a){var b="";if(k.equals(a,k.ZERO)||k.equals(a,k.ONE)||k.equals(a,k.INFINITY)||k.equals(a,k.INFINULL))return b;if(k.equals(a,k.ZERO))return k.copy(out,k.ZERO);if(k.equals(a,k.ONE))return k.copy(out,k.ONE);if(k.equals(a,
k.INFINITY))return k.copy(out,k.INFINITY);if(k.equals(a,k.INFINULL))return k.copy(out,k.INFINULL);a=k.clone(a);k.isNegative(a)&&(a[0]=-a[0]);for(var c=k.clone(k.ONE),f=[1,0,0,1],d=0,e=0,g=k.MAX_LOOPS;!k.approximates(a,c)&&g--;)k.isLessThan(a,c)?(f[0]+=f[1],f[2]+=f[3],e++,d&&(b+="R",1!==d&&(b+=d),d=0,b+=" ")):(f[1]+=f[0],f[3]+=f[2],d++,e&&(b+="L",1!==e&&(b+=e),e=0,b+=" ")),c[0]=f[0]+f[1],c[1]=f[2]+f[3];e?(b+="L",1!==e&&(b+=e)):d&&(b+="R",1!==d&&(b+=d));0>g&&(b+="...");return b};k.toContinuedFraction=
function(a,b){b="undefined"===typeof b?65536:parseInt(b);if(k.equals(a,k.ZERO))return[0];if(k.equals(a,k.ONE))return[1];if(k.equals(a,k.NEGONE))return[-1];if(k.equals(a,k.INFINITY))return[1,0];if(k.equals(a,k.INFINULL))return[0,0];var c=k.clone(a),f=k.isNegative(c);f&&(c[0]=-c[0]);for(var d=k.clone(k.ONE),e=[1,0,0,1],g=1,m=[0],p=m.length-1;!k.equals(c,d)&&b--;)k.isLessThan(c,d)?(-1===g?m[p]++:(g=-1,m.push(1),p++),e[0]+=e[1],e[2]+=e[3]):(1===g?m[p]++:(g=1,m.push(1),p++),e[1]+=e[0],e[3]+=e[2]),d[0]=
e[0]+e[1],d[1]=e[2]+e[3];0>b?m.push(0):m[p]++;if(f)for(var q in m)m[q]=-m[q];return m};k.fromContinuedFraction=function(a,b){k.fromInteger_copy(a,b[b.length-1]);for(var c=b.length-2;-1<c;c--)k.invert(a,a),k.add(a,k.fromInteger(b[c]),a);return a};k.dump=function(a){k.create();return"rat\t"+k.str(a)+"\n~\t"+k.toDecimal(a)+"\nCF:\t["+k.toContinuedFraction(a)+"]\n"};k.ZERO=k.fromInteger(0);k.ONE=k.fromInteger(1);k.NEGONE=k.fromInteger(-1);k.INFINITY=k.fromValues(1,0);k.INFINULL=k.fromValues(0,0);k.INFINITESIMAL=
k.clone([1,p]);k.PI=k.fromValues(1320192667429,420230377710);"undefined"!==typeof c&&(c.rat=k);if(!b)var b=new BigInteger("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF");if(!d)var d=1073741824;var a={EPSILON:2E-16};a.MAX_LOOPS=d;a.create=function(){var a=[];a[0]=BigInteger.ZERO;a[1]=BigInteger.ONE;return a};a.clone=function(a){var b=[];b[0]=a[0];b[1]=a[1];return b};a.fromValues=function(b,c){var f=[];f[0]=new BigInteger(b);f[1]=new BigInteger(c);return a.normalize(f,f)};a.copy=function(a,b){a[0]=b[0];a[1]=
b[1];return a};a.set=function(b,c,f){b[0]=c;b[1]=f;return a.normalize(b,b)};a.toRat=function(a,b){return k.set(a,b[0].toJSValue(),b[1].toJSValue())};a.fromRat=function(b,c){return a.set(b,BigInteger(c[0]),BigInteger(c[1]))};a.abs=function(a,b){a[0]=b[0].abs();a[1]=b[1];return a};a.invert=function(a,b){var c=b[0];a[0]=b[1];a[1]=c;return a};a.reciprocal=a.invert;a.add=function(b,c,f){0===c[1].compare(f[1])?(b[0]=c[0].add(f[0]),b[1]=c[1]):(b[0]=c[0].multiply(f[1]).add(f[0].multiply(c[1])),b[1]=c[1].multiply(f[1]));
return a.normalize(b,b)};a.subtract=function(b,c,f){0===c[1].compare(f[1])?(b[0]=c[0].subtract(f[0]),b[1]=c[1]):(b[0]=c[0].multiply(f[1]).subtract(f[0].multiply(c[1])),b[1]=c[1].multiply(f[1]));return a.normalize(b,b)};a.sub=a.subtract;a.multiply=function(b,c,f){b[0]=c[0].multiply(f[0]);b[1]=c[1].multiply(f[1]);return a.normalize(b,b)};a.mul=a.multiply;a.mediant=function(b,c,f){b[0]=c[0].add(f[0]);b[1]=c[1].add(f[1]);return a.normalize(b,b)};a.divide=function(b,c,f){b[0]=c[0].multiply(f[1]);b[1]=
c[1].multiply(f[0]);return a.normalize(b,b)};a.div=a.divide;a.equals=function(a,b){return a[0].isZero()&&b[0].isZero()||a[1].isZero()&&b[1].isZero()?!0:0===a[0].compare(b[0])&&0===a[1].compare(b[1])};a.approximates=function(b,c){if(a.equals(b,c))return!0;var f=a.create();a.sub(f,b,c);a.abs(f,f);return a.isLessThan(f,a.INFINITESIMAL)};a.isGreaterThan=function(b,c){return a.equals(b,c)?!1:0<b[0].multiply(c[1]).compare(c[0].multiply(b[1]))};a.isLessThan=function(b,c){return a.equals(b,c)?!1:0>b[0].multiply(c[1]).compare(c[0].multiply(b[1]))};
a.isNegative=function(a){return a[0].isNegative()};a.min=function(b,c,f){a.isLessThan(c,f)?(b[0]=c[0],b[1]=c[1]):(b[0]=f[0],b[1]=f[1]);return b};a.max=function(b,c,f){a.isGreaterThan(c,f)?(b[0]=c[0],b[1]=c[1]):(b[0]=f[0],b[1]=f[1]);return b};a.scalar_multiply=function(b,c,f){b[0]=c[0].multiply(f);b[1]=c[1];return a.normalize(b,b)};a.scalar_divide=function(b,c,f){b[0]=c[0];b[1]=c[1].multiply(f);return a.normalize(b,b)};a.normalize=function(b,c){if(c[0].isZero()||c[1].isZero())return c;if(0===c[0].compare(c[1]))return a.clone(a.ONE);
if(c[1].isNegative())b[0]=c[0].negate(),b[1]=c[1].negate();else if(b[0]=c[0],b[1]=c[1],b[1].isZero())return b;var f=q.greatest_common_divisor(b[0].abs(),b[1]);0<f.compare(BigInteger.ONE)&&(b[0]=b[0].quotient(f),b[1]=b[1].quotient(f));return b};a.opposite=function(a,b){a[0]=b[0].negate();a[1]=b[1];return a};a.negative=a.opposite;a.neg=a.opposite;a.power=function(b,c,f){2===f?(b[0]=c[0].square(),b[1]=c[1].square()):0<f?(b[0]=c[0].pow(f),b[1]=c[1].pow(f)):0>f?(f=Math.abs(f),b[0]=c[1].pow(f),b[1]=c[0].pow(f)):
a.copy(b,a.ONE);return b};a.pow=a.power;a.sqrt=function(b,c){return a.nthRoot(b,c,2)};a.nthRoot=function(b,c,f){if(a.equals(c,a.ZERO))return a.copy(b,a.ZERO);if(a.equals(c,a.ONE))return a.copy(b,a.ONE);if(a.equals(c,a.INFINITY))return a.copy(b,a.INFINITY);if(a.equals(c,a.INFINULL))return a.copy(b,a.INFINULL);var e=a.isNegative(c);e&&(c[0]=c[0].negate());a.copy(b,a.ONE);for(var g=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],k=a.clone(a.ONE),m=d;!a.approximates(c,k)&&m--;)a.isLessThan(c,
k)?(g[0]=g[0].add(g[1]),g[2]=g[2].add(g[3])):(g[1]=g[1].add(g[0]),g[3]=g[3].add(g[2])),b[0]=g[0].add(g[1]),b[1]=g[2].add(g[3]),a.pow(k,b,f);e&&(c[0]=c[0].negate(),1===f%2&&a.neg(b,b));return b};a.dot=function(a,b){return a[0].multiply(b[0]).add(a[1].multiply(b[1]))};a.str=function(a){return 0===a[1].compare(BigInteger.ONE)?a[0].toString():a[0].toString()+"/"+a[1].toString()};a.toDecimal=function(a){return a[0].toJSValue()/a[1].toJSValue()};a.dec=a.toDecimal;a.toInteger=function(a){return a[0].quotient(a[1]).toJSValue()};
a.round=a.toInteger;a.toBigInteger=function(a){return a[0].quotient(a[1])};a.floor=function(b){return Math.floor(a.toDecimal(b))};a.ceil=function(b){return Math.ceil(a.toDecimal(b))};a.fromInteger_copy=function(a,b){a[0]=BigInteger(b);a[1]=BigInteger.ONE;return a};a.fromInteger=function(b){return a.fromInteger_copy(a.create(),b)};a.fromIntegerInverse_copy=function(a,b){a[0]=BigInteger.ONE;a[1]=BigInteger(b);a[1].isNegative()&&(a[0]=a[0].negate(),a[1]=a[1].negate());return a};a.fromIntegerInverse=
function(b){return a.fromIntegerInverse_copy(a.create(),b)};a.fromDecimal=function(b){return a.fromDecimal_copy(a.create(),b)};a.fromDecimal_copy=function(b,c){c=parseFloat(c);if(isNaN(c))return a.copy(b,a.INFINULL);if(Infinity===c)return a.copy(b,a.INFINITY);if(Math.abs(c)<a.EPSILON)return a.copy(b,a.ZERO);if(Math.abs(c-1)<a.EPSILON)return a.copy(b,a.ONE);if(Math.abs(c%1)<a.EPSILON)return a.fromInteger_copy(b,c);if(Math.abs(1/c%1)<a.EPSILON)return a.fromIntegerInverse_copy(b,Math.round(1/c));a.copy(b,
a.ONE);for(var f=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],d=c,e=1,g=a.MAX_LOOPS;g--&&Math.abs(c-a.toDecimal(b))>a.EPSILON;)e=Math.floor(d),b[0]=BigInteger(e*f[0]+f[2]),b[1]=BigInteger(e*f[1]+f[3]),d=1/(d-e),f[2]=f[0],f[3]=f[1],f[0]=b[0],f[1]=b[1];return b};a.fromRandom=function(b){b[0]=BigInteger(0xfffffffffffff*Math.random()<<0);b[1]=BigInteger(Math.abs(0xfffffffffffff*Math.random()<<0));return a.normalize(b,b)};a.sin=function(b,c){if(c[1].isZero())return a.copy(b,a.ZERO);a.scalar_multiply(b,
c,2);var f=a.create();a.pow(f,c,2);a.add(f,f,a.ONE);a.divide(b,b,f);return b};a.cos=function(b,c){if(c[1].isZero())return a.neg(b,a.ONE);var f=a.create();a.pow(f,c,2);a.sub(b,a.ONE,f);var d=a.create();a.add(d,a.ONE,f);a.divide(b,b,d);return b};a.tan=function(b,c){a.scalar_multiply(b,c,2);var f=a.create();a.pow(f,c,2);a.scalar_multiply(f,f,2);a.add(b,b,f);a.pow(f,c,4);a.sub(f,a.ONE,f);a.divide(b,b,f);return b};a.toEgyptian=function(b){b=a.clone(b);a.abs(b,b);var c=a.floor(b);c&&a.sub(b,b,a.fromInteger(c));
if(!b[0])return c.toString();c||(c="");for(var f=1,d=a.create();1!==b[0];)f++,d=a.fromValues(1,f),a.isGreaterThan(b,d)&&(c&&(c+=" + "),c+=a.str(d),a.sub(b,b,d));return b?c?c+" + "+a.str(b):a.str(b):c?c:"0"};a.toBabylonian=function(b){var c="",f=a.toDecimal(b);b=parseInt(f);for(var f=f-b,d=0,e=0;0<b;)(d=b%60)&&(c=d+" * 60^"+e+(c?" + ":"")+c),b=(b-d)/60,e++;for(e=-1;0<f;)f*=60,d=parseInt(f+1E-13),f-=d,-1E-13>f||(d&&(c+=(c?" + ":"")+d+" * 60^"+e),e--);return c?c:"0"};a.traceSternBrocot=function(b){var c=
"";if(a.equals(b,a.ZERO)||a.equals(b,a.ONE)||a.equals(b,a.INFINITY)||a.equals(b,a.INFINULL))return c;b=a.clone(b);a.isNegative(b)&&(b[0]=b[0].negate());for(var f=a.clone(a.ONE),d=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],e=0,g=0,k=65536;!a.equals(b,f)&&k--;)a.isLessThan(b,f)?(d[0]=d[0].add(d[1]),d[2]=d[2].add(d[3]),g++,e&&(c+="R",1!==e&&(c+=e),e=0,c+=" ")):(d[1]=d[1].add(d[0]),d[3]=d[3].add(d[2]),e++,g&&(c+="L",1!==g&&(c+=g),g=0,c+=" ")),f[0]=d[0].add(d[1]),f[1]=d[2].add(d[3]);g?(c+=
"L",1!==g&&(c+=g)):e&&(c+="R",1!==e&&(c+=e));0>k&&(c+="...");return c};a.toContinuedFraction=function(b,c){c="undefined"===typeof c?65536:parseInt(c);if(a.equals(b,a.ZERO))return[0];if(a.equals(b,a.ONE))return[1];if(a.equals(b,a.NEGONE))return[-1];if(a.equals(b,a.INFINITY))return[1,0];if(a.equals(b,a.INFINULL))return[0,0];var f=a.clone(b),d=a.isNegative(f);d&&(f[0]=f[0].negate());for(var e=a.clone(a.ONE),g=[BigInteger(1),BigInteger(0),BigInteger(0),BigInteger(1)],k=1,m=[0],p=m.length-1;!a.equals(f,
e)&&c--;)a.isLessThan(f,e)?(-1===k?m[p]++:(k=-1,m.push(1),p++),g[0]=g[0].add(g[1]),g[2]=g[2].add(g[3])):(1===k?m[p]++:(k=1,m.push(1),p++),g[1]=g[1].add(g[0]),g[3]=g[3].add(g[2])),e[0]=g[0].add(g[1]),e[1]=g[2].add(g[3]);0>c?m.push(0):m[p]++;if(d)for(var q in m)m[q]=-m[q];return m};a.fromContinuedFraction=function(b,c){a.fromInteger_copy(b,c[c.length-1]);for(var f=c.length-2;-1<f;f--)a.invert(b,b),a.add(b,a.fromInteger(c[f]),b);return b};a.fromFactorial=function(b,c){if("undefined"!==typeof factorial.PREPARED[c])return a.fromInteger_copy(b,
factorial.PREPARED[c]);var f=factorial.PREPARED.length-1;for(a.fromInteger_copy(b,factorial.PREPARED[f]);f<c;)a.scalar_multiply(b,b,++f);return b};a.dump=function(b){return"bigrat\t"+a.str(b)+"\n~\t"+a.toDecimal(b)+"\nCF:\t["+a.toContinuedFraction(b)+"]\n"};a.ZERO=a.fromInteger(0);a.ONE=a.fromInteger(1);a.NEGONE=a.fromInteger(-1);a.INFINITY=a.fromValues(1,0);a.INFINULL=a.fromValues(0,0);a.INFINITESIMAL=a.clone([new BigInteger(1),b]);a.PI=a.fromValues("3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587",
"1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");"undefined"!==typeof c&&(c.bigrat=a);var f=function(a,b){this.a=k.fromValues(parseInt(a),parseInt(b))};f.prototype.toString=function(){return k.str(this.a)};f.prototype.toContinuedFraction=function(a){return k.toContinuedFraction(this.a,
a)};f.prototype.invert=function(){return k.invert(this.a)};f.prototype.reciprocal=f.prototype.invert;f.prototype.add=function(a){var b=k.create();k.add(b,this.a,a.a);return new f(b[0],b[1])};f.prototype.plus=f.prototype.add;f.prototype.subtract=function(a){var b=k.create();k.sub(b,this.a,a.a);return new f(b[0],b[1])};f.prototype.sub=f.prototype.subtract;f.prototype.minus=f.prototype.subtract;f.prototype.multiply=function(a){var b=k.create();k.mul(b,this.a,a.a);return new f(b[0],b[1])};f.prototype.mul=
f.prototype.multiply;f.prototype.times=f.prototype.multiply;f.prototype.mediant=function(a){var b=k.create();k.mediant(b,this.a,a.a);return new f(b[0],b[1])};f.prototype.divide=function(a){var b=k.create();k.div(b,this.a,a.a);return new f(b[0],b[1])};f.prototype.div=f.prototype.divide;f.prototype.divided_by=f.prototype.divide;f.prototype.power=function(a){var b=k.create();k.pow(b,this.a,a);return new f(b[0],b[1])};f.prototype.pow=f.prototype.power;f.prototype.dump=function(){return k.dump(this.a)};
f.prototype.toRat=function(){return k.clone(this.a)};f.prototype.toDecimal=function(){return k.toDecimal(this.a)};f.fromRat=function(a){var b=new f;b.a[0]=a[0];b.a[1]=a[1];return b};f.fromInteger=function(a){return f.fromRat(k.fromInteger(a))};f.fromIntegerInverse=function(a){return f.fromRat(k.fromIntegerInverse(a))};f.fromDecimal=function(a){return f.fromRat(k.fromDecimal(a))};f.fromContinuedFraction=function(a){return f.fromRat(k.fromContinuedFraction(k.create(),a))};"undefined"!==typeof c&&(c.rational=
f)})(l)})(this);(function(c,l){"object"===typeof module&&"object"===typeof module.exports?module.exports=c.document?l(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return l(c)}:l(c)})("undefined"!==typeof window?window:this,function(c,l){function g(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function e(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,f){return!!b.call(a,
f,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Ab.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return 0<=qa.call(b,a)!==c})}function q(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function m(a){var b=lb[a]={};n.each(a.match(ra)||[],function(a,c){b[c]=!0});return b}function p(){H.removeEventListener("DOMContentLoaded",p,!1);c.removeEventListener("load",p,!1);n.ready()}function s(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=n.expando+Math.random()}function k(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Qa,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Bb.test(c)?n.parseJSON(c):c}catch(f){}T.set(a,b,c)}else c=void 0;return c}function b(){return!0}function d(){return!1}function a(){try{return H.activeElement}catch(a){}}function f(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?
b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function h(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function r(a){var b=bb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function x(a,b){for(var c=0,f=a.length;c<f;c++)M.set(a[c],"globalEval",!b||M.get(b[c],"globalEval"))}function z(a,b){var c,f,d,h;if(1===b.nodeType){if(M.hasData(a)&&(h=M.access(a),c=M.set(b,h),h=h.events))for(d in delete c.handle,
c.events={},h)for(c=0,f=h[d].length;c<f;c++)n.event.add(b,d,h[d][c]);T.hasData(a)&&(d=T.access(a),d=n.extend({},d),T.set(b,d))}}function v(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function w(a,b){var f,d=n(b.createElement(a)).appendTo(b.body),h=c.getDefaultComputedStyle&&(f=c.getDefaultComputedStyle(d[0]))?f.display:n.css(d[0],"display");d.detach();return h}function A(a){var b=
H,c=Ra[a];c||(c=w(a,b),"none"!==c&&c||(Sa=(Sa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Sa[0].contentDocument,b.write(),b.close(),c=w(a,b),Sa.detach()),Ra[a]=c);return c}function C(a,b,c){var f,d,h=a.style;(c=c||Ta(a))&&(d=c.getPropertyValue(b)||c[b]);c&&(""!==d||n.contains(a.ownerDocument,a)||(d=n.style(a,b)),ma.test(d)&&Ha.test(b)&&(a=h.width,b=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=d,d=c.width,h.width=a,h.minWidth=b,h.maxWidth=f));return void 0!==
d?d+"":d}function I(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function J(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),f=b,d=ia.length;d--;)if(b=ia[d]+c,b in a)return b;return f}function E(a,b,c){return(a=ja.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function Q(a,b,c,f,d){b=c===(f?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===c&&(h+=n.css(a,c+xa[b],!0,d)),f?("content"===c&&(h-=n.css(a,"padding"+
xa[b],!0,d)),"margin"!==c&&(h-=n.css(a,"border"+xa[b]+"Width",!0,d))):(h+=n.css(a,"padding"+xa[b],!0,d),"padding"!==c&&(h+=n.css(a,"border"+xa[b]+"Width",!0,d)));return h}function G(a,b,c){var f=!0,d="width"===b?a.offsetWidth:a.offsetHeight,h=Ta(a),e="border-box"===n.css(a,"boxSizing",!1,h);if(0>=d||null==d){d=C(a,b,h);if(0>d||null==d)d=a.style[b];if(ma.test(d))return d;f=e&&(W.boxSizingReliable()||d===a.style[b]);d=parseFloat(d)||0}return d+Q(a,b,c||(e?"border":"content"),f,h)+"px"}function P(a,
b){for(var c,f,d,h=[],e=0,g=a.length;e<g;e++)f=a[e],f.style&&(h[e]=M.get(f,"olddisplay"),c=f.style.display,b?(h[e]||"none"!==c||(f.style.display=""),""===f.style.display&&Ba(f)&&(h[e]=M.access(f,"olddisplay",A(f.nodeName)))):(d=Ba(f),"none"===c&&d||M.set(f,"olddisplay",d?c:n.css(f,"display"))));for(e=0;e<g;e++)f=a[e],!f.style||b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?h[e]||"":"none");return a}function N(a,b,c,f,d){return new N.prototype.init(a,b,c,f,d)}function K(){setTimeout(function(){Ca=
void 0});return Ca=n.now()}function X(a,b){var c,f=0,d={height:a};for(b=b?1:0;4>f;f+=2-b)c=xa[f],d["margin"+c]=d["padding"+c]=a;b&&(d.opacity=d.width=a);return d}function ba(a,b,c){for(var f,d=(D[b]||[]).concat(D["*"]),h=0,e=d.length;h<e;h++)if(f=d[h].call(c,b,a))return f}function V(a,b){var c,f,d,h,e;for(c in a)if(f=n.camelCase(c),d=b[f],h=a[c],n.isArray(h)&&(d=h[1],h=a[c]=h[0]),c!==f&&(a[f]=h,delete a[c]),(e=n.cssHooks[f])&&"expand"in e)for(c in h=e.expand(h),delete a[f],h)c in a||(a[c]=h[c],b[c]=
d);else b[f]=d}function ka(a,b,c){var f,d=0,h=O.length,e=n.Deferred().always(function(){delete g.elem}),g=function(){if(f)return!1;for(var b=Ca||K(),b=Math.max(0,r.startTime+r.duration-b),c=1-(b/r.duration||0),d=0,h=r.tweens.length;d<h;d++)r.tweens[d].run(c);e.notifyWith(a,[r,c,b]);if(1>c&&h)return b;e.resolveWith(a,[r]);return!1},r=e.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ca||K(),duration:c.duration,tweens:[],createTween:function(b,
c){var f=n.Tween(a,r.opts,b,c,r.opts.specialEasing[b]||r.opts.easing);r.tweens.push(f);return f},stop:function(b){var c=0,d=b?r.tweens.length:0;if(f)return this;for(f=!0;c<d;c++)r.tweens[c].run(1);b?e.resolveWith(a,[r,b]):e.rejectWith(a,[r,b]);return this}});c=r.props;for(V(c,r.opts.specialEasing);d<h;d++)if(b=O[d].call(r,a,c,r.opts))return b;n.map(c,ba,r);n.isFunction(r.opts.start)&&r.opts.start.call(a,r);n.fx.timer(n.extend(g,{elem:a,anim:r,queue:r.opts.queue}));return r.progress(r.opts.progress).done(r.opts.done,
r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function pa(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var f,d=0,h=b.toLowerCase().match(ra)||[];if(n.isFunction(c))for(;f=h[d++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(c)):(a[f]=a[f]||[]).push(c)}}function Aa(a,b,c,f){function d(g){var r;h[g]=!0;n.each(a[g]||[],function(a,u){var F=u(b,c,f);if("string"===typeof F&&!e&&!h[F])return b.dataTypes.unshift(F),d(F),!1;if(e)return!(r=F)});return r}var h={},e=a===cb;return d(b.dataTypes[0])||
!h["*"]&&d("*")}function ha(a,b){var c,f,d=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((d[c]?a:f||(f={}))[c]=b[c]);f&&n.extend(!0,a,f);return a}function sa(a,b,c,f){var d;if(n.isArray(b))n.each(b,function(b,d){c||Na.test(a)?f(a,d):sa(a+"["+("object"===typeof d?b:"")+"]",d,c,f)});else if(c||"object"!==n.type(b))f(a,b);else for(d in b)sa(a+"["+d+"]",b[d],c,f)}function ta(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ua=[],ca=ua.slice,Ia=ua.concat,Da=ua.push,qa=ua.indexOf,
ya={},Db=ya.toString,Ea=ya.hasOwnProperty,W={},H=c.document,n=function(a,b){return new n.fn.init(a,b)},Eb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Fb=/^-ms-/,mb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:"2.1.1",constructor:n,selector:"",length:0,toArray:function(){return ca.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ca.call(this)},pushStack:function(a){a=n.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ca.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Da,sort:ua.sort,splice:ua.splice};n.extend=n.fn.extend=function(){var a,
b,c,f,d,h=arguments[0]||{},e=1,g=arguments.length,r=!1;"boolean"===typeof h&&(r=h,h=arguments[e]||{},e++);"object"===typeof h||n.isFunction(h)||(h={});e===g&&(h=this,e--);for(;e<g;e++)if(null!=(a=arguments[e]))for(b in a)c=h[b],f=a[b],h!==f&&(r&&f&&(n.isPlainObject(f)||(d=n.isArray(f)))?(d?(d=!1,c=c&&n.isArray(c)?c:[]):c=c&&n.isPlainObject(c)?c:{},h[b]=n.extend(r,c,f)):void 0!==f&&(h[b]=f));return h};n.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)||a.constructor&&!Ea.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?
ya[Db.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=n.trim(a))1===a.indexOf("use strict")?(b=H.createElement("script"),b.text=a,H.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(Fb,"ms-").replace(mb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var f,d=0,h=a.length;f=g(a);if(c)if(f)for(;d<h&&(f=b.apply(a[d],c),!1!==f);d++);else for(d in a){if(f=b.apply(a[d],c),!1===
f)break}else if(f)for(;d<h&&(f=b.call(a[d],d,a[d]),!1!==f);d++);else for(d in a)if(f=b.call(a[d],d,a[d]),!1===f)break;return a},trim:function(a){return null==a?"":(a+"").replace(Eb,"")},makeArray:function(a,b){var c=b||[];null!=a&&(g(Object(a))?n.merge(c,"string"===typeof a?[a]:a):Da.call(c,a));return c},inArray:function(a,b,c){return null==b?-1:qa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,f=0,d=a.length;f<c;f++)a[d++]=b[f];a.length=d;return a},grep:function(a,b,c){for(var f=[],d=0,h=a.length,
e=!c;d<h;d++)c=!b(a[d],d),c!==e&&f.push(a[d]);return f},map:function(a,b,c){var f,d=0,h=a.length,e=[];if(g(a))for(;d<h;d++)f=b(a[d],d,c),null!=f&&e.push(f);else for(d in a)f=b(a[d],d,c),null!=f&&e.push(f);return Ia.apply([],e)},guid:1,proxy:function(a,b){var c,f;"string"===typeof b&&(c=a[b],b=a,a=c);if(n.isFunction(a))return f=ca.call(arguments,2),c=function(){return a.apply(b||this,f.concat(ca.call(arguments)))},c.guid=a.guid=a.guid||n.guid++,c},now:Date.now,support:W});n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){ya["[object "+b+"]"]=b.toLowerCase()});var Ja=function(a){function b(a,c,f,d){var h,e,t,g,F;(c?c.ownerDocument||c:X)!==K&&I(c);c=c||K;f=f||[];if(!a||"string"!==typeof a)return f;if(1!==(g=c.nodeType)&&9!==g)return[];if(y&&!d){if(h=ra.exec(a))if(t=h[1])if(9===g)if((e=c.getElementById(t))&&e.parentNode){if(e.id===t)return f.push(e),f}else return f;else{if(c.ownerDocument&&(e=c.ownerDocument.getElementById(t))&&ba(c,e)&&e.id===t)return f.push(e),f}else{if(h[2])return U.apply(f,c.getElementsByTagName(a)),
f;if((t=h[3])&&s.getElementsByClassName&&c.getElementsByClassName)return U.apply(f,c.getElementsByClassName(t)),f}if(s.qsa&&(!D||!D.test(a))){e=h=H;t=c;F=9===g&&a;if(1===g&&"object"!==c.nodeName.toLowerCase()){g=A(a);(h=c.getAttribute("id"))?e=h.replace(Ea,"\\$&"):c.setAttribute("id",e);e="[id='"+e+"'] ";for(t=g.length;t--;)g[t]=e+L(g[t]);t=la.test(a)&&u(c.parentNode)||c;F=g.join(",")}if(F)try{return U.apply(f,t.querySelectorAll(F)),f}catch(r){}finally{h||c.removeAttribute("id")}}}return G(a.replace(ca,
"$1"),c,f,d)}function c(){function a(c,f){b.push(c+" ")>v.cacheLength&&delete a[b.shift()];return a[c+" "]=f}var b=[];return a}function f(a){a[H]=!0;return a}function d(a){var b=K.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b){for(var c=a.split("|"),f=a.length;f--;)v.attrHandle[c[f]]=b}function e(a,b){var c=b&&a,f=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(f)return f;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function r(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return f(function(b){b=+b;return f(function(c,f){for(var u,d=a([],c.length,b),h=d.length;h--;)c[u=d[h]]&&(c[u]=!(f[u]=c[u]))})})}function u(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function t(){}function L(a){for(var b=
0,c=a.length,f="";b<c;b++)f+=a[b].value;return f}function m(a,b,c){var f=b.dir,u=c&&"parentNode"===f,d=R++;return b.first?function(b,c,d){for(;b=b[f];)if(1===b.nodeType||u)return a(b,c,d)}:function(b,c,h){var e,t,g=[O,d];if(h)for(;b=b[f];){if((1===b.nodeType||u)&&a(b,c,h))return!0}else for(;b=b[f];)if(1===b.nodeType||u){t=b[H]||(b[H]={});if((e=t[f])&&e[0]===O&&e[1]===d)return g[2]=e[2];t[f]=g;if(g[2]=a(b,c,h))return!0}}}function p(a){return 1<a.length?function(b,c,f){for(var u=a.length;u--;)if(!a[u](b,
c,f))return!1;return!0}:a[0]}function n(a,b,c,f,u){for(var d,h=[],e=0,t=a.length,g=null!=b;e<t;e++)if(d=a[e])if(!c||c(d,f,u))h.push(d),g&&b.push(e);return h}function q(a,c,u,d,h,e){d&&!d[H]&&(d=q(d));h&&!h[H]&&(h=q(h,e));return f(function(f,e,t,g){var F,r,L=[],k=[],m=e.length,da;if(!(da=f)){da=c||"*";for(var p=t.nodeType?[t]:t,q=[],Ga=0,l=p.length;Ga<l;Ga++)b(da,p[Ga],q);da=q}da=!a||!f&&c?da:n(da,L,a,t,g);p=u?h||(f?a:m||d)?[]:e:da;u&&u(da,p,t,g);if(d)for(F=n(p,k),d(F,[],t,g),t=F.length;t--;)if(r=
F[t])p[k[t]]=!(da[k[t]]=r);if(f){if(h||a){if(h){F=[];for(t=p.length;t--;)(r=p[t])&&F.push(da[t]=r);h(null,p=[],F,g)}for(t=p.length;t--;)(r=p[t])&&-1<(F=h?ha.call(f,r):L[t])&&(f[F]=!(e[F]=r))}}else p=n(p===e?p.splice(m,p.length):p),h?h(null,e,p,g):U.apply(e,p)})}function l(a){var b,c,f,u=a.length,d=v.relative[a[0].type];c=d||v.relative[" "];for(var h=d?1:0,e=m(function(a){return a===b},c,!0),t=m(function(a){return-1<ha.call(b,a)},c,!0),g=[function(a,c,f){return!d&&(f||c!==C)||((b=c).nodeType?e(a,c,
f):t(a,c,f))}];h<u;h++)if(c=v.relative[a[h].type])g=[m(p(g),c)];else{c=v.filter[a[h].type].apply(null,a[h].matches);if(c[H]){for(f=++h;f<u&&!v.relative[a[f].type];f++);return q(1<h&&p(g),1<h&&L(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ca,"$1"),c,h<f&&l(a.slice(h,f)),f<u&&l(a=a.slice(f)),f<u&&L(a))}g.push(c)}return p(g)}function x(a,c){var u=0<c.length,d=0<a.length,h=function(f,h,e,t,g){var F,r,L,k=0,m="0",da=f&&[],p=[],q=C,Ga=f||d&&v.find.TAG("*",g),l=O+=null==q?1:Math.random()||
.1,B=Ga.length;for(g&&(C=h!==K&&h);m!==B&&null!=(F=Ga[m]);m++){if(d&&F){for(r=0;L=a[r++];)if(L(F,h,e)){t.push(F);break}g&&(O=l)}u&&((F=!L&&F)&&k--,f&&da.push(F))}k+=m;if(u&&m!==k){for(r=0;L=c[r++];)L(da,p,h,e);if(f){if(0<k)for(;m--;)da[m]||p[m]||(p[m]=Ia.call(t));p=n(p)}U.apply(t,p);g&&!f&&0<p.length&&1<k+c.length&&b.uniqueSort(t)}g&&(O=l,C=q);return da};return u?f(h):h}var z,s,v,w,J,A,E,G,C,Q,N,I,K,P,y,D,V,M,ba,H="sizzle"+-new Date,X=a.document,O=0,R=0,W=c(),Aa=c(),T=c(),ya=function(a,b){a===b&&
(N=!0);return 0},ka={}.hasOwnProperty,S=[],Ia=S.pop,sa=S.push,U=S.push,Y=S.slice,ha=S.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ta="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)[\\x20\\t\\r\\n\\f]*\\]",ua=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ta+")*)|.*)\\)|)",ca=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,pa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Da=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ga=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ia=new RegExp(ua),ja=new RegExp("^"+Z+"$"),aa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ta),PSEUDO:new RegExp("^"+ua),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ma=/^(?:input|select|textarea|button)$/i,oa=/^h\d$/i,fa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,la=/[+~]/,Ea=/'|\\/g,ea=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,qa=function(a,b,c){a="0x"+b-65536;
return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{U.apply(S=Y.call(X.childNodes),X.childNodes),S[X.childNodes.length].nodeType}catch(xa){U={apply:S.length?function(a,b){sa.apply(a,Y.call(b))}:function(a,b){for(var c=a.length,f=0;a[c++]=b[f++];);a.length=c-1}}}s=b.support={};J=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};I=b.setDocument=function(a){var b=a?a.ownerDocument||a:X;a=b.defaultView;if(b===
K||9!==b.nodeType||!b.documentElement)return K;K=b;P=b.documentElement;y=!J(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){I()},!1):a.attachEvent&&a.attachEvent("onunload",function(){I()}));s.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});s.getElementsByTagName=d(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});s.getElementsByClassName=fa.test(b.getElementsByClassName)&&d(function(a){a.innerHTML=
"<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});s.getById=d(function(a){P.appendChild(a).id=H;return!b.getElementsByName||!b.getElementsByName(H).length});s.getById?(v.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&y){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},v.filter.ID=function(a){var b=a.replace(ea,qa);return function(a){return a.getAttribute("id")===b}}):(delete v.find.ID,v.filter.ID=function(a){var b=
a.replace(ea,qa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});v.find.TAG=s.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,f=[],u=0,d=b.getElementsByTagName(a);if("*"===a){for(;c=d[u++];)1===c.nodeType&&f.push(c);return f}return d};v.find.CLASS=s.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&y)return b.getElementsByClassName(a)};
V=[];D=[];if(s.qsa=fa.test(b.querySelectorAll))d(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||D.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||D.push(":checked")}),d(function(a){var c=
b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&D.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||D.push(":enabled",":disabled");a.querySelectorAll("*,:x");D.push(",.*:")});(s.matchesSelector=fa.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&d(function(a){s.disconnectedMatch=M.call(a,"div");M.call(a,"[s!='']:x");V.push("!=",
ua)});D=D.length&&new RegExp(D.join("|"));V=V.length&&new RegExp(V.join("|"));ba=(a=fa.test(P.compareDocumentPosition))||fa.test(P.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&(c.contains?c.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ya=a?function(a,c){if(a===c)return N=!0,0;var f=!a.compareDocumentPosition-!c.compareDocumentPosition;
if(f)return f;f=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return f&1||!s.sortDetached&&c.compareDocumentPosition(a)===f?a===b||a.ownerDocument===X&&ba(X,a)?-1:c===b||c.ownerDocument===X&&ba(X,c)?1:Q?ha.call(Q,a)-ha.call(Q,c):0:f&4?-1:1}:function(a,c){if(a===c)return N=!0,0;var f,u=0;f=a.parentNode;var d=c.parentNode,h=[a],t=[c];if(!f||!d)return a===b?-1:c===b?1:f?-1:d?1:Q?ha.call(Q,a)-ha.call(Q,c):0;if(f===d)return e(a,c);for(f=a;f=f.parentNode;)h.unshift(f);for(f=
c;f=f.parentNode;)t.unshift(f);for(;h[u]===t[u];)u++;return u?e(h[u],t[u]):h[u]===X?-1:t[u]===X?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==K&&I(a);c=c.replace(ga,"='$1']");if(!(!s.matchesSelector||!y||V&&V.test(c)||D&&D.test(c)))try{var f=M.call(a,c);if(f||s.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(u){}return 0<b(c,K,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==K&&I(a);return ba(a,
b)};b.attr=function(a,b){(a.ownerDocument||a)!==K&&I(a);var c=v.attrHandle[b.toLowerCase()],c=c&&ka.call(v.attrHandle,b.toLowerCase())?c(a,b,!y):void 0;return void 0!==c?c:s.attributes||!y?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],f=0,u=0;N=!s.detectDuplicates;Q=!s.sortStable&&a.slice(0);a.sort(ya);if(N){for(;b=a[u++];)b===a[u]&&(f=c.push(u));for(;f--;)a.splice(c[f],
1)}Q=null;return a};w=b.getText=function(a){var b,c="",f=0;b=a.nodeType;if(!b)for(;b=a[f++];)c+=w(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=w(a)}else if(3===b||4===b)return a.nodeValue;return c};v=b.selectors={cacheLength:50,createPseudo:f,match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(ea,qa);a[3]=(a[3]||a[4]||a[5]||"").replace(ea,qa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(aa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ia.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ea,qa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=W[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&W(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,f){return function(u){u=
b.attr(u,a);if(null==u)return"!="===c;if(!c)return!0;u+="";return"="===c?u===f:"!="===c?u!==f:"^="===c?f&&0===u.indexOf(f):"*="===c?f&&-1<u.indexOf(f):"$="===c?f&&u.slice(-f.length)===f:"~="===c?-1<(" "+u+" ").indexOf(f):"|="===c?u===f||u.slice(0,f.length+1)===f+"-":!1}},CHILD:function(a,b,c,f,u){var d="nth"!==a.slice(0,3),h="last"!==a.slice(-4),e="of-type"===b;return 1===f&&0===u?function(a){return!!a.parentNode}:function(b,c,t){var g,F,r,L,k;c=d!==h?"nextSibling":"previousSibling";var m=b.parentNode,
da=e&&b.nodeName.toLowerCase();t=!t&&!e;if(m){if(d){for(;c;){for(F=b;F=F[c];)if(e?F.nodeName.toLowerCase()===da:1===F.nodeType)return!1;k=c="only"===a&&!k&&"nextSibling"}return!0}k=[h?m.firstChild:m.lastChild];if(h&&t)for(t=m[H]||(m[H]={}),g=t[a]||[],L=g[0]===O&&g[1],r=g[0]===O&&g[2],F=L&&m.childNodes[L];F=++L&&F&&F[c]||(r=L=0)||k.pop();){if(1===F.nodeType&&++r&&F===b){t[a]=[O,L,r];break}}else if(t&&(g=(b[H]||(b[H]={}))[a])&&g[0]===O)r=g[1];else for(;(F=++L&&F&&F[c]||(r=L=0)||k.pop())&&((e?F.nodeName.toLowerCase()!==
da:1!==F.nodeType)||!++r||(t&&((F[H]||(F[H]={}))[a]=[O,r]),F!==b)););r-=u;return r===f||0===r%f&&0<=r/f}}},PSEUDO:function(a,c){var u,d=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[H]?d(c):1<d.length?(u=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var f,u=d(a,c),h=u.length;h--;)f=ha.call(a,u[h]),a[f]=!(b[f]=u[h])}):function(a){return d(a,0,u)}):d}},pseudos:{not:f(function(a){var b=[],c=[],u=E(a.replace(ca,"$1"));return u[H]?
f(function(a,b,c,f){f=u(a,null,f,[]);for(var d=a.length;d--;)if(c=f[d])a[d]=!(b[d]=c)}):function(a,f,d){b[0]=a;u(b,null,d,c);return!c.pop()}}),has:f(function(a){return function(c){return 0<b(a,c).length}}),contains:f(function(a){return function(b){return-1<(b.textContent||b.innerText||w(b)).indexOf(a)}}),lang:f(function(a){ja.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ea,qa).toLowerCase();return function(b){var c;do if(c=y?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=
c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===P},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&
!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return oa.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===
a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};v.pseudos.nth=v.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,
image:!0})v.pseudos[z]=g(z);for(z in{submit:!0,reset:!0})v.pseudos[z]=r(z);t.prototype=v.filters=v.pseudos;v.setFilters=new t;A=b.tokenize=function(a,c){var f,u,d,h,e,t,g;if(e=Aa[a+" "])return c?0:e.slice(0);e=a;t=[];for(g=v.preFilter;e;){if(!f||(u=pa.exec(e)))u&&(e=e.slice(u[0].length)||e),t.push(d=[]);f=!1;if(u=Da.exec(e))f=u.shift(),d.push({value:f,type:u[0].replace(ca," ")}),e=e.slice(f.length);for(h in v.filter)!(u=aa[h].exec(e))||g[h]&&!(u=g[h](u))||(f=u.shift(),d.push({value:f,type:h,matches:u}),
e=e.slice(f.length));if(!f)break}return c?e.length:e?b.error(a):Aa(a,t).slice(0)};E=b.compile=function(a,b){var c,f=[],u=[],d=T[a+" "];if(!d){b||(b=A(a));for(c=b.length;c--;)d=l(b[c]),d[H]?f.push(d):u.push(d);d=T(a,x(u,f));d.selector=a}return d};G=b.select=function(a,b,c,f){var d,h,e,t,g="function"===typeof a&&a,F=!f&&A(a=g.selector||a);c=c||[];if(1===F.length){h=F[0]=F[0].slice(0);if(2<h.length&&"ID"===(e=h[0]).type&&s.getById&&9===b.nodeType&&y&&v.relative[h[1].type]){b=(v.find.ID(e.matches[0].replace(ea,
qa),b)||[])[0];if(!b)return c;g&&(b=b.parentNode);a=a.slice(h.shift().value.length)}for(d=aa.needsContext.test(a)?0:h.length;d--;){e=h[d];if(v.relative[t=e.type])break;if(t=v.find[t])if(f=t(e.matches[0].replace(ea,qa),la.test(h[0].type)&&u(b.parentNode)||b)){h.splice(d,1);a=f.length&&L(h);if(!a)return U.apply(c,f),c;break}}}(g||E(a,F))(f,b,!y,c,la.test(a)&&u(b.parentNode)||b);return c};s.sortStable=H.split("").sort(ya).join("")===H;s.detectDuplicates=!!N;I();s.sortDetached=d(function(a){return a.compareDocumentPosition(K.createElement("div"))&
1});d(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});s.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||h("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var f;if(!c)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null});return b}(c);n.find=Ja;n.expr=Ja.selectors;n.expr[":"]=n.expr.pseudos;n.unique=Ja.uniqueSort;n.text=Ja.getText;n.isXMLDoc=Ja.isXML;n.contains=Ja.contains;var nb=n.expr.match.needsContext,ob=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ab=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var f=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===f.nodeType?n.find.matchesSelector(f,a)?[f]:[]:n.find.matches(a,n.grep(b,
function(a){return 1===a.nodeType}))};n.fn.extend({find:function(a){var b,c=this.length,f=[],d=this;if("string"!==typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<c;b++)if(n.contains(d[b],this))return!0}));for(b=0;b<c;b++)n.find(a,d[b],f);f=this.pushStack(1<c?n.unique(f):f);f.selector=this.selector?this.selector+" "+a:a;return f},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"===
typeof a&&nb.test(a)?n(a):a||[],!1).length}});var Ua,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b){var c;if(!a)return this;if("string"===typeof a){c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Gb.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||Ua).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:H,!0)),ob.test(c[1])&&n.isPlainObject(b))for(c in b)if(n.isFunction(this[c]))this[c](b[c]);
else this.attr(c,b[c])}else(c=H.getElementById(c[2]))&&c.parentNode&&(this.length=1,this[0]=c),this.context=H,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(n.isFunction(a))return"undefined"!==typeof Ua.ready?Ua.ready(a):a(n);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return n.makeArray(a,this)}).prototype=n.fn;Ua=n(H);var Va=/^(?:parents|prev(?:Until|All))/,eb={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,
b,c){for(var f=[],d=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&n(a).is(c))break;f.push(a)}return f},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,f=0,d=this.length,h=[],e=nb.test(a)||"string"!==typeof a?n(a,b||this.context):0;f<d;f++)for(c=this[f];c&&c!==
b;c=c.parentNode)if(11>c.nodeType&&(e?-1<e.index(c):1===c.nodeType&&n.find.matchesSelector(c,a))){h.push(c);break}return this.pushStack(1<h.length?n.unique(h):h)},index:function(a){return a?"string"===typeof a?qa.call(n(a),this[0]):qa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return q(a,"nextSibling")},prev:function(a){return q(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,f){var d=n.map(this,b,c);"Until"!==a.slice(-5)&&(f=c);f&&"string"===typeof f&&(d=n.filter(f,d));1<this.length&&(eb[a]||n.unique(d),Va.test(a)&&d.reverse());return this.pushStack(d)}});var ra=/\S+/g,lb={};n.Callbacks=function(a){a="string"===typeof a?lb[a]||m(a):n.extend({},a);var b,c,f,d,h,e,g=[],r=!a.once&&[],k=function(t){b=
a.memory&&t;c=!0;e=d||0;d=0;h=g.length;for(f=!0;g&&e<h;e++)if(!1===g[e].apply(t[0],t[1])&&a.stopOnFalse){b=!1;break}f=!1;g&&(r?r.length&&k(r.shift()):b?g=[]:u.disable())},u={add:function(){if(g){var c=g.length;(function da(b){n.each(b,function(b,c){var f=n.type(c);"function"===f?a.unique&&u.has(c)||g.push(c):c&&c.length&&"string"!==f&&da(c)})})(arguments);f?h=g.length:b&&(d=c,k(b))}return this},remove:function(){g&&n.each(arguments,function(a,b){for(var c;-1<(c=n.inArray(b,g,c));)g.splice(c,1),f&&
(c<=h&&h--,c<=e&&e--)});return this},has:function(a){return a?-1<n.inArray(a,g):!(!g||!g.length)},empty:function(){g=[];h=0;return this},disable:function(){g=r=b=void 0;return this},disabled:function(){return!g},lock:function(){r=void 0;b||u.disable();return this},locked:function(){return!r},fireWith:function(a,b){!g||c&&!r||(b=b||[],b=[a,b.slice?b.slice():b],f?r.push(b):k(b));return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!c}};return u};n.extend({Deferred:function(a){var b=
[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",f={state:function(){return c},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,h){var e=n.isFunction(a[b])&&a[b];d[h[1]](function(){var a=e&&e.apply(this,arguments);if(a&&n.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[h[0]+"With"](this===f?c.promise():this,e?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?n.extend(a,f):f}},d={};f.pipe=f.then;n.each(b,function(a,h){var e=h[2],g=h[3];f[h[1]]=e.add;g&&e.add(function(){c=g},b[a^1][2].disable,b[2][2].lock);d[h[0]]=function(){d[h[0]+"With"](this===d?f:this,arguments);return this};d[h[0]+"With"]=e.fireWith});f.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=ca.call(arguments),f=c.length,d=1!==f||a&&n.isFunction(a.promise)?
f:0,h=1===d?a:n.Deferred(),e=function(a,b,c){return function(f){b[a]=this;c[a]=1<arguments.length?ca.call(arguments):f;c===g?h.notifyWith(b,c):--d||h.resolveWith(b,c)}},g,r,k;if(1<f)for(g=Array(f),r=Array(f),k=Array(f);b<f;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(e(b,k,c)).fail(h.reject).progress(e(b,r,g)):--d;d||h.resolveWith(k,c);return h.promise()}});var Wa;n.fn.ready=function(a){n.ready.promise().done(a);return this};n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:
n.ready(!0)},ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&0<--n.readyWait||(Wa.resolveWith(H,[n]),n.fn.triggerHandler&&(n(H).triggerHandler("ready"),n(H).off("ready"))))}});n.ready.promise=function(a){Wa||(Wa=n.Deferred(),"complete"===H.readyState?setTimeout(n.ready):(H.addEventListener("DOMContentLoaded",p,!1),c.addEventListener("load",p,!1)));return Wa.promise(a)};n.ready.promise();var ea=n.access=function(a,b,c,f,d,h,e){var g=0,r=a.length,k=null==c;if("object"===n.type(c))for(g in d=
!0,c)n.access(a,b,g,c[g],!0,h,e);else if(void 0!==f&&(d=!0,n.isFunction(f)||(e=!0),k&&(e?(b.call(a,f),b=null):(k=b,b=function(a,b,c){return k.call(n(a),c)})),b))for(;g<r;g++)b(a[g],c,e?f:f.call(a[g],g,b(a[g],c)));return d?a:k?b.call(a):r?b(a[0],c):h};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};s.uid=1;s.accepts=n.acceptData;s.prototype={key:function(a){if(!s.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=s.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,
b)}catch(f){b[this.expando]=c,n.extend(a,b)}}this.cache[c]||(this.cache[c]={});return c},set:function(a,b,c){var f;a=this.key(a);var d=this.cache[a];if("string"===typeof b)d[b]=c;else if(n.isEmptyObject(d))n.extend(this.cache[a],b);else for(f in b)d[f]=b[f];return d},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return c=this.get(a,b),void 0!==c?c:this.get(a,n.camelCase(b));this.set(a,b,c);return void 0!==
c?c:b},remove:function(a,b){var c,f;c=this.key(a);var d=this.cache[c];if(void 0===b)this.cache[c]={};else for(n.isArray(b)?f=b.concat(b.map(n.camelCase)):(c=n.camelCase(b),b in d?f=[b,c]:(f=c,f=f in d?[f]:f.match(ra)||[])),c=f.length;c--;)delete d[f[c]]},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var M=new s,T=new s,Bb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qa=/([A-Z])/g;n.extend({hasData:function(a){return T.hasData(a)||
M.hasData(a)},data:function(a,b,c){return T.access(a,b,c)},removeData:function(a,b){T.remove(a,b)},_data:function(a,b,c){return M.access(a,b,c)},_removeData:function(a,b){M.remove(a,b)}});n.fn.extend({data:function(a,b){var c,f,d,h=this[0],e=h&&h.attributes;if(void 0===a){if(this.length&&(d=T.get(h),1===h.nodeType&&!M.get(h,"hasDataAttrs"))){for(c=e.length;c--;)e[c]&&(f=e[c].name,0===f.indexOf("data-")&&(f=n.camelCase(f.slice(5)),k(h,f,d[f])));M.set(h,"hasDataAttrs",!0)}return d}return"object"===
typeof a?this.each(function(){T.set(this,a)}):ea(this,function(b){var c,f=n.camelCase(a);if(h&&void 0===b){c=T.get(h,a);if(void 0!==c)return c;c=T.get(h,f);if(void 0!==c)return c;c=k(h,f,void 0);if(void 0!==c)return c}else this.each(function(){var c=T.get(this,f);T.set(this,f,b);-1!==a.indexOf("-")&&void 0!==c&&T.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){T.remove(this,a)})}});n.extend({queue:function(a,b,c){var f;if(a)return b=(b||"fx")+
"queue",f=M.get(a,b),c&&(!f||n.isArray(c)?f=M.access(a,b,n.makeArray(c)):f.push(c)),f||[]},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),f=c.length,d=c.shift(),h=n._queueHooks(a,b),e=function(){n.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),f--);d&&("fx"===b&&c.unshift("inprogress"),delete h.stop,d.call(a,e,h));!f&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return M.get(a,c)||M.access(a,c,{empty:n.Callbacks("once memory").add(function(){M.remove(a,[b+"queue",c])})})}});
n.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,f=1,d=n.Deferred(),h=this,e=this.length,g=function(){--f||d.resolveWith(h,[h])};"string"!==
typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(c=M.get(h[e],a+"queueHooks"))&&c.empty&&(f++,c.empty.add(g));g();return d.promise(b)}});var oa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xa=["Top","Right","Bottom","Left"],Ba=function(a,b){a=b||a;return"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},pb=/^(?:checkbox|radio)$/i;(function(){var a=H.createDocumentFragment().appendChild(H.createElement("div")),b=H.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked",
"checked");b.setAttribute("name","t");a.appendChild(b);W.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";W.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();W.focusinBubbles="onfocusin"in c;var Hb=/^key/,Ib=/^(?:mouse|pointer|contextmenu)|click/,qb=/^(?:focusinfocus|focusoutblur)$/,R=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,f,d){var h,e,g,r,k,u,t,L,m;if(k=M.get(a))for(c.handler&&(h=c,c=h.handler,d=h.selector),c.guid||(c.guid=
n.guid++),(r=k.events)||(r=k.events={}),(e=k.handle)||(e=k.handle=function(b){return"undefined"!==typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(ra)||[""],k=b.length;k--;)g=R.exec(b[k])||[],L=u=g[1],m=(g[2]||"").split(".").sort(),L&&(g=n.event.special[L]||{},L=(d?g.delegateType:g.bindType)||L,g=n.event.special[L]||{},u=n.extend({type:L,origType:u,data:f,handler:c,guid:c.guid,selector:d,needsContext:d&&n.expr.match.needsContext.test(d),namespace:m.join(".")},
h),(t=r[L])||(t=r[L]=[],t.delegateCount=0,g.setup&&!1!==g.setup.call(a,f,m,e)||a.addEventListener&&a.addEventListener(L,e,!1)),g.add&&(g.add.call(a,u),u.handler.guid||(u.handler.guid=c.guid)),d?t.splice(t.delegateCount++,0,u):t.push(u),n.event.global[L]=!0)},remove:function(a,b,c,f,d){var h,e,g,r,k,u,t,L,m,p,Zb,q=M.hasData(a)&&M.get(a);if(q&&(r=q.events)){b=(b||"").match(ra)||[""];for(k=b.length;k--;)if(g=R.exec(b[k])||[],m=Zb=g[1],p=(g[2]||"").split(".").sort(),m){t=n.event.special[m]||{};m=(f?t.delegateType:
t.bindType)||m;L=r[m]||[];g=g[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=h=L.length;h--;)u=L[h],!d&&Zb!==u.origType||c&&c.guid!==u.guid||g&&!g.test(u.namespace)||f&&f!==u.selector&&("**"!==f||!u.selector)||(L.splice(h,1),u.selector&&L.delegateCount--,t.remove&&t.remove.call(a,u));e&&!L.length&&(t.teardown&&!1!==t.teardown.call(a,p,q.handle)||n.removeEvent(a,m,q.handle),delete r[m])}else for(m in r)n.event.remove(a,m+b[k],c,f,!0);n.isEmptyObject(r)&&(delete q.handle,M.remove(a,
"events"))}},trigger:function(a,b,f,d){var h,e,g,r,k,m,u=[f||H],t=Ea.call(a,"type")?a.type:a;m=Ea.call(a,"namespace")?a.namespace.split("."):[];e=h=f=f||H;if(3!==f.nodeType&&8!==f.nodeType&&!qb.test(t+n.event.triggered)&&(0<=t.indexOf(".")&&(m=t.split("."),t=m.shift(),m.sort()),r=0>t.indexOf(":")&&"on"+t,a=a[n.expando]?a:new n.Event(t,"object"===typeof a&&a),a.isTrigger=d?2:3,a.namespace=m.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,
a.target||(a.target=f),b=null==b?[a]:n.makeArray(b,[a]),m=n.event.special[t]||{},d||!m.trigger||!1!==m.trigger.apply(f,b))){if(!d&&!m.noBubble&&!n.isWindow(f)){g=m.delegateType||t;qb.test(g+t)||(e=e.parentNode);for(;e;e=e.parentNode)u.push(e),h=e;h===(f.ownerDocument||H)&&u.push(h.defaultView||h.parentWindow||c)}for(h=0;(e=u[h++])&&!a.isPropagationStopped();)a.type=1<h?g:m.bindType||t,(k=(M.get(e,"events")||{})[a.type]&&M.get(e,"handle"))&&k.apply(e,b),(k=r&&e[r])&&k.apply&&n.acceptData(e)&&(a.result=
k.apply(e,b),!1===a.result&&a.preventDefault());a.type=t;d||a.isDefaultPrevented()||m._default&&!1!==m._default.apply(u.pop(),b)||!n.acceptData(f)||!r||!n.isFunction(f[t])||n.isWindow(f)||((h=f[r])&&(f[r]=null),n.event.triggered=t,f[t](),n.event.triggered=void 0,h&&(f[r]=h));return a.result}},dispatch:function(a){a=n.event.fix(a);var b,c,f,d,h=[],e=ca.call(arguments);b=(M.get(this,"events")||{})[a.type]||[];var g=n.event.special[a.type]||{};e[0]=a;a.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,
a)){h=n.event.handlers.call(this,a,b);for(b=0;(d=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,c=0;(f=d.handlers[c++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(f.namespace))a.handleObj=f,a.data=f.data,f=((n.event.special[f.origType]||{}).handle||f.handler).apply(d.elem,e),void 0!==f&&!1===(a.result=f)&&(a.preventDefault(),a.stopPropagation());g.postDispatch&&g.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,f,d,h,e=[],g=
b.delegateCount,r=a.target;if(g&&r.nodeType&&(!a.button||"click"!==a.type))for(;r!==this;r=r.parentNode||this)if(!0!==r.disabled||"click"!==a.type){f=[];for(c=0;c<g;c++)h=b[c],d=h.selector+" ",void 0===f[d]&&(f[d]=h.needsContext?0<=n(d,this).index(r):n.find(d,this,null,[r]).length),f[d]&&f.push(h);f.length&&e.push({elem:r,handlers:f})}g<b.length&&e.push({elem:this,handlers:b.slice(g)});return e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,f,d=b.button;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||H,f=c.documentElement,c=c.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=
b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0));a.which||void 0===d||(a.which=d&1?1:d&2?3:d&4?2:0);return a}},fix:function(a){if(a[n.expando])return a;var b,c,f;b=a.type;var d=a,h=this.fixHooks[b];h||(this.fixHooks[b]=h=Ib.test(b)?this.mouseHooks:Hb.test(b)?this.keyHooks:{});f=h.props?this.props.concat(h.props):this.props;a=new n.Event(d);for(b=f.length;b--;)c=f[b],a[c]=d[c];a.target||(a.target=H);3===a.target.nodeType&&(a.target=a.target.parentNode);return h.filter?
h.filter(a,d):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==a()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===a()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&n.nodeName(this,"input"))return this.click(),!1},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,b,c,f){a=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});f?n.event.trigger(a,null,b):n.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)};n.Event=function(a,c){if(!(this instanceof n.Event))return new n.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
b:d):this.type=a;c&&n.extend(this,c);this.timeStamp=a&&a.timeStamp||n.now();this[n.expando]=!0};n.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=b;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=b;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
b;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,f=a.relatedTarget,d=a.handleObj;if(!f||f!==this&&!n.contains(this,f))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});W.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=
function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var f=this.ownerDocument||this,d=M.access(f,b);d||f.addEventListener(a,c,!0);M.access(f,b,(d||0)+1)},teardown:function(){var f=this.ownerDocument||this,d=M.access(f,b)-1;d?M.access(f,b,d):(f.removeEventListener(a,c,!0),M.remove(f,b))}}});n.fn.extend({on:function(a,b,c,f,h){var e,g;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],h);return this}null==c&&null==
f?(f=b,c=b=void 0):null==f&&("string"===typeof b?(f=c,c=void 0):(f=c,c=b,b=void 0));if(!1===f)f=d;else if(!f)return this;1===h&&(e=f,f=function(a){n().off(a);return e.apply(this,arguments)},f.guid=e.guid||(e.guid=n.guid++));return this.each(function(){n.event.add(this,a,f,c,b)})},one:function(a,b,c,f){return this.on(a,b,c,f,1)},off:function(a,b,c){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,n(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),
this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=d);return this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return n.event.trigger(a,b,c,!0)}});var rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ka=/<([\w:]+)/,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,sb=/checked\s*(?:[^=]|=\s*.checked.)/i,
fb=/^$|\/(?:java|ecma)script/i,bb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,aa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;n.extend({clone:function(a,b,c){var f,d,h,e,g=a.cloneNode(!0),r=n.contains(a.ownerDocument,
a);if(!(W.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(e=v(g),h=v(a),f=0,d=h.length;f<d;f++){var k=h[f],u=e[f],t=u.nodeName.toLowerCase();if("input"===t&&pb.test(k.type))u.checked=k.checked;else if("input"===t||"textarea"===t)u.defaultValue=k.defaultValue}if(b)if(c)for(h=h||v(a),e=e||v(g),f=0,d=h.length;f<d;f++)z(h[f],e[f]);else z(a,g);e=v(g,"script");0<e.length&&x(e,!r&&v(a,"script"));return g},buildFragment:function(a,b,c,f){for(var d,h,e,g=b.createDocumentFragment(),r=[],
k=0,u=a.length;k<u;k++)if((d=a[k])||0===d)if("object"===n.type(d))n.merge(r,d.nodeType?[d]:d);else if(Jb.test(d)){h=h||g.appendChild(b.createElement("div"));e=(Ka.exec(d)||["",""])[1].toLowerCase();e=aa[e]||aa._default;h.innerHTML=e[1]+d.replace(rb,"<$1></$2>")+e[2];for(e=e[0];e--;)h=h.lastChild;n.merge(r,h.childNodes);h=g.firstChild;h.textContent=""}else r.push(b.createTextNode(d));g.textContent="";for(k=0;d=r[k++];)if(!f||-1===n.inArray(d,f))if(a=n.contains(d.ownerDocument,d),h=v(g.appendChild(d),
"script"),a&&x(h),c)for(e=0;d=h[e++];)fb.test(d.type||"")&&c.push(d);return g},cleanData:function(a){for(var b,c,f,d,h=n.event.special,e=0;void 0!==(c=a[e]);e++){if(n.acceptData(c)&&(d=c[M.expando])&&(b=M.cache[d])){if(b.events)for(f in b.events)h[f]?n.event.remove(c,f):n.removeEvent(c,f,b.handle);M.cache[d]&&delete M.cache[d]}delete T.cache[c[T.expando]]}}});n.fn.extend({text:function(a){return ea(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=f(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,f=a?n.filter(a,this):this,d=0;null!=(c=f[d]);d++)b||1!==c.nodeType||n.cleanData(v(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&x(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,
b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return n.clone(this,a,b)})},html:function(a){return ea(this,function(a){var b=this[0]||{},c=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Kb.test(a)&&!aa[(Ka.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(rb,"<$1></$2>");try{for(;c<f;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=
arguments[0];this.domManip(arguments,function(b){a=this.parentNode;n.cleanData(v(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Ia.apply([],a);var c,f,d,e,g=0,k=this.length,m=this,p=k-1,u=a[0],t=n.isFunction(u);if(t||1<k&&"string"===typeof u&&!W.checkClone&&sb.test(u))return this.each(function(c){var f=m.eq(c);t&&(a[0]=u.call(this,c,f.html()));f.domManip(a,b)});if(k&&(c=n.buildFragment(a,
this[0].ownerDocument,!1,this),f=c.firstChild,1===c.childNodes.length&&(c=f),f)){f=n.map(v(c,"script"),h);for(d=f.length;g<k;g++)e=c,g!==p&&(e=n.clone(e,!0,!0),d&&n.merge(f,v(e,"script"))),b.call(this[g],e,g);if(d)for(c=f[f.length-1].ownerDocument,n.map(f,r),g=0;g<d;g++)e=f[g],fb.test(e.type||"")&&!M.access(e,"globalEval")&&n.contains(c,e)&&(e.src?n._evalUrl&&n._evalUrl(e.src):n.globalEval(e.textContent.replace(Lb,"")))}return this}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c=[],f=n(a),d=f.length-1,h=0;h<=d;h++)a=h===d?this:this.clone(!0),n(f[h])[b](a),Da.apply(c,a.get());return this.pushStack(c)}});var Sa,Ra={},Ha=/^margin/,ma=new RegExp("^("+oa+")(?!px)[a-z%]+$","i"),Ta=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function a(){e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
e.innerHTML="";d.appendChild(h);var g=c.getComputedStyle(e,null);b="1%"!==g.top;f="4px"===g.width;d.removeChild(h)}var b,f,d=H.documentElement,h=H.createElement("div"),e=H.createElement("div");e.style&&(e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===e.style.backgroundClip,h.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",h.appendChild(e),c.getComputedStyle&&n.extend(W,{pixelPosition:function(){a();
return b},boxSizingReliable:function(){null==f&&a();return f},reliableMarginRight:function(){var a;a=e.appendChild(H.createElement("div"));a.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";a.style.marginRight=a.style.width="0";e.style.width="1px";d.appendChild(h);a=!parseFloat(c.getComputedStyle(a,null).marginRight);d.removeChild(h);return a}}))})();n.swap=function(a,b,c,f){var d,h={};for(d in b)h[d]=
a.style[d],a.style[d]=b[d];c=c.apply(a,f||[]);for(d in b)a.style[d]=h[d];return c};var tb=/^(none|table(?!-c[ea]).+)/,ja=new RegExp("^("+oa+")(.*)$","i"),U=new RegExp("^([+-])=("+oa+")","i"),ub={position:"absolute",visibility:"hidden",display:"block"},gb={letterSpacing:"0",fontWeight:"400"},ia=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=C(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,h,e,g=n.camelCase(b),r=a.style;b=n.cssProps[g]||(n.cssProps[g]=J(r,g));e=n.cssHooks[b]||n.cssHooks[g];if(void 0!==c)h=typeof c,"string"===h&&(d=U.exec(c))&&(c=(d[1]+1)*d[2]+parseFloat(n.css(a,b)),h="number"),null!=c&&c===c&&("number"!==h||n.cssNumber[g]||(c+="px"),W.clearCloneStyle||""!==c||0!==b.indexOf("background")||(r[b]="inherit"),
e&&"set"in e&&void 0===(c=e.set(a,c,f))||(r[b]=c));else return e&&"get"in e&&void 0!==(d=e.get(a,!1,f))?d:r[b]}},css:function(a,b,c,f){var d,h;h=n.camelCase(b);b=n.cssProps[h]||(n.cssProps[h]=J(a.style,h));(h=n.cssHooks[b]||n.cssHooks[h])&&"get"in h&&(d=h.get(a,!0,c));void 0===d&&(d=C(a,b,f));"normal"===d&&b in gb&&(d=gb[b]);return""===c||c?(a=parseFloat(d),!0===c||n.isNumeric(a)?a||0:d):d}});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,f){if(c)return tb.test(n.css(a,"display"))&&
0===a.offsetWidth?n.swap(a,ub,function(){return G(a,b,f)}):G(a,b,f)},set:function(a,c,f){var d=f&&Ta(a);return E(a,c,f?Q(a,b,f,"border-box"===n.css(a,"boxSizing",!1,d),d):0)}}});n.cssHooks.marginRight=I(W.reliableMarginRight,function(a,b){if(b)return n.swap(a,{display:"inline-block"},C,[a,"marginRight"])});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var f=0,d={};for(c="string"===typeof c?c.split(" "):[c];4>f;f++)d[a+xa[f]+b]=c[f]||c[f-2]||c[0];return d}};
Ha.test(a)||(n.cssHooks[a+b].set=E)});n.fn.extend({css:function(a,b){return ea(this,function(a,b,c){var f,d={},h=0;if(n.isArray(b)){c=Ta(a);for(f=b.length;h<f;h++)d[b[h]]=n.css(a,b[h],!1,c);return d}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ba(this)?n(this).show():n(this).hide()})}});n.Tween=N;N.prototype={constructor:N,
init:function(a,b,c,f,d,h){this.elem=a;this.prop=c;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=h||(n.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];this.pos=this.options.duration?b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,
this.now,this);c&&c.set?c.set(this):N.propHooks._default.set(this);return this}};N.prototype.init.prototype=N.prototype;N.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=n.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(n.fx.step[a.prop])n.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};N.propHooks.scrollTop=
N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};n.fx=N.prototype.init;n.fx.step={};var Ca,Xa,Mb=/^(?:toggle|show|hide)$/,y=new RegExp("^(?:([+-])=|)("+oa+")([a-z%]*)$","i"),Z=/queueHooks$/,O=[function(a,b,c){var f,d,h,e,g,r,k=this,u={},t=a.style,L=a.nodeType&&Ba(a),m=M.get(a,"fxshow");c.queue||(e=n._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,g=e.empty.fire,
e.empty.fire=function(){e.unqueued||g()}),e.unqueued++,k.always(function(){k.always(function(){e.unqueued--;n.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[t.overflow,t.overflowX,t.overflowY],r=n.css(a,"display"),d="none"===r?M.get(a,"olddisplay")||A(a.nodeName):r,"inline"===d&&"none"===n.css(a,"float")&&(t.display="inline-block"));c.overflow&&(t.overflow="hidden",k.always(function(){t.overflow=c.overflow[0];t.overflowX=c.overflow[1];t.overflowY=
c.overflow[2]}));for(f in b)if(d=b[f],Mb.exec(d)){delete b[f];h=h||"toggle"===d;if(d===(L?"hide":"show"))if("show"===d&&m&&void 0!==m[f])L=!0;else continue;u[f]=m&&m[f]||n.style(a,f)}else r=void 0;if(n.isEmptyObject(u))"inline"===("none"===r?A(a.nodeName):r)&&(t.display=r);else for(f in m?"hidden"in m&&(L=m.hidden):m=M.access(a,"fxshow",{}),h&&(m.hidden=!L),L?n(a).show():k.done(function(){n(a).hide()}),k.done(function(){var b;M.remove(a,"fxshow");for(b in u)n.style(a,b,u[b])}),u)b=ba(L?m[f]:0,f,k),
f in m||(m[f]=b.start,L&&(b.end=b.start,b.start="width"===f||"height"===f?1:0))}],D={"*":[function(a,b){var c=this.createTween(a,b),f=c.cur(),d=y.exec(b),h=d&&d[3]||(n.cssNumber[a]?"":"px"),e=(n.cssNumber[a]||"px"!==h&&+f)&&y.exec(n.css(c.elem,a)),g=1,r=20;if(e&&e[3]!==h){h=h||e[3];d=d||[];e=+f||1;do g=g||".5",e/=g,n.style(c.elem,a,e+h);while(g!==(g=c.cur()/f)&&1!==g&&--r)}d&&(e=c.start=+e||+f||0,c.unit=h,c.end=d[1]?e+(d[1]+1)*d[2]:+d[2]);return c}]};n.Animation=n.extend(ka,{tweener:function(a,b){n.isFunction(a)?
(b=a,a=["*"]):a=a.split(" ");for(var c,f=0,d=a.length;f<d;f++)c=a[f],D[c]=D[c]||[],D[c].unshift(b)},prefilter:function(a,b){b?O.unshift(a):O.push(a)}});n.speed=function(a,b,c){var f=a&&"object"===typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};f.duration=n.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in n.fx.speeds?n.fx.speeds[f.duration]:n.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;
f.complete=function(){n.isFunction(f.old)&&f.old.call(this);f.queue&&n.dequeue(this,f.queue)};return f};n.fn.extend({fadeTo:function(a,b,c,f){return this.filter(Ba).css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,f){var d=n.isEmptyObject(a),h=n.speed(b,c,f);b=function(){var b=ka(this,n.extend({},a),h);(d||M.get(this,"finish"))&&b.stop(!0)};b.finish=b;return d||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var f=function(a){var b=a.stop;delete a.stop;
b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",h=n.timers,e=M.get(this);if(d)e[d]&&e[d].stop&&f(e[d]);else for(d in e)e[d]&&e[d].stop&&Z.test(d)&&f(e[d]);for(d=h.length;d--;)h[d].elem!==this||null!=a&&h[d].queue!==a||(h[d].anim.stop(c),b=!1,h.splice(d,1));!b&&c||n.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=M.get(this),f=c[a+"queue"];b=c[a+"queueHooks"];
var d=n.timers,h=f?f.length:0;c.finish=!0;n.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;b<h;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete c.finish})}});n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,f,d){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(X(b,!0),a,f,d)}});n.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),
fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});n.timers=[];n.fx.tick=function(){var a,b=0,c=n.timers;for(Ca=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop();Ca=void 0};n.fx.timer=function(a){n.timers.push(a);a()?n.fx.start():n.timers.pop()};n.fx.interval=13;n.fx.start=function(){Xa||(Xa=setInterval(n.fx.tick,n.fx.interval))};n.fx.stop=function(){clearInterval(Xa);
Xa=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fn.delay=function(a,b){a=n.fx?n.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var f=setTimeout(b,a);c.stop=function(){clearTimeout(f)}})};(function(){var a=H.createElement("input"),b=H.createElement("select"),c=b.appendChild(H.createElement("option"));a.type="checkbox";W.checkOn=""!==a.value;W.optSelected=c.selected;b.disabled=!0;W.optDisabled=!c.disabled;a=H.createElement("input");a.value="t";a.type="radio";W.radioValue="t"===a.value})();
var S,La=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return ea(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}});n.extend({attr:function(a,b,c){var f,d,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if("undefined"===typeof a.getAttribute)return n.prop(a,b,c);1===h&&n.isXMLDoc(a)||(b=b.toLowerCase(),f=n.attrHooks[b]||(n.expr.match.bool.test(b)?S:void 0));if(void 0!==c)if(null===c)n.removeAttr(a,b);else{if(f&&"set"in f&&void 0!==(d=f.set(a,
c,b)))return d;a.setAttribute(b,c+"");return c}else{if(f&&"get"in f&&null!==(d=f.get(a,b)))return d;d=n.find.attr(a,b);return null==d?void 0:d}}},removeAttr:function(a,b){var c,f,d=0,h=b&&b.match(ra);if(h&&1===a.nodeType)for(;c=h[d++];)f=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[f]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!W.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});S={set:function(a,b,c){!1===b?
n.removeAttr(a,c):a.setAttribute(c,c);return c}};n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=La[b]||n.find.attr;La[b]=function(a,b,f){var d,h;f||(h=La[b],La[b]=d,d=null!=c(a,b,f)?b.toLowerCase():null,La[b]=h);return d}});var Nb=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return ea(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}});n.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(a,b,c){var f,d,h;h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(h=1!==h||!n.isXMLDoc(a))b=n.propFix[b]||b,d=n.propHooks[b];return void 0!==c?d&&"set"in d&&void 0!==(f=d.set(a,c,b))?f:a[b]=c:d&&"get"in d&&null!==(f=d.get(a,b))?f:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Nb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});W.optSelected||(n.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){n.propFix[this.toLowerCase()]=this});var Oa=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,f,d,h;b="string"===typeof a&&a;var e=0,g=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ra)||[];e<g;e++)if(c=this[e],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):" ")){for(h=0;d=b[h++];)0>f.indexOf(" "+d+" ")&&(f+=d+" ");f=n.trim(f);c.className!==f&&(c.className=f)}return this},
removeClass:function(a){var b,c,f,d,h;b=0===arguments.length||"string"===typeof a&&a;var e=0,g=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ra)||[];e<g;e++)if(c=this[e],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):"")){for(h=0;d=b[h++];)for(;0<=f.indexOf(" "+d+" ");)f=f.replace(" "+d+" "," ");f=a?n.trim(f):"";c.className!==f&&(c.className=f)}return this},toggleClass:function(a,b){var c=
typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,f=0,d=n(this),h=a.match(ra)||[];b=h[f++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else if("undefined"===c||"boolean"===c)this.className&&M.set(this,"__className__",this.className),this.className=this.className||!1===a?"":M.get(this,"__className__")||""})},hasClass:function(a){a=
" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Oa," ").indexOf(a))return!0;return!1}});var Sb=/\r/g;n.fn.extend({val:function(a){var b,c,f,d=this[0];if(arguments.length)return f=n.isFunction(a),this.each(function(c){1===this.nodeType&&(c=f?a.call(this,c,n(this).val()):a,null==c?c="":"number"===typeof c?c+="":n.isArray(c)&&(c=n.map(c,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&
"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(d){if((b=n.valHooks[d.type]||n.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(d,"value")))return c;c=d.value;return"string"===typeof c?c.replace(Sb,""):null==c?"":c}}});n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c=a.options,f=a.selectedIndex,d=(a="select-one"===a.type||0>f)?null:[],h=a?f+1:c.length,e=0>f?h:a?f:0;e<h;e++)if(b=
c[e],!(!b.selected&&e!==f||(W.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&n.nodeName(b.parentNode,"optgroup"))){b=n(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){for(var c,f,d=a.options,h=n.makeArray(b),e=d.length;e--;)if(f=d[e],f.selected=0<=n.inArray(f.value,h))c=!0;c||(a.selectedIndex=-1);return h}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){if(n.isArray(b))return a.checked=0<=n.inArray(n(a).val(),b)}};W.checkOn||
(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,
b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=n.now(),wb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")};n.parseXML=function(a){var b,c;if(!a||"string"!==typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(f){b=void 0}b&&!b.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+
a);return b};var za,ga,Ob=/#.*$/,xb=/([?&])_=[^&]*/,yb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Pb=/^(?:GET|HEAD)$/,la=/^\/\//,Pa=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ma={},cb={},hb="*/".concat("*");try{ga=location.href}catch(fa){ga=H.createElement("a"),ga.href="",ga=ga.href}za=Pa.exec(ga.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ga,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(za[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ha(ha(a,n.ajaxSettings),b):ha(n.ajaxSettings,
a)},ajaxPrefilter:pa(Ma),ajaxTransport:pa(cb),ajax:function(a,b){function c(a,b,u,e){var r,x,z,s;s=b;if(2!==v){v=2;g&&clearTimeout(g);f=void 0;h=e||"";w.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(u){z=t;for(var Fa=w,va,wa,F,na,J=z.contents,A=z.dataTypes;"*"===A[0];)A.shift(),void 0===va&&(va=z.mimeType||Fa.getResponseHeader("Content-Type"));if(va)for(wa in J)if(J[wa]&&J[wa].test(va)){A.unshift(wa);break}if(A[0]in u)F=A[0];else{for(wa in u){if(!A[0]||z.converters[wa+" "+A[0]]){F=wa;break}na||(na=
wa)}F=F||na}F?(F!==A[0]&&A.unshift(F),z=u[F]):z=void 0}a:{u=t;va=z;wa=w;F=e;var E,G,Q,Fa={},J=u.dataTypes.slice();if(J[1])for(G in u.converters)Fa[G.toLowerCase()]=u.converters[G];for(na=J.shift();na;)if(u.responseFields[na]&&(wa[u.responseFields[na]]=va),!Q&&F&&u.dataFilter&&(va=u.dataFilter(va,u.dataType)),Q=na,na=J.shift())if("*"===na)na=Q;else if("*"!==Q&&Q!==na){G=Fa[Q+" "+na]||Fa["* "+na];if(!G)for(E in Fa)if(z=E.split(" "),z[1]===na&&(G=Fa[Q+" "+z[0]]||Fa["* "+z[0]])){!0===G?G=Fa[E]:!0!==Fa[E]&&
(na=z[0],J.unshift(z[1]));break}if(!0!==G)if(G&&u["throws"])va=G(va);else try{va=G(va)}catch(C){z={state:"parsererror",error:G?C:"No conversion from "+Q+" to "+na};break a}}z={state:"success",data:va}}if(e)t.ifModified&&((s=w.getResponseHeader("Last-Modified"))&&(n.lastModified[d]=s),(s=w.getResponseHeader("etag"))&&(n.etag[d]=s)),204===a||"HEAD"===t.type?s="nocontent":304===a?s="notmodified":(s=z.state,r=z.data,x=z.error,e=!x);else if(x=s,a||!s)s="error",0>a&&(a=0);w.status=a;w.statusText=(b||s)+
"";e?p.resolveWith(L,[r,s,w]):p.rejectWith(L,[w,s,x]);w.statusCode(l);l=void 0;k&&m.trigger(e?"ajaxSuccess":"ajaxError",[w,t,e?r:x]);q.fireWith(L,[w,s]);k&&(m.trigger("ajaxComplete",[w,t]),--n.active||n.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var f,d,h,e,g,r,k,u,t=n.ajaxSetup({},b),L=t.context||t,m=t.context&&(L.nodeType||L.jquery)?n(L):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),l=t.statusCode||{},x={},z={},v=0,s="canceled",w={readyState:0,getResponseHeader:function(a){var b;
if(2===v){if(!e)for(e={};b=yb.exec(h);)e[b[1].toLowerCase()]=b[2];b=e[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();v||(a=z[c]=z[c]||a,x[a]=b);return this},overrideMimeType:function(a){v||(t.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)l[b]=[l[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){a=a||s;f&&f.abort(a);c(0,a);return this}};p.promise(w).complete=
q.add;w.success=w.done;w.error=w.fail;t.url=((a||t.url||ga)+"").replace(Ob,"").replace(la,za[1]+"//");t.type=b.method||b.type||t.method||t.type;t.dataTypes=n.trim(t.dataType||"*").toLowerCase().match(ra)||[""];null==t.crossDomain&&(r=Pa.exec(t.url.toLowerCase()),t.crossDomain=!(!r||r[1]===za[1]&&r[2]===za[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(za[3]||("http:"===za[1]?"80":"443"))));t.data&&t.processData&&"string"!==typeof t.data&&(t.data=n.param(t.data,t.traditional));Aa(Ma,t,b,w);if(2===v)return w;
(k=t.global)&&0===n.active++&&n.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Pb.test(t.type);d=t.url;t.hasContent||(t.data&&(d=t.url+=(wb.test(d)?"&":"?")+t.data,delete t.data),!1===t.cache&&(t.url=xb.test(d)?d.replace(xb,"$1_="+vb++):d+(wb.test(d)?"&":"?")+"_="+vb++));t.ifModified&&(n.lastModified[d]&&w.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&w.setRequestHeader("If-None-Match",n.etag[d]));(t.data&&t.hasContent&&!1!==t.contentType||b.contentType)&&
w.setRequestHeader("Content-Type",t.contentType);w.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+hb+"; q=0.01":""):t.accepts["*"]);for(u in t.headers)w.setRequestHeader(u,t.headers[u]);if(t.beforeSend&&(!1===t.beforeSend.call(L,w,t)||2===v))return w.abort();s="abort";for(u in{success:1,error:1,complete:1})w[u](t[u]);if(f=Aa(cb,t,b,w)){w.readyState=1;k&&m.trigger("ajaxSend",[w,t]);t.async&&0<t.timeout&&(g=setTimeout(function(){w.abort("timeout")},
t.timeout));try{v=1,f.send(x,c)}catch(wa){if(2>v)c(-1,wa);else throw wa;}}else c(-1,"No Transport");return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}});n.each(["get","post"],function(a,b){n[b]=function(a,c,f,d){n.isFunction(c)&&(d=d||f,f=c,c=void 0);return n.ajax({url:a,type:b,dataType:d,data:c,success:f})}});n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,
a)}});n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};n.fn.extend({wrapAll:function(a){var b;if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});n.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Ya=/%20/g,Na=/\[\]$/,Za=
/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,f=[],d=function(a,b){b=n.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional);if(n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){d(this.name,this.value)});else for(c in a)sa(c,a[c],b,d);return f.join("&").replace(Ya,"+")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!pb.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Za,"\r\n")}}):{name:b.name,value:c.replace(Za,"\r\n")}}).get()}});n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};
var Qb=0,Y={},Vb={0:200,1223:204},$a=n.ajaxSettings.xhr();if(c.ActiveXObject)n(c).on("unload",function(){for(var a in Y)Y[a]()});W.cors=!!$a&&"withCredentials"in $a;W.ajax=$a=!!$a;n.ajaxTransport(function(a){var b;if(W.cors||$a&&!a.crossDomain)return{send:function(c,f){var d,h=a.xhr(),e=++Qb;h.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(d in a.xhrFields)h[d]=a.xhrFields[d];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||
(c["X-Requested-With"]="XMLHttpRequest");for(d in c)h.setRequestHeader(d,c[d]);b=function(a){return function(){b&&(delete Y[e],b=h.onload=h.onerror=null,"abort"===a?h.abort():"error"===a?f(h.status,h.statusText):f(Vb[h.status]||h.status,h.statusText,"string"===typeof h.responseText?{text:h.responseText}:void 0,h.getAllResponseHeaders()))}};h.onload=b();h.onerror=b("error");b=Y[e]=b("abort");try{h.send(a.hasContent&&a.data||null)}catch(g){if(b)throw g;}},abort:function(){b&&b()}}});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){n.globalEval(a);return a}}});n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(f,d){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&d("error"===a.type?404:200,a.type)});H.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var zb=[],ab=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=zb.pop()||n.expando+"_"+vb++;this[a]=!0;return a}});n.ajaxPrefilter("json jsonp",function(a,b,f){var d,h,e,g=!1!==a.jsonp&&(ab.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&ab.test(a.data)&&"data");if(g||"jsonp"===a.dataTypes[0])return d=a.jsonpCallback=n.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g?a[g]=a[g].replace(ab,"$1"+
d):!1!==a.jsonp&&(a.url+=(wb.test(a.url)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){e||n.error(d+" was not called");return e[0]},a.dataTypes[0]="json",h=c[d],c[d]=function(){e=arguments},f.always(function(){c[d]=h;a[d]&&(a.jsonpCallback=b.jsonpCallback,zb.push(d));e&&n.isFunction(h)&&h(e[0]);e=h=void 0}),"script"});n.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||H;var f=ob.exec(a);c=!c&&[];if(f)return[b.createElement(f[1])];
f=n.buildFragment([a],b,c);c&&c.length&&n(c).remove();return n.merge([],f.childNodes)};var ib=n.fn.load;n.fn.load=function(a,b,c){if("string"!==typeof a&&ib)return ib.apply(this,arguments);var f,d,h,e=this,g=a.indexOf(" ");0<=g&&(f=n.trim(a.slice(g)),a=a.slice(0,g));n.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(d="POST");0<e.length&&n.ajax({url:a,type:d,dataType:"html",data:b}).done(function(a){h=arguments;e.html(f?n("<div>").append(n.parseHTML(a)).find(f):a)}).complete(c&&function(a,b){e.each(c,
h||[a.responseText,b,a])});return this};n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var jb=c.document.documentElement;n.offset={setOffset:function(a,b,c){var f,d,h,e=n.css(a,"position"),g=n(a),r={};"static"===e&&(a.style.position="relative");h=g.offset();d=n.css(a,"top");f=n.css(a,"left");("absolute"===e||"fixed"===e)&&-1<(d+f).indexOf("auto")?(f=g.position(),d=f.top,f=f.left):(d=parseFloat(d)||0,f=parseFloat(f)||0);n.isFunction(b)&&(b=b.call(a,
c,h));null!=b.top&&(r.top=b.top-h.top+d);null!=b.left&&(r.left=b.left-h.left+f);"using"in b?b.using.call(a,r):g.css(r)}};n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c;c=this[0];var f={top:0,left:0},d=c&&c.ownerDocument;if(d){b=d.documentElement;if(!n.contains(b,c))return f;"undefined"!==typeof c.getBoundingClientRect&&(f=c.getBoundingClientRect());c=ta(d);return{top:f.top+c.pageYOffset-b.clientTop,left:f.left+
c.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,c=this[0],f={top:0,left:0};"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(f=a.offset()),f.top+=n.css(a[0],"borderTopWidth",!0),f.left+=n.css(a[0],"borderLeftWidth",!0));return{top:b.top-f.top-n.css(c,"marginTop",!0),left:b.left-f.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||jb;a&&!n.nodeName(a,
"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||jb})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var f="pageYOffset"===b;n.fn[a]=function(d){return ea(this,function(a,d,h){var e=ta(a);if(void 0===h)return e?e[b]:a[d];e?e.scrollTo(f?c.pageXOffset:h,f?h:c.pageYOffset):a[d]=h},a,d,arguments.length,null)}});n.each(["top","left"],function(a,b){n.cssHooks[b]=I(W.pixelPosition,function(a,c){if(c)return c=C(a,b),ma.test(c)?n(a).position()[b]+"px":c})});n.each({Height:"height",
Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,f){n.fn[f]=function(f,d){var h=arguments.length&&(c||"boolean"!==typeof f),e=c||(!0===f||!0===d?"margin":"border");return ea(this,function(b,c,f){return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===f?n.css(b,c,e):n.style(b,c,f,e)},b,h?f:void 0,h,null)}})});n.fn.size=
function(){return this.length};n.fn.andSelf=n.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return n});var kb=c.jQuery,Wb=c.$;n.noConflict=function(a){c.$===n&&(c.$=Wb);a&&c.jQuery===n&&(c.jQuery=kb);return n};"undefined"===typeof l&&(c.jQuery=c.$=n);return n});(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function l(b,d){var a,f;a=b.nodeName.toLowerCase();if("area"===a){a=b.parentNode;f=a.name;if(!b.href||!f||"map"!==a.nodeName.toLowerCase())return!1;a=c("img[usemap='#"+f+"']")[0];return!!a&&g(a)}return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"===a?b.href||d:d)&&g(b)}function g(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,
"visibility")}).length}c.ui=c.ui||{};c.extend(c.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({scrollParent:function(b){var d=this.css("position"),a="absolute"===d,f=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=c(this);return a&&"static"===b.css("position")?!1:f.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);
return"fixed"!==d&&b.length?b:c(this[0].ownerDocument||document)},uniqueId:function(){var b=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(d){return!!c.data(d,b)}}):function(b,d,a){return!!c.data(b,a[3])},focusable:function(b){return l(b,!isNaN(c.attr(b,
"tabindex")))},tabbable:function(b){var d=c.attr(b,"tabindex"),a=isNaN(d);return(a||0<=d)&&l(b,!a)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,d){function a(a,b,d,h){c.each(f,function(){b-=parseFloat(c.css(a,"padding"+this))||0;d&&(b-=parseFloat(c.css(a,"border"+this+"Width"))||0);h&&(b-=parseFloat(c.css(a,"margin"+this))||0)});return b}var f="Width"===d?["Left","Right"]:["Top","Bottom"],h=d.toLowerCase(),e={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,
outerHeight:c.fn.outerHeight};c.fn["inner"+d]=function(b){return void 0===b?e["inner"+d].call(this):this.each(function(){c(this).css(h,a(this,b)+"px")})};c.fn["outer"+d]=function(b,f){return"number"!==typeof b?e["outer"+d].call(this,b):this.each(function(){c(this).css(h,a(this,b,!0,f)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(d){return arguments.length?
b.call(this,c.camelCase(d)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.fn.extend({focus:function(b){return function(d,a){return"number"===typeof d?this.each(function(){var b=this;setTimeout(function(){c(b).focus();a&&a.call(b)},d)}):b.apply(this,arguments)}}(c.fn.focus),disableSelection:function(){var b="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(b+".ui-disableSelection",function(b){b.preventDefault()})}}(),
enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length){b=c(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d)return d;b=b.parent()}}return 0}});c.ui.plugin={add:function(b,d,a){var f;b=c.ui[b].prototype;for(f in a)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([d,a[f]])},call:function(b,c,a,
f){if((c=b.plugins[c])&&(f||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType))for(f=0;f<c.length;f++)b.options[c[f][0]]&&c[f][1].apply(b.element,a)}};var e=0,q=Array.prototype.slice;c.cleanData=function(b){return function(d){var a,f,h;for(h=0;null!=(f=d[h]);h++)try{(a=c._data(f,"events"))&&a.remove&&c(f).triggerHandler("remove")}catch(e){}b(d)}}(c.cleanData);c.widget=function(b,d,a){var f,h,e,g,k={},m=b.split(".")[0];b=b.split(".")[1];f=m+"-"+b;a||(a=d,d=c.Widget);c.expr[":"][f.toLowerCase()]=
function(a){return!!c.data(a,f)};c[m]=c[m]||{};h=c[m][b];e=c[m][b]=function(a,b){if(!this._createWidget)return new e(a,b);arguments.length&&this._createWidget(a,b)};c.extend(e,h,{version:a.version,_proto:c.extend({},a),_childConstructors:[]});g=new d;g.options=c.widget.extend({},g.options);c.each(a,function(a,b){c.isFunction(b)?k[a]=function(){var c=function(){return d.prototype[a].apply(this,arguments)},f=function(b){return d.prototype[a].apply(this,b)};return function(){var a=this._super,d=this._superApply,
h;this._super=c;this._superApply=f;h=b.apply(this,arguments);this._super=a;this._superApply=d;return h}}():k[a]=b});e.prototype=c.widget.extend(g,{widgetEventPrefix:h?g.widgetEventPrefix||b:b},k,{constructor:e,namespace:m,widgetName:b,widgetFullName:f});h?(c.each(h._childConstructors,function(a,b){var f=b.prototype;c.widget(f.namespace+"."+f.widgetName,e,b._proto)}),delete h._childConstructors):d._childConstructors.push(e);c.widget.bridge(b,e);return e};c.widget.extend=function(b){for(var d=q.call(arguments,
1),a=0,f=d.length,h,e;a<f;a++)for(h in d[a])e=d[a][h],d[a].hasOwnProperty(h)&&void 0!==e&&(c.isPlainObject(e)?b[h]=c.isPlainObject(b[h])?c.widget.extend({},b[h],e):c.widget.extend({},e):b[h]=e);return b};c.widget.bridge=function(b,d){var a=d.prototype.widgetFullName||b;c.fn[b]=function(f){var h="string"===typeof f,e=q.call(arguments,1),g=this;f=!h&&e.length?c.widget.extend.apply(null,[f].concat(e)):f;h?this.each(function(){var d,h=c.data(this,a);if("instance"===f)return g=h,!1;if(!h)return c.error("cannot call methods on "+
b+" prior to initialization; attempted to call method '"+f+"'");if(!c.isFunction(h[f])||"_"===f.charAt(0))return c.error("no such method '"+f+"' for "+b+" widget instance");d=h[f].apply(h,e);if(d!==h&&void 0!==d)return g=d&&d.jquery?g.pushStack(d.get()):d,!1}):this.each(function(){var b=c.data(this,a);b?(b.option(f||{}),b._init&&b._init()):c.data(this,a,new d(f,this))});return g}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",
options:{disabled:!1,create:null},_createWidget:function(b,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();d!==this&&(c.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=c(d.style?d.ownerDocument:d.document||d),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this.options=
c.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");
this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(b,d){var a=b,f,h,e;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof b)if(a={},f=b.split("."),b=f.shift(),f.length){h=a[b]=c.widget.extend({},this.options[b]);for(e=0;e<f.length-1;e++)h[f[e]]=h[f[e]]||{},h=h[f[e]];b=f.pop();if(1===arguments.length)return void 0===
h[b]?null:h[b];h[b]=d}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];a[b]=d}this._setOptions(a);return this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,c){this.options[b]=c;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!c),c&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(b,d,a){var f,h=this;"boolean"!==typeof b&&(a=d,d=b,b=!1);a?(d=f=c(d),this.bindings=this.bindings.add(d)):(a=d,d=this.element,f=this.widget());c.each(a,function(a,e){function g(){if(b||!0!==h.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof e?h[e]:e).apply(h,arguments)}"string"!==typeof e&&(g.guid=e.guid=e.guid||g.guid||c.guid++);var k=a.match(/^([\w:-]*)\s*(.*)$/),m=k[1]+h.eventNamespace;(k=k[2])?
f.delegate(k,m,g):d.bind(m,g)})},_off:function(b,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(d).undelegate(d);this.bindings=c(this.bindings.not(b).get());this.focusable=c(this.focusable.not(b).get());this.hoverable=c(this.hoverable.not(b).get())},_delay:function(b,c){var a=this;return setTimeout(function(){return("string"===typeof b?a[b]:b).apply(a,arguments)},c||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},
mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,d,a){var f,h=this.options[b];a=a||{};d=c.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d.target=this.element[0];if(b=d.originalEvent)for(f in b)f in d||
(d[f]=b[f]);this.element.trigger(d,a);return!(c.isFunction(h)&&!1===h.apply(this.element[0],[d].concat(a))||d.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(b,d){c.Widget.prototype["_"+b]=function(a,f,h){"string"===typeof f&&(f={effect:f});var e,g=f?!0===f||"number"===typeof f?d:f.effect||d:b;f=f||{};"number"===typeof f&&(f={duration:f});e=!c.isEmptyObject(f);f.complete=h;f.delay&&a.delay(f.delay);if(e&&c.effects&&c.effects.effect[g])a[b](f);else if(g!==b&&a[g])a[g](f.duration,
f.easing,h);else a.queue(function(f){c(this)[b]();h&&h.call(a[0]);f()})}});var m=!1;c(document).mouseup(function(){m=!1});c.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,b.widgetName+".preventClickEvent"))return c.removeData(d.target,b.widgetName+".preventClickEvent"),
d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!m){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var d=this,a=1===b.which,f="string"===typeof this.options.cancel&&b.target.nodeName?c(b.target).closest(this.options.cancel).length:
!1;if(!a||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===c.data(b.target,this.widgetName+".preventClickEvent")&&c.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};
this._mouseUpDelegate=function(a){return d._mouseUp(a)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return m=!0}},_mouseMove:function(b){if(this._mouseMoved&&(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button||!b.which))return this._mouseUp(b);if(b.which||b.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&
this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return m=!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function b(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function d(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:c.isWindow(b)?{width:a.width(),height:a.height(),
offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}c.ui=c.ui||{};var a,f,h=Math.max,e=Math.abs,g=Math.round,k=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,l=/%$/,s=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==a)return a;var b,f,d=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
f=d.children()[0];c("body").append(d);b=f.offsetWidth;d.css("overflow","scroll");f=f.offsetWidth;b===f&&(f=d[0].clientWidth);d.remove();return a=b-f},getScrollInfo:function(a){var b=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),f=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&a.height<a.element[0].scrollHeight?c.position.scrollbarWidth():0,height:b?c.position.scrollbarWidth():0}},
getWithinInfo:function(a){a=c(a||window);var b=c.isWindow(a[0]),f=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:b,isDocument:f,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b||f?a.width():a.outerWidth(),height:b||f?a.height():a.outerHeight()}}};c.fn.position=function(a){if(!a||!a.of)return s.apply(this,arguments);a=c.extend({},a);var l,C,G,P,N,K,X=c(a.of),ba=c.position.getWithinInfo(a.within),V=c.position.getScrollInfo(ba),ka=(a.collision||"flip").split(" "),
pa={};K=d(X);X[0].preventDefault&&(a.at="left top");C=K.width;G=K.height;P=K.offset;N=c.extend({},P);c.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,f;1===b.length&&(b=k.test(b[0])?b.concat(["center"]):m.test(b[0])?["center"].concat(b):["center","center"]);b[0]=k.test(b[0])?b[0]:"center";b[1]=m.test(b[1])?b[1]:"center";c=p.exec(b[0]);f=p.exec(b[1]);pa[this]=[c?c[0]:0,f?f[0]:0];a[this]=[q.exec(b[0])[0],q.exec(b[1])[0]]});1===ka.length&&(ka[1]=ka[0]);"right"===a.at[0]?N.left+=C:"center"===
a.at[0]&&(N.left+=C/2);"bottom"===a.at[1]?N.top+=G:"center"===a.at[1]&&(N.top+=G/2);l=b(pa.at,C,G);N.left+=l[0];N.top+=l[1];return this.each(function(){var d,k,m=c(this),p=m.outerWidth(),q=m.outerHeight(),s=parseInt(c.css(this,"marginLeft"),10)||0,z=parseInt(c.css(this,"marginTop"),10)||0,v=p+s+(parseInt(c.css(this,"marginRight"),10)||0)+V.width,w=q+z+(parseInt(c.css(this,"marginBottom"),10)||0)+V.height,A=c.extend({},N),K=b(pa.my,m.outerWidth(),m.outerHeight());"right"===a.my[0]?A.left-=p:"center"===
a.my[0]&&(A.left-=p/2);"bottom"===a.my[1]?A.top-=q:"center"===a.my[1]&&(A.top-=q/2);A.left+=K[0];A.top+=K[1];f||(A.left=g(A.left),A.top=g(A.top));d={marginLeft:s,marginTop:z};c.each(["left","top"],function(b,f){if(c.ui.position[ka[b]])c.ui.position[ka[b]][f](A,{targetWidth:C,targetHeight:G,elemWidth:p,elemHeight:q,collisionPosition:d,collisionWidth:v,collisionHeight:w,offset:[l[0]+K[0],l[1]+K[1]],my:a.my,at:a.at,within:ba,elem:m})});a.using&&(k=function(b){var c=P.left-A.left,f=c+C-p,d=P.top-A.top,
g=d+G-q,k={target:{element:X,left:P.left,top:P.top,width:C,height:G},element:{element:m,left:A.left,top:A.top,width:p,height:q},horizontal:0>f?"left":0<c?"right":"center",vertical:0>g?"top":0<d?"bottom":"middle"};C<p&&e(c+f)<C&&(k.horizontal="center");G<q&&e(d+g)<G&&(k.vertical="middle");h(e(c),e(f))>h(e(d),e(g))?k.important="horizontal":k.important="vertical";a.using.call(this,b,k)});m.offset(c.extend(A,{using:k}))})};c.ui.position={fit:{left:function(a,b){var c=b.within,f=c.isWindow?c.scrollLeft:
c.offset.left,d=c.width,e=a.left-b.collisionPosition.marginLeft,c=f-e,g=e+b.collisionWidth-d-f;b.collisionWidth>d?0<c&&0>=g?(f=a.left+c+b.collisionWidth-d-f,a.left+=c-f):a.left=0<g&&0>=c?f:c>g?f+d-b.collisionWidth:f:a.left=0<c?a.left+c:0<g?a.left-g:h(a.left-e,a.left)},top:function(a,b){var c=b.within,f=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,e=a.top-b.collisionPosition.marginTop,c=f-e,g=e+b.collisionHeight-d-f;b.collisionHeight>d?0<c&&0>=g?(f=a.top+c+b.collisionHeight-d-f,a.top+=c-f):
a.top=0<g&&0>=c?f:c>g?f+d-b.collisionHeight:f:a.top=0<c?a.top+c:0<g?a.top-g:h(a.top-e,a.top)}},flip:{left:function(a,b){var c=b.within,f=c.offset.left+c.scrollLeft,d=c.width,h=c.isWindow?c.scrollLeft:c.offset.left,g=a.left-b.collisionPosition.marginLeft,c=g-h,k=g+b.collisionWidth-d-h,g="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,p=-2*b.offset[0];if(0>c){if(f=a.left+g+m+p+b.collisionWidth-d-f,0>f||f<e(c))a.left+=
g+m+p}else 0<k&&(f=a.left-b.collisionPosition.marginLeft+g+m+p-h,0<f||e(f)<k)&&(a.left+=g+m+p)},top:function(a,b){var c=b.within,f=c.offset.top+c.scrollTop,d=c.height,h=c.isWindow?c.scrollTop:c.offset.top,g=a.top-b.collisionPosition.marginTop,c=g-h,k=g+b.collisionHeight-d-h,g="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>c?(f=a.top+g+m+p+b.collisionHeight-d-f,a.top+g+m+p>c&&(0>f||f<e(c))&&(a.top+=
g+m+p)):0<k&&(f=a.top-b.collisionPosition.marginTop+g+m+p-h,a.top+g+m+p>k&&(0<f||e(f)<k)&&(a.top+=g+m+p))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,arguments)}}};(function(){var a,b,d,h,e=document.getElementsByTagName("body")[0];d=document.createElement("div");a=document.createElement(e?"div":"body");b={visibility:"hidden",width:0,
height:0,border:0,margin:0,background:"none"};e&&c.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(h in b)a.style[h]=b[h];a.appendChild(d);b=e||document.documentElement;b.insertBefore(a,b.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=c(d).offset().left;f=10<d&&11>d;a.innerHTML="";b.removeChild(a)})()})();c.widget("ui.resizable",c.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",
aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseInt(b,10)||0},_isNumber:function(b){return!isNaN(parseInt(b,10))},_hasScroll:function(b,d){if("hidden"===c(b).css("overflow"))return!1;var a=d&&"left"===d?"scrollLeft":"scrollTop",f=!1;if(0<b[a])return!0;b[a]=1;f=0<b[a];b[a]=0;return f},_create:function(){var b,d,a,f,h,e=this,g=this.options;
this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=
this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=g.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},d=0;d<b.length;d++)a=c.trim(b[d]),h="ui-resizable-"+a,f=c("<div class='ui-resizable-handle "+h+"'></div>"),f.css({zIndex:g.zIndex}),"se"===a&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(f);this._renderAxis=function(a){var b,f,d;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=this.element.children(this.handles[b]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(f=c(this.handles[b],this.element),d=/sw|ne|nw|se|n|s/.test(b)?f.outerHeight():f.outerWidth(),f=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(f,d),this._proportionallyResize()),c(this.handles[b])};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",
this.element).disableSelection();this._handles.mouseover(function(){e.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=f&&f[1]?f[1]:"se")});g.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||(c(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){g.disabled||e.resizing||(c(this).addClass("ui-resizable-autohide"),e._handles.hide())}));this._mouseInit()},
_destroy:function(){this._mouseDestroy();var b,d=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(d(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);
d(this.originalElement);return this},_mouseCapture:function(b){var d,a,f=!1;for(d in this.handles)if(a=c(this.handles[d])[0],a===b.target||c.contains(a,b.target))f=!0;return!this.options.disabled&&f},_mouseStart:function(b){var d,a,f=this.options,h=this.element;this.resizing=!0;this._renderProxy();d=this._num(this.helper.css("left"));a=this._num(this.helper.css("top"));f.containment&&(d+=c(f.containment).scrollLeft()||0,a+=c(f.containment).scrollTop()||0);this.offset=this.helper.offset();this.position=
{left:d,top:a};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()};this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()};this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()};this.originalPosition={left:d,top:a};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/
this.originalSize.height||1;d=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor","auto"===d?this.axis+"-resize":d);h.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var d,a=this.originalMousePosition;d=b.pageX-a.left||0;var a=b.pageY-a.top||0,f=this._change[this.axis];this._updatePrevProperties();if(!f)return!1;d=f.apply(this,[b,d,a]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)d=this._updateRatio(d,b);d=
this._respectSize(d,b);this._updateCache(d);this._propagate("resize",b);d=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();c.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges());return!1},_mouseStop:function(b){this.resizing=!1;var d,a,f,h=this.options;this._helper&&(d=this._proportionallyResizeElements,d=(a=d.length&&/textarea/i.test(d[0].nodeName))&&this._hasScroll(d[0],"left")?0:this.sizeDiff.height,
a=a?0:this.sizeDiff.width,a={width:this.helper.width()-a,height:this.helper.height()-d},d=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,h.animate||this.element.css(c.extend(a,{top:f,left:d})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!h.animate&&this._proportionallyResize());c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var b={};this.position.top!==this.prevPosition.top&&(b.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(b.width=this.size.width+"px");this.size.height!==
this.prevSize.height&&(b.height=this.size.height+"px");this.helper.css(b);return b},_updateVirtualBoundaries:function(b){var c,a,f,h;h=this.options;h={minWidth:this._isNumber(h.minWidth)?h.minWidth:0,maxWidth:this._isNumber(h.maxWidth)?h.maxWidth:Infinity,minHeight:this._isNumber(h.minHeight)?h.minHeight:0,maxHeight:this._isNumber(h.maxHeight)?h.maxHeight:Infinity};if(this._aspectRatio||b)b=h.minHeight*this.aspectRatio,a=h.minWidth/this.aspectRatio,c=h.maxHeight*this.aspectRatio,f=h.maxWidth/this.aspectRatio,
b>h.minWidth&&(h.minWidth=b),a>h.minHeight&&(h.minHeight=a),c<h.maxWidth&&(h.maxWidth=c),f<h.maxHeight&&(h.maxHeight=f);this._vBoundaries=h},_updateCache:function(b){this.offset=this.helper.offset();this._isNumber(b.left)&&(this.position.left=b.left);this._isNumber(b.top)&&(this.position.top=b.top);this._isNumber(b.height)&&(this.size.height=b.height);this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var c=this.position,a=this.size,f=this.axis;this._isNumber(b.height)?b.width=
b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio);"sw"===f&&(b.left=c.left+(a.width-b.width),b.top=null);"nw"===f&&(b.top=c.top+(a.height-b.height),b.left=c.left+(a.width-b.width));return b},_respectSize:function(b){var c=this._vBoundaries,a=this.axis,f=this._isNumber(b.width)&&c.maxWidth&&c.maxWidth<b.width,h=this._isNumber(b.height)&&c.maxHeight&&c.maxHeight<b.height,e=this._isNumber(b.width)&&c.minWidth&&c.minWidth>b.width,g=this._isNumber(b.height)&&c.minHeight&&
c.minHeight>b.height,k=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,p=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);e&&(b.width=c.minWidth);g&&(b.height=c.minHeight);f&&(b.width=c.maxWidth);h&&(b.height=c.maxHeight);e&&p&&(b.left=k-c.minWidth);f&&p&&(b.left=k-c.maxWidth);g&&a&&(b.top=m-c.minHeight);h&&a&&(b.top=m-c.maxHeight);b.width||b.height||b.left||!b.top?b.width||b.height||b.top||!b.left||(b.left=null):b.top=null;return b},_getPaddingPlusBorderDimensions:function(b){var c=
0,a=[],f=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];for(b=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];4>c;c++)a[c]=parseInt(f[c],10)||0,a[c]+=parseInt(b[c],10)||0;return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b,c=0,a=this.helper||this.element;c<this._proportionallyResizeElements.length;c++)b=this._proportionallyResizeElements[c],
this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+
"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,c){return{width:this.originalSize.width+c}},w:function(b,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(b,d,a){return c.extend(this._change.s.apply(this,
arguments),this._change.e.apply(this,[b,d,a]))},sw:function(b,d,a){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,d,a]))},ne:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,d,a]))},nw:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,d,a]))}},_propagate:function(b,d){c.ui.plugin.call(this,b,[d,this.ui()]);"resize"!==b&&this._trigger(b,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,
element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(b){var d=c(this).resizable("instance"),a=d.options,f=d._proportionallyResizeElements,h=f.length&&/textarea/i.test(f[0].nodeName),e=h&&d._hasScroll(f[0],"left")?0:d.sizeDiff.height,h={width:d.size.width-(h?0:d.sizeDiff.width),height:d.size.height-e},e=parseInt(d.element.css("left"),10)+(d.position.left-
d.originalPosition.left)||null,g=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(c.extend(h,g&&e?{top:g,left:e}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&c(f[0]).css({width:a.width,height:a.height});d._updateCache(a);d._propagate("resize",
b)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var b,d,a,f,h,e=c(this).resizable("instance"),g=e.element;a=e.options.containment;if(g=a instanceof c?a.get(0):/parent/.test(a)?g.parent().get(0):a)e.containerElement=c(g),/document/.test(a)||a===document?(e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(b=c(g),d=[],c(["Top",
"Right","Left","Bottom"]).each(function(a,c){d[a]=e._num(b.css("padding"+c))}),e.containerOffset=b.offset(),e.containerPosition=b.position(),e.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},a=e.containerOffset,f=e.containerSize.height,h=e.containerSize.width,h=e._hasScroll(g,"left")?g.scrollWidth:h,f=e._hasScroll(g)?g.scrollHeight:f,e.parentData={element:g,left:a.left,top:a.top,width:h,height:f})},resize:function(b){var d,a,f,h=c(this).resizable("instance");d=h.options;a=h.containerOffset;
f=h.position;b=h._aspectRatio||b.shiftKey;var e={top:0,left:0},g=h.containerElement,k=!0;g[0]!==document&&/static/.test(g.css("position"))&&(e=a);f.left<(h._helper?a.left:0)&&(h.size.width+=h._helper?h.position.left-a.left:h.position.left-e.left,b&&(h.size.height=h.size.width/h.aspectRatio,k=!1),h.position.left=d.helper?a.left:0);f.top<(h._helper?a.top:0)&&(h.size.height+=h._helper?h.position.top-a.top:h.position.top,b&&(h.size.width=h.size.height*h.aspectRatio,k=!1),h.position.top=h._helper?a.top:
0);d=h.containerElement.get(0)===h.element.parent().get(0);f=/relative|absolute/.test(h.containerElement.css("position"));d&&f?(h.offset.left=h.parentData.left+h.position.left,h.offset.top=h.parentData.top+h.position.top):(h.offset.left=h.element.offset().left,h.offset.top=h.element.offset().top);d=Math.abs(h.sizeDiff.width+(h._helper?h.offset.left-e.left:h.offset.left-a.left));a=Math.abs(h.sizeDiff.height+(h._helper?h.offset.top-e.top:h.offset.top-a.top));d+h.size.width>=h.parentData.width&&(h.size.width=
h.parentData.width-d,b&&(h.size.height=h.size.width/h.aspectRatio,k=!1));a+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-a,b&&(h.size.width=h.size.height*h.aspectRatio,k=!1));k||(h.position.left=h.prevPosition.left,h.position.top=h.prevPosition.top,h.size.width=h.prevSize.width,h.size.height=h.prevSize.height)},stop:function(){var b=c(this).resizable("instance"),d=b.options,a=b.containerOffset,f=b.containerPosition,h=b.containerElement,e=c(b.helper),g=e.offset(),k=e.outerWidth()-
b.sizeDiff.width,e=e.outerHeight()-b.sizeDiff.height;b._helper&&!d.animate&&/relative/.test(h.css("position"))&&c(this).css({left:g.left-f.left-a.left,width:k,height:e});b._helper&&!d.animate&&/static/.test(h.css("position"))&&c(this).css({left:g.left-f.left-a.left,width:k,height:e})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var b=c(this).resizable("instance").options,d=function(a){c(a).each(function(){var a=c(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),
height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!==typeof b.alsoResize||b.alsoResize.parentNode?d(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],d(b.alsoResize)):c.each(b.alsoResize,function(a){d(a)})},resize:function(b,d){var a=c(this).resizable("instance"),f=a.options,h=a.originalSize,e=a.originalPosition,g={height:a.size.height-h.height||0,width:a.size.width-h.width||0,top:a.position.top-e.top||0,left:a.position.left-e.left||
0},k=function(a,b){c(a).each(function(){var a=c(this),f=c(this).data("ui-resizable-alsoresize"),h={},e=b&&b.length?b:a.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(e,function(a,b){var c=(f[b]||0)+(g[b]||0);c&&0<=c&&(h[b]=c||null)});a.css(h)})};"object"!==typeof f.alsoResize||f.alsoResize.nodeType?k(f.alsoResize):c.each(f.alsoResize,function(a,b){k(a,b)})},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",
{start:function(){var b=c(this).resizable("instance"),d=b.options,a=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof d.ghost?d.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=c(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=c(this).resizable("instance");
b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var b,d=c(this).resizable("instance"),a=d.options,f=d.size,h=d.originalSize,e=d.originalPosition,g=d.axis,k="number"===typeof a.grid?[a.grid,a.grid]:a.grid,m=k[0]||1,p=k[1]||1,q=Math.round((f.width-h.width)/m)*m,f=Math.round((f.height-h.height)/p)*p,l=h.width+q,s=h.height+f,J=a.maxWidth&&a.maxWidth<l,E=a.maxHeight&&a.maxHeight<s,Q=a.minWidth&&a.minWidth>l,G=a.minHeight&&a.minHeight>
s;a.grid=k;Q&&(l+=m);G&&(s+=p);J&&(l-=m);E&&(s-=p);if(/^(se|s|e)$/.test(g))d.size.width=l,d.size.height=s;else if(/^(ne)$/.test(g))d.size.width=l,d.size.height=s,d.position.top=e.top-f;else if(/^(sw)$/.test(g))d.size.width=l,d.size.height=s,d.position.left=e.left-q;else{if(0>=s-p||0>=l-m)b=d._getPaddingPlusBorderDimensions(this);0<s-p?(d.size.height=s,d.position.top=e.top-f):(s=p-b.height,d.size.height=s,d.position.top=e.top+h.height-s);0<l-m?(d.size.width=l,d.position.left=e.left-q):(l=p-b.height,
d.size.width=l,d.position.left=e.left+h.width-l)}}});c.widget("ui.selectable",c.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=c(d.options.filter,d.element[0]);b.addClass("ui-selectee");b.each(function(){var a=c(this),b=a.offset();c.data(this,"selectable-item",
{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(b){var d=this,a=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=c(a.filter,this.element[0]),this._trigger("start",b),c(a.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),a.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=c.data(this,"selectable-item");a.startselected=!0;b.metaKey||b.ctrlKey||(a.$element.removeClass("ui-selected"),a.selected=!1,
a.$element.addClass("ui-unselecting"),a.unselecting=!0,d._trigger("unselecting",b,{unselecting:a.element}))}),c(b.target).parents().addBack().each(function(){var a,h=c.data(this,"selectable-item");if(h)return a=!b.metaKey&&!b.ctrlKey||!h.$element.hasClass("ui-selected"),h.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),h.unselecting=!a,h.selecting=a,(h.selected=a)?d._trigger("selecting",b,{selecting:h.element}):d._trigger("unselecting",b,{unselecting:h.element}),
!1}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var d,a=this,f=this.options,h=this.opos[0],e=this.opos[1],g=b.pageX,k=b.pageY;h>g&&(d=g,g=h,h=d);e>k&&(d=k,k=e,e=d);this.helper.css({left:h,top:e,width:g-h,height:k-e});this.selectees.each(function(){var d=c.data(this,"selectable-item"),m=!1;d&&d.element!==a.element[0]&&("touch"===f.tolerance?m=!(d.left>g||d.right<h||d.top>k||d.bottom<e):"fit"===f.tolerance&&(m=d.left>h&&d.right<g&&d.top>e&&d.bottom<k),m?(d.selected&&(d.$element.removeClass("ui-selected"),
d.selected=!1),d.unselecting&&(d.$element.removeClass("ui-unselecting"),d.unselecting=!1),d.selecting||(d.$element.addClass("ui-selecting"),d.selecting=!0,a._trigger("selecting",b,{selecting:d.element}))):(d.selecting&&((b.metaKey||b.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),d.unselecting=!0),a._trigger("unselecting",
b,{unselecting:d.element}))),!d.selected||b.metaKey||b.ctrlKey||d.startselected||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,a._trigger("unselecting",b,{unselecting:d.element}))))});return!1}},_mouseStop:function(b){var d=this;this.dragged=!1;c(".ui-unselecting",this.element[0]).each(function(){var a=c.data(this,"selectable-item");a.$element.removeClass("ui-unselecting");a.unselecting=!1;a.startselected=!1;d._trigger("unselected",b,{unselected:a.element})});
c(".ui-selecting",this.element[0]).each(function(){var a=c.data(this,"selectable-item");a.$element.removeClass("ui-selecting").addClass("ui-selected");a.selecting=!1;a.selected=!0;a.startselected=!0;d._trigger("selected",b,{selected:a.element})});this._trigger("stop",b);this.helper.remove();return!1}});c.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",
header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=c();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=
0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c()}},_createIcons:function(){var b=this.options.icons;b&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},
_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();b=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display",
"").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,c){"active"===b?this._activate(c):("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(c)),this._super(b,c),"collapsible"!==b||c||!1!==this.options.active||this._activate(0),"icons"===b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"===b&&(this.element.toggleClass("ui-state-disabled",
!!c).attr("aria-disabled",c),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!c)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var d=c.ui.keyCode,a=this.headers.length,f=this.headers.index(b.target),h=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:h=this.headers[(f+1)%a];break;case d.LEFT:case d.UP:h=this.headers[(f-1+a)%a];break;case d.SPACE:case d.ENTER:this._eventHandler(b);break;case d.HOME:h=this.headers[0];break;case d.END:h=this.headers[a-1]}h&&(c(b.target).attr("tabIndex",
-1),c(h).attr("tabIndex",0),h.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===c.ui.keyCode.UP&&b.ctrlKey&&c(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=!1,this.active=c()):!1===b.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=c()):
this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var b=this.headers,c=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();c&&(this._off(b.not(this.headers)),this._off(c.not(this.panels)))},
_refresh:function(){var b,d=this.options,a=d.heightStyle,f=this.element.parent();this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var a=c(this),b=a.uniqueId().attr("id"),f=a.next(),d=f.uniqueId().attr("id");a.attr("aria-controls",d);f.attr("aria-labelledby",b)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",
"aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(d.event);"fill"===a?(b=f.height(),this.element.siblings(":visible").each(function(){var a=c(this),f=a.css("position");"absolute"!==f&&"fixed"!==f&&(b-=a.outerHeight(!0))}),this.headers.each(function(){b-=c(this).outerHeight(!0)}),
this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.headers.next().each(function(){b=Math.max(b,c(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):c()},_setupEvents:function(b){var d=
{keydown:"_keydown"};b&&c.each(b.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,d);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var d=this.options,a=this.active,f=c(b.currentTarget),h=f[0]===a[0],e=h&&d.collapsible,g=e?c():f.next(),k=a.next(),g={oldHeader:a,oldPanel:k,newHeader:e?c():f,newPanel:g};b.preventDefault();h&&!d.collapsible||
!1===this._trigger("beforeActivate",b,g)||(d.active=e?!1:this.headers.index(f),this.active=h?c():f,this._toggle(g),a.removeClass("ui-accordion-header-active ui-state-active"),d.icons&&a.children(".ui-accordion-header-icon").removeClass(d.icons.activeHeader).addClass(d.icons.header),h||(f.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),d.icons&&f.children(".ui-accordion-header-icon").removeClass(d.icons.header).addClass(d.icons.activeHeader),f.next().addClass("ui-accordion-content-active")))},
_toggle:function(b){var d=b.newPanel,a=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=d;this.prevHide=a;this.options.animate?this._animate(d,a,b):(a.hide(),d.show(),this._toggleComplete(b));a.attr({"aria-hidden":"true"});a.prev().attr("aria-selected","false");d.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):d.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);d.attr("aria-hidden",
"false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(b,c,a){var f,h,e,g=this,k=0,m=b.length&&(!c.length||b.index()<c.index()),p=this.options.animate||{},m=m&&p.down||p,q=function(){g._toggleComplete(a)};"number"===typeof m&&(e=m);"string"===typeof m&&(h=m);h=h||m.easing||p.easing;e=e||m.duration||p.duration;if(!c.length)return b.animate(this.showProps,e,h,q);if(!b.length)return c.animate(this.hideProps,e,h,q);f=b.show().outerHeight();c.animate(this.hideProps,
{duration:e,easing:h,step:function(a,b){b.now=Math.round(a)}});b.hide().animate(this.showProps,{duration:e,easing:h,complete:q,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?k+=b.now:"content"!==g.options.heightStyle&&(b.now=Math.round(f-c.outerHeight()-k),k=0)}})},_toggleComplete:function(b){var c=b.oldPanel;c.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");c.length&&(c.parent()[0].className=c.parent()[0].className);this._trigger("activate",
null,b)}});var p,s=function(){var b=c(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},k=function(b){var d=b.name,a=b.form,f=c([]);d&&(d=d.replace(/'/g,"\\'"),f=a?c(a).find("[name='"+d+"'][type=radio]"):c("[name='"+d+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form}));return f};c.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,s);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,d=this.options,a="checkbox"===this.type||"radio"===this.type,f=a?"":"ui-state-active";null===d.label&&(d.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){d.disabled||this===p&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){d.disabled||c(this).removeClass(f)}).bind("click"+this.eventNamespace,function(a){d.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
a&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(d.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed","true");var a=b.element[0];k(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).addClass("ui-state-active");p=this;b.document.one("mouseup",function(){p=null})}).bind("mouseup"+this.eventNamespace,function(){if(d.disabled)return!1;c(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(d.disabled)return!1;a.keyCode!==c.ui.keyCode.SPACE&&a.keyCode!==c.ui.keyCode.ENTER||c(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",d.disabled);this._resetButton()},_determineButtonType:function(){var b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(b=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=b.find(c),this.buttonElement.length||(b=b.length?b.siblings():this.element.siblings(),this.buttonElement=b.filter(c),this.buttonElement.length||(this.buttonElement=b.find(c))),this.element.addClass("ui-helper-hidden-accessible"),(b=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",b)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(b,c){this._super(b,
c);"disabled"===b?(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),c&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"))):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?k(this.element[0]).each(function(){c(this).is(":checked")?
c(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
d=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),a=this.options.icons,f=a.primary&&a.secondary,e=[];a.primary||a.secondary?(this.options.text&&e.push("ui-button-text-icon"+(f?"s":a.primary?"-primary":"-secondary")),a.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(e.push(f?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",c.trim(d)))):e.push("ui-button-text-only");b.addClass(e.join(" "))}}});c.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){"disabled"===b&&this.buttons.button("option",b,c);this._super(b,c)},refresh:function(){var b=
"rtl"===this.element.css("direction"),d=this.element.find(this.options.items),a=d.filter(":ui-button");d.not(":ui-button").button();a.button("refresh");this.buttons=d.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});
c.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled",
"true");this._on({"mousedown .ui-menu-item":function(b){b.preventDefault()},"click .ui-menu-item":function(b){var d=c(b.target);!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&c(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var d=
c(b.currentTarget);d.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(b,d)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,c){var a=this.active||this.element.find(this.options.items).eq(0);c||this.focus(b,a)},blur:function(b){this._delay(function(){c.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){this._closeOnDocumentClick(b)&&this.collapseAll(b);
this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=
c(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var d,a,f,e=!0;switch(b.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(b);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case c.ui.keyCode.HOME:this._move("first","first",b);break;case c.ui.keyCode.END:this._move("last","last",b);break;case c.ui.keyCode.UP:this.previous(b);break;case c.ui.keyCode.DOWN:this.next(b);break;
case c.ui.keyCode.LEFT:this.collapse(b);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(b);break;case c.ui.keyCode.ESCAPE:this.collapse(b);break;default:e=!1,d=this.previousFilter||"",a=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),a===d?f=!0:a=d+a,d=this._filterMenuItems(a),d=f&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||
(a=String.fromCharCode(b.keyCode),d=this._filterMenuItems(a)),d.length?(this.focus(b,d),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}e&&b.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(b):this.select(b))},refresh:function(){var b,d=this,a=this.options.icons.submenu;b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",
!!this.element.find(".ui-icon").length);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=c(this),d=b.parent(),e=c("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e);b.attr("aria-labelledby",d.attr("id"))});b=b.add(this.element).find(this.options.items);b.not(".ui-menu-item").each(function(){var a=
c(this);d._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")});b.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});b.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu);
"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this._super(b,c)},focus:function(b,c){var a;this.blur(b,b&&"focus"===b.type);this._scrollIntoView(c);this.active=c.first();a=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",a.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},
this.delay);a=c.children(".ui-menu");a.length&&b&&/^mouse/.test(b.type)&&this._startOpening(a);this.activeMenu=c.parent();this._trigger("focus",b,{item:c})},_scrollIntoView:function(b){var d,a,f;this._hasScroll()&&(d=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(c.css(this.activeMenu[0],"paddingTop"))||0,d=b.offset().top-this.activeMenu.offset().top-d-a,a=this.activeMenu.scrollTop(),f=this.activeMenu.height(),b=b.outerHeight(),0>d?this.activeMenu.scrollTop(a+d):d+b>f&&this.activeMenu.scrollTop(a+
d-f+b))},blur:function(b,c){c||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(b)},this.delay))},_open:function(b){var d=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden",
"true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(b,d){clearTimeout(this.timer);this.timer=this._delay(function(){var a=d?this.element:c(b&&b.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element);this._close(a);this.blur(b);this.activeMenu=a},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element);b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},
_closeOnDocumentClick:function(b){return!c(b.target).closest(".ui-menu").length},_isDivider:function(b){return!/[^\-\u2014\u2013\s]/.test(b.text())},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next",
"first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,c,a){var f;this.active&&(f="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[b+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.find(this.options.items)[c]());this.focus(a,
f)},nextPage:function(b){var d,a,f;this.active?this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=c(this);return 0>d.offset().top-a-f}),this.focus(b,d)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var d,a,f;this.active?this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=
c(this);return 0<d.offset().top-a+f}),this.focus(b,d)):this.focus(b,this.activeMenu.find(this.options.items).first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||c(b.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,d)},_filterMenuItems:function(b){b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=
new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(c.trim(c(this).text()))})}});c.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var b=/#.*$/;return function(c){var a,f;c=c.cloneNode(!1);a=c.href.replace(b,"");f=location.href.replace(b,"");try{a=decodeURIComponent(a)}catch(e){}try{f=
decodeURIComponent(f)}catch(g){}return 1<c.hash.length&&a===f}}(),_create:function(){var b=this,d=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",d.collapsible);this._processTabs();d.active=this._initialActive();c.isArray(d.disabled)&&(d.disabled=c.unique(d.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?
this._findActive(d.active):c();this._refresh();this.active.length&&this.load(d.active)},_initialActive:function(){var b=this.options.active,d=this.options.collapsible,a=location.hash.substring(1);null===b&&(a&&this.tabs.each(function(f,d){if(c(d).attr("aria-controls")===a)return b=f,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=d?!1:0));!d&&!1===b&&this.anchors.length&&(b=
0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(b){var d=c(this.document[0].activeElement).closest("li"),a=this.tabs.index(d),f=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:a++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:f=!1;a--;break;case c.ui.keyCode.END:a=this.anchors.length-1;break;case c.ui.keyCode.HOME:a=0;break;case c.ui.keyCode.SPACE:b.preventDefault();
clearTimeout(this.activating);this._activate(a);return;case c.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(a===this.options.active?!1:a);return;default:return}b.preventDefault();clearTimeout(this.activating);a=this._focusNextTab(a,f);b.ctrlKey||(d.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===
c.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,d){function a(){b>f&&(b=0);0>b&&(b=f);return b}for(var f=this.tabs.length-1;-1!==c.inArray(a(),this.options.disabled);)b=d?b+1:b-1;return b},_focusNextTab:function(b,
c){b=this._findNextTab(b,c);this.tabs.eq(b).focus();return b},_setOption:function(b,c){"active"===b?this._activate(c):"disabled"===b?this._setupDisabled(c):(this._super(b,c),"collapsible"===b&&(this.element.toggleClass("ui-tabs-collapsible",c),c||!1!==this.options.active||this._activate(0)),"event"===b&&this._setupEvents(c),"heightStyle"===b&&this._setupHeightStyle(c))},_sanitizeSelector:function(b){return b?b.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,
d=this.tablist.children(":has(a[href])");b.disabled=c.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=c());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);
this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",
0)},_processTabs:function(){var b=this,d=this.tabs,a=this.anchors,f=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(a){c(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",
tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(a,f){var d,e,g=c(f).uniqueId().attr("id"),k=c(f).closest("li"),m=k.attr("aria-controls");b._isLocal(f)?(d=f.hash,e=d.substring(1),d=b.element.find(b._sanitizeSelector(d))):(e=k.attr("aria-controls")||c({}).uniqueId()[0].id,d=b.element.find("#"+e),d.length||(d=b._createPanel(e),d.insertAfter(b.panels[a-1]||b.tablist)),
d.attr("aria-live","polite"));d.length&&(b.panels=b.panels.add(d));m&&k.data("ui-tabs-aria-controls",m);k.attr({"aria-controls":e,"aria-labelledby":g});d.attr("aria-labelledby",g)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");d&&(this._off(d.not(this.tabs)),this._off(a.not(this.anchors)),this._off(f.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return c("<div>").attr("id",
b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){c.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var d=0,a;a=this.tabs[d];d++)!0===b||-1!==c.inArray(d,b)?c(a).addClass("ui-state-disabled").attr("aria-disabled","true"):c(a).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var d={};b&&c.each(b.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));
this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,d);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var d,a=this.element.parent();"fill"===b?(d=a.height(),d-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=c(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(d-=a.outerHeight(!0))}),
this.element.children().not(this.panels).each(function(){d-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,d-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===b&&(d=0,this.panels.each(function(){d=Math.max(d,c(this).height("").height())}).height(d))},_eventHandler:function(b){var d=this.options,a=this.active,f=c(b.currentTarget).closest("li"),e=f[0]===a[0],g=e&&d.collapsible,k=g?c():this._getPanelForTab(f),m=a.length?this._getPanelForTab(a):
c(),a={oldTab:a,oldPanel:m,newTab:g?c():f,newPanel:k};b.preventDefault();f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||e&&!d.collapsible||!1===this._trigger("beforeActivate",b,a)||(d.active=g?!1:this.tabs.index(f),this.active=e?c():f,this.xhr&&this.xhr.abort(),m.length||k.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),k.length&&this.load(this.tabs.index(f),b),this._toggle(b,a))},_toggle:function(b,d){function a(){e.running=!1;e._trigger("activate",
b,d)}function f(){d.newTab.closest("li").addClass("ui-tabs-active ui-state-active");g.length&&e.options.show?e._show(g,e.options.show,a):(g.show(),a())}var e=this,g=d.newPanel,k=d.oldPanel;this.running=!0;k.length&&this.options.hide?this._hide(k,this.options.hide,function(){d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");f()}):(d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),k.hide(),f());k.attr("aria-hidden","true");d.oldTab.attr({"aria-selected":"false",
"aria-expanded":"false"});g.length&&k.length?d.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);g.attr("aria-hidden","false");d.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return!1===
b?c():this.tabs.eq(b)},_getIndex:function(b){"string"===typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']")));return b},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=
c(this),d=b.data("ui-tabs-aria-controls");d?b.attr("aria-controls",d).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var d=this.options.disabled;!1!==d&&(void 0===b?d=!1:(b=this._getIndex(b),d=c.isArray(d)?c.map(d,function(a){return a!==b?a:null}):c.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(d))},disable:function(b){var d=this.options.disabled;
if(!0!==d){if(void 0===b)d=!0;else{b=this._getIndex(b);if(-1!==c.inArray(b,d))return;d=c.isArray(d)?c.merge([b],d).sort():[b]}this._setupDisabled(d)}},load:function(b,d){b=this._getIndex(b);var a=this,f=this.tabs.eq(b),e=f.find(".ui-tabs-anchor"),g=this._getPanelForTab(f),k={tab:f,panel:g};this._isLocal(e[0])||(this.xhr=c.ajax(this._ajaxSettings(e,d,k)))&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.success(function(b){setTimeout(function(){g.html(b);
a._trigger("load",d,k)},1)}).complete(function(b,c){setTimeout(function(){"abort"===c&&a.panels.stop(!1,!0);f.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");b===a.xhr&&delete a.xhr},1)}))},_ajaxSettings:function(b,d,a){var f=this;return{url:b.attr("href"),beforeSend:function(b,e){return f._trigger("beforeLoad",d,c.extend({jqXHR:b,ajaxSettings:e},a))}}},_getPanelForTab:function(b){b=c(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}});c.widget("ui.tooltip",
{version:"1.11.2",options:{content:function(){var b=c(this).attr("title")||"";return c("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(b,d){var a=(b.attr("aria-describedby")||"").split(/\s+/);a.push(d);b.data("ui-tooltip-id",d).attr("aria-describedby",c.trim(a.join(" ")))},_removeDescribedBy:function(b){var d=b.data("ui-tooltip-id"),
a=(b.attr("aria-describedby")||"").split(/\s+/),d=c.inArray(d,a);-1!==d&&a.splice(d,1);b.removeData("ui-tooltip-id");(a=c.trim(a.join(" ")))?b.attr("aria-describedby",a):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=c("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(b,d){var a=this;"disabled"===b?(this[d?"_disable":"_enable"](),this.options[b]=d):(this._super(b,d),"content"===b&&c.each(this.tooltips,function(b,c){a._updateContent(c.element)}))},_disable:function(){var b=this;c.each(this.tooltips,function(d,a){var f=c.Event("blur");f.target=f.currentTarget=a.element[0];b.close(f,!0)});this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var d=this,a=c(b?b.target:this.element).closest(this.options.items);a.length&&!a.data("ui-tooltip-id")&&(a.attr("title")&&a.data("ui-tooltip-title",a.attr("title")),a.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&a.parents().each(function(){var a=c(this),b;a.data("ui-tooltip-open")&&(b=c.Event("blur"),b.target=
b.currentTarget=this,d.close(b,!0));a.attr("title")&&(a.uniqueId(),d.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(a,b))},_updateContent:function(b,c){var a;a=this.options.content;var f=this,e=c?c.type:null;if("string"===typeof a)return this._open(c,b,a);(a=a.call(b[0],function(a){b.data("ui-tooltip-open")&&f._delay(function(){c&&(c.type=e);this._open(c,b,a)})}))&&this._open(c,b,a)},_open:function(b,d,a){function f(a){m.of=a;g.is(":hidden")||g.position(m)}
var e,g,k,m=c.extend({},this.options.position);a&&((e=this._find(d))?e.tooltip.find(".ui-tooltip-content").html(a):(d.is("[title]")&&(b&&"mouseover"===b.type?d.attr("title",""):d.removeAttr("title")),e=this._tooltip(d),g=e.tooltip,this._addDescribedBy(d,g.attr("id")),g.find(".ui-tooltip-content").html(a),this.liveRegion.children().hide(),a.clone&&(a=a.clone(),a.removeAttr("id").find("[id]").removeAttr("id")),c("<div>").html(a).appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?
(this._on(this.document,{mousemove:f}),f(b)):g.position(c.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(k=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(m.of),clearInterval(k))},c.fx.interval)),this._trigger("open",b,{tooltip:g}),a={keyup:function(a){a.keyCode===c.ui.keyCode.ESCAPE&&(a=c.Event(a),a.currentTarget=d[0],this.close(a,!0))}},d[0]!==this.element[0]&&(a.remove=function(){this._removeTooltip(g)}),
b&&"mouseover"!==b.type||(a.mouseleave="close"),b&&"focusin"!==b.type||(a.focusout="close"),this._on(!0,d,a)))},close:function(b){var d,a=this,f=c(b?b.currentTarget:this.element),e=this._find(f);e&&(d=e.tooltip,e.closing||(clearInterval(this.delayedShow),f.data("ui-tooltip-title")&&!f.attr("title")&&f.attr("title",f.data("ui-tooltip-title")),this._removeDescribedBy(f),e.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){a._removeTooltip(c(this))}),f.removeData("ui-tooltip-open"),this._off(f,
"mouseleave focusout keyup"),f[0]!==this.element[0]&&this._off(f,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&c.each(this.parents,function(b,f){c(f.element).attr("title",f.title);delete a.parents[b]}),e.closing=!0,this._trigger("close",b,{tooltip:d}),e.hiding||(e.closing=!1)))},_tooltip:function(b){var d=c("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),a=d.uniqueId().attr("id");c("<div>").addClass("ui-tooltip-content").appendTo(d);
d.appendTo(this.document[0].body);return this.tooltips[a]={element:b,tooltip:d}},_find:function(b){return(b=b.data("ui-tooltip-id"))?this.tooltips[b]:null},_removeTooltip:function(b){b.remove();delete this.tooltips[b.attr("id")]},_destroy:function(){var b=this;c.each(this.tooltips,function(d,a){var f=c.Event("blur"),e=a.element;f.target=f.currentTarget=e[0];b.close(f,!0);c("#"+d).remove();e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))});
this.liveRegion.remove()}})});/*
   Copyright 2008-2014 SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
*/
(function(c,l,g){(function(c){"function"===typeof define&&define.amd?define("datatables",["jquery"],c):"object"===typeof exports?c(require("jquery")):jQuery&&!jQuery.fn.dataTable&&c(jQuery)})(function(e){function q(a){var b,c,f={};e.each(a,function(d,e){(b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" ")&&(c=d.replace(b[0],b[2].toLowerCase()),f[c]=d,"o"===b[1]&&q(a[d]))});a._hungarianMap=f}function m(a,b,c){a._hungarianMap||q(a);var f;e.each(b,function(d,h){f=a._hungarianMap[d];
f===g||!c&&b[f]!==g||("o"===f.charAt(0)?(b[f]||(b[f]={}),e.extend(!0,b[f],b[d]),m(a[f],b[f],c)):b[f]=b[d])})}function p(a){var b=y.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&ma(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&ma(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&Xa(a)}function s(a){fa(a,"ordering","bSort");fa(a,"orderMulti","bSortMulti");
fa(a,"orderClasses","bSortClasses");fa(a,"orderCellsTop","bSortCellsTop");fa(a,"order","aaSorting");fa(a,"orderFixed","aaSortingFixed");fa(a,"paging","bPaginate");fa(a,"pagingType","sPaginationType");fa(a,"pageLength","iDisplayLength");fa(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&m(y.models.oSearch,a[b])}function k(a){fa(a,"orderable","bSortable");fa(a,"orderData","aDataSort");fa(a,"orderSequence","asSorting");fa(a,"orderDataType","sortDataType")}function b(a){a=
a.oBrowser;var b=e("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==c.offset().left;b.remove()}function d(a,b,c,f,d,e){var h,k=!1;c!==g&&(h=c,k=!0);for(;f!==d;)a.hasOwnProperty(f)&&(h=k?b(h,a[f],f,a):a[f],k=!0,f+=e);return h}
function a(a,b){var c=y.defaults.column,d=a.aoColumns.length,c=e.extend({},y.models.oColumn,c,{nTh:b?b:l.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.mData:d,idx:d});a.aoColumns.push(c);c=a.aoPreSearchCols;c[d]=e.extend({},y.models.oSearch,c[d]);f(a,d,null)}function f(a,b,c){b=a.aoColumns[b];var f=a.oClasses,d=e(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=d.attr("width")||null;var h=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);
h&&(b.sWidthOrig=h[1])}c!==g&&null!==c&&(k(c),m(y.defaults.column,c),c.mDataProp===g||c.mData||(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),e.extend(b,c),ma(b,c,"sWidth","sWidthOrig"),"number"===typeof c.iDataSort&&(b.aDataSort=[c.iDataSort]),ma(b,c,"aDataSort"));var r=b.mData,p=G(r),q=b.mRender?G(b.mRender):null;c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=e.isPlainObject(r)&&(c(r.sort)||c(r.type)||c(r.filter));
b.fnGetData=function(a,b,c){var f=p(a,b,g,c);return q&&b?q(f,b,a,c):f};b.fnSetData=function(a,b,c){return P(r)(a,b,c)};"number"!==typeof r&&(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,d.addClass(f.sSortableNone));a=-1!==e.inArray("asc",b.asSorting);c=-1!==e.inArray("desc",b.asSorting);b.bSortable&&(a||c)?a&&!c?(b.sSortingClass=f.sSortableAsc,b.sSortingClassJUI=f.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=f.sSortableDesc,b.sSortingClassJUI=f.sSortJUIDescAllowed):(b.sSortingClass=f.sSortable,
b.sSortingClassJUI=f.sSortJUI):(b.sSortingClass=f.sSortableNone,b.sSortingClassJUI="")}function h(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;xa(a);for(var c=0,f=b.length;c<f;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;""===b.sY&&""===b.sX||Qa(a);U(a,null,"column-sizing",[a])}function r(a,b){var c=v(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function x(a,b){var c=v(a,"bVisible"),c=e.inArray(b,c);return-1!==c?c:null}function z(a){return v(a,"bVisible").length}function v(a,b){var c=
[];e.map(a.aoColumns,function(a,f){a[b]&&c.push(f)});return c}function w(a){var b=a.aoColumns,c=a.aoData,f=y.ext.type.detect,d,e,h,k,m,r,p,q,n;d=0;for(e=b.length;d<e;d++)if(p=b[d],n=[],!p.sType&&p._sManualType)p.sType=p._sManualType;else if(!p.sType){h=0;for(k=f.length;h<k;h++){m=0;for(r=c.length;m<r;m++){n[m]===g&&(n[m]=J(a,m,d,"type"));q=f[h](n[m],a);if(!q&&h!==f.length-1)break;if("html"===q)break}if(q){p.sType=q;break}}p.sType||(p.sType="string")}}function A(b,c,f,d){var h,k,m,r,p,q,n=b.aoColumns;
if(c)for(h=c.length-1;0<=h;h--){q=c[h];var l=q.targets!==g?q.targets:q.aTargets;e.isArray(l)||(l=[l]);k=0;for(m=l.length;k<m;k++)if("number"===typeof l[k]&&0<=l[k]){for(;n.length<=l[k];)a(b);d(l[k],q)}else if("number"===typeof l[k]&&0>l[k])d(n.length+l[k],q);else if("string"===typeof l[k])for(r=0,p=n.length;r<p;r++)("_all"==l[k]||e(n[r].nTh).hasClass(l[k]))&&d(r,q)}if(f)for(h=0,b=f.length;h<b;h++)d(h,f[h])}function C(a,b,c,f){var d=a.aoData.length,h=e.extend(!0,{},y.models.oRow,{src:c?"dom":"data"});
h._aData=b;a.aoData.push(h);b=a.aoColumns;for(var h=0,g=b.length;h<g;h++)c&&E(a,d,h,J(a,d,h)),b[h].sType=null;a.aiDisplayMaster.push(d);!c&&a.oFeatures.bDeferRender||ka(a,d,c,f);return d}function I(a,b){var c;b instanceof e||(b=e(b));return b.map(function(b,f){c=V(a,f);return C(a,c.data,f,c.cells)})}function J(a,b,c,f){var d=a.iDraw,e=a.aoColumns[c],h=a.aoData[b]._aData,k=e.sDefaultContent;c=e.fnGetData(h,f,{settings:a,row:b,col:c});if(c===g)return a.iDrawError!=d&&null===k&&(Ha(a,0,"Requested unknown parameter "+
("function"==typeof e.mData?"{function}":"'"+e.mData+"'")+" for row "+b,4),a.iDrawError=d),k;if((c===h||null===c)&&null!==k)c=k;else if("function"===typeof c)return c.call(h);return null===c&&"display"==f?"":c}function E(a,b,c,f){a.aoColumns[c].fnSetData(a.aoData[b]._aData,f,{settings:a,row:b,col:c})}function Q(a){return e.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function G(a){if(e.isPlainObject(a)){var b={};e.each(a,function(a,c){c&&(b[a]=G(c))});return function(a,
c,f,d){var e=b[c]||b._;return e!==g?e(a,c,f,d):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,f,d){return a(b,c,f,d)};if("string"!==typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){return b[a]};var c=function(a,b,f){var d,e;if(""!==f){e=Q(f);for(var h=0,u=e.length;h<u;h++){f=e[h].match(Ya);d=e[h].match(Na);if(f){e[h]=e[h].replace(Ya,"");""!==e[h]&&(a=a[e[h]]);d=[];e.splice(0,h+1);e=e.join(".");h=0;for(u=a.length;h<
u;h++)d.push(c(a[h],b,e));a=f[0].substring(1,f[0].length-1);a=""===a?d:d.join(a);break}else if(d){e[h]=e[h].replace(Na,"");a=a[e[h]]();continue}if(null===a||a[e[h]]===g)return g;a=a[e[h]]}}return a};return function(b,f){return c(b,f,a)}}function P(a){if(e.isPlainObject(a))return P(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,c,f){a(b,"set",c,f)};if("string"!==typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){b[a]=c};var b=
function(a,c,f){f=Q(f);var d;d=f[f.length-1];for(var e,h,u=0,k=f.length-1;u<k;u++){e=f[u].match(Ya);h=f[u].match(Na);if(e){f[u]=f[u].replace(Ya,"");a[f[u]]=[];d=f.slice();d.splice(0,u+1);e=d.join(".");h=0;for(k=c.length;h<k;h++)d={},b(d,c[h],e),a[f[u]].push(d);return}h&&(f[u]=f[u].replace(Na,""),a=a[f[u]](c));if(null===a[f[u]]||a[f[u]]===g)a[f[u]]={};a=a[f[u]]}if(d.match(Na))a[d.replace(Na,"")](c);else a[d.replace(Ya,"")]=c};return function(c,f){return b(c,f,a)}}function N(a){return la(a.aoData,"_aData")}
function K(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function X(a,b,c){for(var f=-1,d=0,e=a.length;d<e;d++)a[d]==b?f=d:a[d]>b&&a[d]--; -1!=f&&c===g&&a.splice(f,1)}function ba(a,b,c,f){var d=a.aoData[b],e,h=function(c,f){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=J(a,b,f,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==d.src)){var k=d.anCells;if(k)if(f!==g)h(k[f],f);else for(c=0,e=k.length;c<e;c++)h(k[c],c)}else d._aData=V(a,d,f,f===g?g:d._aData).data;
d._aSortData=null;d._aFilterData=null;h=a.aoColumns;if(f!==g)h[f].sType=null;else{c=0;for(e=h.length;c<e;c++)h[c].sType=null;pa(d)}}function V(a,b,c,f){var d=[],h=b.firstChild,k,m=0,r,p=a.aoColumns,q=a._rowReadObject;f=f||q?{}:[];var n=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),P(a)(f,b.getAttribute(c)))}};a=function(a){if(c===g||c===m)k=p[m],r=e.trim(a.innerHTML),k&&k._bAttrSrc?(P(k.mData._)(f,r),n(k.mData.sort,a),n(k.mData.type,a),n(k.mData.filter,a)):
q?(k._setter||(k._setter=P(k.mData)),k._setter(f,r)):f[m]=r;m++};if(h)for(;h;){b=h.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(h),d.push(h);h=h.nextSibling}else for(d=b.anCells,h=0,b=d.length;h<b;h++)a(d[h]);return{data:f,cells:d}}function ka(a,b,c,f){var d=a.aoData[b],e=d._aData,h=[],g,k,m,r,p;if(null===d.nTr){g=c||l.createElement("tr");d.nTr=g;d.anCells=h;g._DT_RowIndex=b;pa(d);r=0;for(p=a.aoColumns.length;r<p;r++){m=a.aoColumns[r];k=c?f[r]:l.createElement(m.sCellType);h.push(k);if(!c||m.mRender||
m.mData!==r)k.innerHTML=J(a,b,r,"display");m.sClass&&(k.className+=" "+m.sClass);m.bVisible&&!c?g.appendChild(k):!m.bVisible&&c&&k.parentNode.removeChild(k);m.fnCreatedCell&&m.fnCreatedCell.call(a.oInstance,k,J(a,b,r),e,b,r)}U(a,"aoRowCreatedCallback",null,[g,e,b])}d.nTr.setAttribute("role","row")}function pa(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var f=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?hb(a.__rowc.concat(f)):f;e(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowData&&
e(b).data(c.DT_RowData)}}function Aa(a){var b,c,f,d,h,g=a.nTHead,k=a.nTFoot,m=0===e("th, td",g).length,r=a.oClasses,p=a.aoColumns;m&&(d=e("<tr/>").appendTo(g));b=0;for(c=p.length;b<c;b++)h=p[b],f=e(h.nTh).addClass(h.sClass),m&&f.appendTo(d),a.oFeatures.bSort&&(f.addClass(h.sSortingClass),!1!==h.bSortable&&(f.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),fb(a,h.nTh,b))),h.sTitle!=f.html()&&f.html(h.sTitle),gb(a,"header")(a,f,h,r);m&&ca(a.aoHeader,g);e(g).find(">tr").attr("role","row");
e(g).find(">tr>th, >tr>td").addClass(r.sHeaderTH);e(k).find(">tr>th, >tr>td").addClass(r.sFooterTH);if(null!==k)for(a=a.aoFooter[0],b=0,c=a.length;b<c;b++)h=p[b],h.nTf=a[b].cell,h.sClass&&e(h.nTf).addClass(h.sClass)}function ha(a,b,c){var f,d,h,k=[],m=[],r=a.aoColumns.length,p;if(b){c===g&&(c=!1);f=0;for(d=b.length;f<d;f++){k[f]=b[f].slice();k[f].nTr=b[f].nTr;for(h=r-1;0<=h;h--)a.aoColumns[h].bVisible||c||k[f].splice(h,1);m.push([])}f=0;for(d=k.length;f<d;f++){if(a=k[f].nTr)for(;h=a.firstChild;)a.removeChild(h);
h=0;for(b=k[f].length;h<b;h++)if(p=r=1,m[f][h]===g){a.appendChild(k[f][h].cell);for(m[f][h]=1;k[f+r]!==g&&k[f][h].cell==k[f+r][h].cell;)m[f+r][h]=1,r++;for(;k[f][h+p]!==g&&k[f][h].cell==k[f][h+p].cell;){for(c=0;c<r;c++)m[f+c][h+p]=1;p++}e(k[f][h].cell).attr("rowspan",r).attr("colspan",p)}}}}function sa(a){var b=U(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==e.inArray(!1,b))T(a,!1);else{var b=[],c=0,f=a.asStripeClasses,d=f.length,h=a.oLanguage,k=a.iInitDisplayStart,m="ssp"==ia(a),r=a.aiDisplay;a.bDrawing=
!0;k!==g&&-1!==k&&(a._iDisplayStart=m?k:k>=a.fnRecordsDisplay()?0:k,a.iInitDisplayStart=-1);var k=a._iDisplayStart,p=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,T(a,!1);else if(!m)a.iDraw++;else if(!a.bDestroying&&!qa(a))return;if(0!==r.length)for(h=m?a.aoData.length:p,m=m?0:k;m<h;m++){var q=r[m],n=a.aoData[q];null===n.nTr&&ka(a,q);q=n.nTr;if(0!==d){var l=f[c%d];n._sRowStripe!=l&&(e(q).removeClass(n._sRowStripe).addClass(l),n._sRowStripe=l)}U(a,"aoRowCallback",null,[q,n._aData,
c,m]);b.push(q);c++}else c=h.sZeroRecords,1==a.iDraw&&"ajax"==ia(a)?c=h.sLoadingRecords:h.sEmptyTable&&0===a.fnRecordsTotal()&&(c=h.sEmptyTable),b[0]=e("<tr/>",{"class":d?f[0]:""}).append(e("<td />",{valign:"top",colSpan:z(a),"class":a.oClasses.sRowEmpty}).html(c))[0];U(a,"aoHeaderCallback","header",[e(a.nTHead).children("tr")[0],N(a),k,p,r]);U(a,"aoFooterCallback","footer",[e(a.nTFoot).children("tr")[0],N(a),k,p,r]);f=e(a.nTBody);f.children().detach();f.append(e(b));U(a,"aoDrawCallback","draw",[a]);
a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function ta(a,b){var c=a.oFeatures,f=c.bFilter;c.bSort&&Jb(a);f?H(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;sa(a);a._drawHold=!1}function ua(a){var b=a.oClasses,c=e(a.nTable),c=e("<div/>").insertBefore(c),f=a.oFeatures,d=e("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=d[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var h=
a.sDom.split(""),g,k,m,r,p,q,n=0;n<h.length;n++){g=null;k=h[n];if("<"==k){m=e("<div/>")[0];r=h[n+1];if("'"==r||'"'==r){p="";for(q=2;h[n+q]!=r;)p+=h[n+q],q++;"H"==p?p=b.sJUIHeader:"F"==p&&(p=b.sJUIFooter);-1!=p.indexOf(".")?(r=p.split("."),m.id=r[0].substr(1,r[0].length-1),m.className=r[1]):"#"==p.charAt(0)?m.id=p.substr(1,p.length-1):m.className=p;n+=q}d.append(m);d=e(m)}else if(">"==k)d=d.parent();else if("l"==k&&f.bPaginate&&f.bLengthChange)g=lb(a);else if("f"==k&&f.bFilter)g=W(a);else if("r"==
k&&f.bProcessing)g=M(a);else if("t"==k)g=Bb(a);else if("i"==k&&f.bInfo)g=Ab(a);else if("p"==k&&f.bPaginate)g=Wa(a);else if(0!==y.ext.feature.length)for(m=y.ext.feature,q=0,r=m.length;q<r;q++)if(k==m[q].cFeature){g=m[q].fnInit(a);break}g&&(m=a.aanFeatures,m[k]||(m[k]=[]),m[k].push(g),d.append(g))}c.replaceWith(d)}function ca(a,b){var c=e(b).children("tr"),f,d,h,g,k,m,r,p,q,n;a.splice(0,a.length);h=0;for(m=c.length;h<m;h++)a.push([]);h=0;for(m=c.length;h<m;h++)for(f=c[h],d=f.firstChild;d;){if("TD"==
d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){p=1*d.getAttribute("colspan");q=1*d.getAttribute("rowspan");p=p&&0!==p&&1!==p?p:1;q=q&&0!==q&&1!==q?q:1;g=0;for(k=a[h];k[g];)g++;r=g;n=1===p?!0:!1;for(k=0;k<p;k++)for(g=0;g<q;g++)a[h+g][r+k]={cell:d,unique:n},a[h+g].nTr=f}d=d.nextSibling}}function Ia(a,b,c){var f=[];c||(c=a.aoHeader,b&&(c=[],ca(c,b)));b=0;for(var d=c.length;b<d;b++)for(var e=0,h=c[b].length;e<h;e++)!c[b][e].unique||f[e]&&a.bSortCellsTop||(f[e]=c[b][e].cell);return f}function Da(a,
b,c){U(a,"aoServerParams","serverParams",[b]);if(b&&e.isArray(b)){var f={},d=/(.*?)\[\]$/;e.each(b,function(a,b){var c=b.name.match(d);c?(c=c[0],f[c]||(f[c]=[]),f[c].push(b.value)):f[b.name]=b.value});b=f}var h,g=a.ajax,k=a.oInstance;if(e.isPlainObject(g)&&g.data){h=g.data;var m=e.isFunction(h)?h(b):h;b=e.isFunction(h)&&m?m:e.extend(!0,b,m);delete g.data}m={data:b,success:function(b){var f=b.error||b.sError;f&&a.oApi._fnLog(a,0,f);a.json=b;U(a,null,"xhr",[a,b]);c(b)},dataType:"json",cache:!1,type:a.sServerMethod,
error:function(b,c,f){f=a.oApi._fnLog;"parsererror"==c?f(a,0,"Invalid JSON response",1):4===b.readyState&&f(a,0,"Ajax error",7);T(a,!1)}};a.oAjaxData=b;U(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(k,a.sAjaxSource,e.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=e.ajax(e.extend(m,{url:g||a.sAjaxSource})):e.isFunction(g)?a.jqXHR=g.call(k,b,c,a):(a.jqXHR=e.ajax(e.extend(m,g)),g.data=h)}function qa(a){return a.bAjaxDataGet?(a.iDraw++,T(a,!0),
Da(a,ya(a),function(b){Db(a,b)}),!1):!0}function ya(a){var b=a.aoColumns,c=b.length,f=a.oFeatures,d=a.oPreviousSearch,h=a.aoPreSearchCols,g,k=[],m,r,p,q=Ka(a);g=a._iDisplayStart;m=!1!==f.bPaginate?a._iDisplayLength:-1;var n=function(a,b){k.push({name:a,value:b})};n("sEcho",a.iDraw);n("iColumns",c);n("sColumns",la(b,"sName").join(","));n("iDisplayStart",g);n("iDisplayLength",m);var l={draw:a.iDraw,columns:[],order:[],start:g,length:m,search:{value:d.sSearch,regex:d.bRegex}};for(g=0;g<c;g++)r=b[g],
p=h[g],m="function"==typeof r.mData?"function":r.mData,l.columns.push({data:m,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:p.sSearch,regex:p.bRegex}}),n("mDataProp_"+g,m),f.bFilter&&(n("sSearch_"+g,p.sSearch),n("bRegex_"+g,p.bRegex),n("bSearchable_"+g,r.bSearchable)),f.bSort&&n("bSortable_"+g,r.bSortable);f.bFilter&&(n("sSearch",d.sSearch),n("bRegex",d.bRegex));f.bSort&&(e.each(q,function(a,b){l.order.push({column:b.col,dir:b.dir});n("iSortCol_"+a,b.col);n("sSortDir_"+
a,b.dir)}),n("iSortingCols",q.length));b=y.ext.legacy.ajax;return null===b?a.sAjaxSource?k:l:b?k:l}function Db(a,b){var c=function(a,c){return b[a]!==g?b[a]:b[c]},f=c("sEcho","draw"),d=c("iTotalRecords","recordsTotal"),c=c("iTotalDisplayRecords","recordsFiltered");if(f){if(1*f<a.iDraw)return;a.iDraw=1*f}K(a);a._iRecordsTotal=parseInt(d,10);a._iRecordsDisplay=parseInt(c,10);f=Ea(a,b);d=0;for(c=f.length;d<c;d++)C(a,f[d]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;sa(a);a._bInitComplete||
eb(a,b);a.bAjaxDataGet=!0;T(a,!1)}function Ea(a,b){var c=e.isPlainObject(a.ajax)&&a.ajax.dataSrc!==g?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?G(c)(b):b}function W(a){var b=a.oClasses,c=a.sTableId,f=a.oLanguage,d=a.oPreviousSearch,h=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',k=f.sSearch,k=k.match(/_INPUT_/)?k.replace("_INPUT_",g):k+g,b=e("<div/>",{id:h.f?null:c+"_filter","class":b.sFilter}).append(e("<label/>").append(k)),h=function(){var b=this.value?
this.value:"";b!=d.sSearch&&(H(a,{sSearch:b,bRegex:d.bRegex,bSmart:d.bSmart,bCaseInsensitive:d.bCaseInsensitive}),a._iDisplayStart=0,sa(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===ia(a)?400:0,m=e("input",b).val(d.sSearch).attr("placeholder",f.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?Ba(h,g):h).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);e(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{m[0]!==l.activeElement&&m.val(d.sSearch)}catch(f){}});
return b[0]}function H(a,b,c){var f=a.oPreviousSearch,d=a.aoPreSearchCols,e=function(a){f.sSearch=a.sSearch;f.bRegex=a.bRegex;f.bSmart=a.bSmart;f.bCaseInsensitive=a.bCaseInsensitive},h=function(a){return a.bEscapeRegex!==g?!a.bEscapeRegex:a.bRegex};w(a);if("ssp"!=ia(a)){Fb(a,b.sSearch,c,h(b),b.bSmart,b.bCaseInsensitive);e(b);for(b=0;b<d.length;b++)Eb(a,d[b].sSearch,b,h(d[b]),d[b].bSmart,d[b].bCaseInsensitive);n(a)}else e(b);a.bFiltered=!0;U(a,null,"search",[a])}function n(a){for(var b=y.ext.search,
c=a.aiDisplay,f,d,e=0,h=b.length;e<h;e++){for(var g=[],k=0,m=c.length;k<m;k++)d=c[k],f=a.aoData[d],b[e](a,f._aFilterData,d,f._aData,k)&&g.push(d);c.length=0;c.push.apply(c,g)}}function Eb(a,b,c,f,d,e){if(""!==b){var h=a.aiDisplay;f=mb(b,f,d,e);for(d=h.length-1;0<=d;d--)b=a.aoData[h[d]]._aFilterData[c],f.test(b)||h.splice(d,1)}}function Fb(a,b,c,f,d,e){f=mb(b,f,d,e);d=a.oPreviousSearch.sSearch;e=a.aiDisplayMaster;var h;0!==y.ext.search.length&&(c=!0);h=Ja(a);if(0>=b.length)a.aiDisplay=e.slice();else{if(h||
c||d.length>b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=e.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)f.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function mb(a,b,c,f){a=b?a:db(a);c&&(a="^(?=.*?"+e.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if('"'===a.charAt(0)){var b=a.match(/^"(.*)"$/);a=b?b[1]:a}return a.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(a,f?"i":"")}function db(a){return a.replace(wb,"\\$1")}function Ja(a){var b=a.aoColumns,c,f,d,e,h,g,k,m,r=y.ext.type.search;
c=!1;f=0;for(e=a.aoData.length;f<e;f++)if(m=a.aoData[f],!m._aFilterData){g=[];d=0;for(h=b.length;d<h;d++)c=b[d],c.bSearchable?(k=J(a,f,d,"filter"),r[c.sType]&&(k=r[c.sType](k)),null===k&&(k=""),"string"!==typeof k&&k.toString&&(k=k.toString())):k="",k.indexOf&&-1!==k.indexOf("&")&&(Za.innerHTML=k,k=Tb?Za.textContent:Za.innerText),k.replace&&(k=k.replace(/[\r\n]/g,"")),g.push(k);m._aFilterData=g;m._sFilterRow=g.join("  ");c=!0}return c}function nb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,
caseInsensitive:a.bCaseInsensitive}}function ob(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function Ab(a){var b=a.sTableId,c=a.aanFeatures.i,f=e("<div/>",{"class":a.oClasses.sInfo,id:c?null:b+"_info"});c||(a.aoDrawCallback.push({fn:Ua,sName:"information"}),f.attr("role","status").attr("aria-live","polite"),e(a.nTable).attr("aria-describedby",b+"_info"));return f[0]}function Ua(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,f=a._iDisplayStart+
1,d=a.fnDisplayEnd(),h=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),k=g?c.sInfo:c.sInfoEmpty;g!==h&&(k+=" "+c.sInfoFiltered);k+=c.sInfoPostFix;k=Gb(a,k);c=c.fnInfoCallback;null!==c&&(k=c.call(a.oInstance,a,f,d,h,g,k));e(b).html(k)}}function Gb(a,b){var c=a.fnFormatNumber,f=a._iDisplayStart+1,d=a._iDisplayLength,e=a.fnRecordsDisplay(),h=-1===d;return b.replace(/_START_/g,c.call(a,f)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,
e)).replace(/_PAGE_/g,c.call(a,h?1:Math.ceil(f/d))).replace(/_PAGES_/g,c.call(a,h?1:Math.ceil(e/d)))}function Va(a){var b,c,f=a.iInitDisplayStart,d=a.aoColumns,e;c=a.oFeatures;if(a.bInitialised){ua(a);Aa(a);ha(a,a.aoHeader);ha(a,a.aoFooter);T(a,!0);c.bAutoWidth&&xa(a);b=0;for(c=d.length;b<c;b++)e=d[b],e.sWidth&&(e.nTh.style.width=R(e.sWidth));ta(a);d=ia(a);"ssp"!=d&&("ajax"==d?Da(a,[],function(c){var d=Ea(a,c);for(b=0;b<d.length;b++)C(a,d[b]);a.iInitDisplayStart=f;ta(a);T(a,!1);eb(a,c)},a):(T(a,!1),
eb(a)))}else setTimeout(function(){Va(a)},200)}function eb(a,b){a._bInitComplete=!0;b&&h(a);U(a,"aoInitComplete","init",[a,b])}function ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;ub(a);U(a,null,"length",[a,c])}function lb(a){for(var b=a.oClasses,c=a.sTableId,f=a.aLengthMenu,d=e.isArray(f[0]),h=d?f[0]:f,f=d?f[1]:f,d=e("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,k=h.length;g<k;g++)d[0][g]=new Option(f[g],h[g]);var m=e("<div><label/></div>").addClass(b.sLength);
a.aanFeatures.l||(m[0].id=c+"_length");m.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",d[0].outerHTML));e("select",m).val(a._iDisplayLength).bind("change.DT",function(b){ra(a,e(this).val());sa(a)});e(a.nTable).bind("length.dt.DT",function(b,c,f){a===c&&e("select",m).val(f)});return m[0]}function Wa(a){var b=a.sPaginationType,c=y.ext.pager[b],f="function"===typeof c,d=function(a){sa(a)},b=e("<div/>").addClass(a.oClasses.sPaging+b)[0],h=a.aanFeatures;f||c.fnInit(a,b,d);h.p||(b.id=a.sTableId+
"_paginate",a.aoDrawCallback.push({fn:function(a){if(f){var b=a._iDisplayStart,e=a._iDisplayLength,g=a.fnRecordsDisplay(),k=-1===e,b=k?0:Math.ceil(b/e),e=k?1:Math.ceil(g/e),g=c(b,e),m,k=0;for(m=h.p.length;k<m;k++)gb(a,"pageButton")(a,h.p[k],k,g,b,e)}else c.fnUpdate(a,d)},sName:"pagination"}));return b}function ea(a,b,c){var f=a._iDisplayStart,d=a._iDisplayLength,e=a.fnRecordsDisplay();0===e||-1===d?f=0:"number"===typeof b?(f=b*d,f>e&&(f=0)):"first"==b?f=0:"previous"==b?(f=0<=d?f-d:0,0>f&&(f=0)):"next"==
b?f+d<e&&(f+=d):"last"==b?f=Math.floor((e-1)/d)*d:Ha(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==f;a._iDisplayStart=f;b&&(U(a,null,"page",[a]),c&&sa(a));return b}function M(a){return e("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing","class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function T(a,b){a.oFeatures.bProcessing&&e(a.aanFeatures.r).css("display",b?"block":"none");U(a,null,"processing",[a,b])}function Bb(a){var b=e(a.nTable);b.attr("role",
"grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var f=c.sX,d=c.sY,h=a.oClasses,g=b.children("caption"),k=g.length?g[0]._captionSide:null,m=e(b[0].cloneNode(!1)),r=e(b[0].cloneNode(!1)),p=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");p.length||(p=null);c=e("<div/>",{"class":h.sScrollWrapper}).append(e("<div/>",{"class":h.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:f?f?R(f):null:"100%"}).append(e("<div/>",{"class":h.sScrollHeadInner}).css({"box-sizing":"content-box",
width:c.sXInner||"100%"}).append(m.removeAttr("id").css("margin-left",0).append("top"===k?g:null).append(b.children("thead"))))).append(e("<div/>",{"class":h.sScrollBody}).css({overflow:"auto",height:d?R(d):null,width:f?R(f):null}).append(b));p&&c.append(e("<div/>",{"class":h.sScrollFoot}).css({overflow:"hidden",border:0,width:f?f?R(f):null:"100%"}).append(e("<div/>",{"class":h.sScrollFootInner}).append(r.removeAttr("id").css("margin-left",0).append("bottom"===k?g:null).append(b.children("tfoot")))));
var b=c.children(),q=b[0],h=b[1],n=p?b[2]:null;f&&e(h).scroll(function(a){a=this.scrollLeft;q.scrollLeft=a;p&&(n.scrollLeft=a)});a.nScrollHead=q;a.nScrollBody=h;a.nScrollFoot=n;a.aoDrawCallback.push({fn:Qa,sName:"scrolling"});return c[0]}function Qa(a){var b=a.oScroll,c=b.sX,f=b.sXInner,d=b.sY,h=b.iBarWidth,g=e(a.nScrollHead),k=g[0].style,m=g.children("div"),p=m[0].style,q=m.children("table"),m=a.nScrollBody,n=e(m),l=m.style,s=e(a.nScrollFoot).children("div"),x=s.children("table"),z=e(a.nTHead),v=
e(a.nTable),w=v[0],A=w.style,G=a.nTFoot?e(a.nTFoot):null,C=a.oBrowser,N=C.bScrollOversize,y,K,I,P,E,J=[],D=[],F=[],H,M=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};v.children("thead, tfoot").remove();E=z.clone().prependTo(v);y=z.find("tr");I=E.find("tr");E.find("th, td").removeAttr("tabindex");G&&(P=G.clone().prependTo(v),K=G.find("tr"),P=P.find("tr"));c||(l.width="100%",g[0].style.width="100%");e.each(Ia(a,E),function(b,c){H=
r(a,b);c.style.width=a.aoColumns[H].sWidth});G&&oa(function(a){a.style.width=""},P);b.bCollapse&&""!==d&&(l.height=n[0].offsetHeight+z[0].offsetHeight+"px");g=v.outerWidth();""===c?(A.width="100%",N&&(v.find("tbody").height()>m.offsetHeight||"scroll"==n.css("overflow-y"))&&(A.width=R(v.outerWidth()-h))):""!==f?A.width=R(f):g==n.width()&&n.height()<v.height()?(A.width=R(g-h),v.outerWidth()>g-h&&(A.width=R(g))):A.width=R(g);g=v.outerWidth();oa(M,I);oa(function(a){F.push(a.innerHTML);J.push(R(e(a).css("width")))},
I);oa(function(a,b){a.style.width=J[b]},y);e(I).height(0);G&&(oa(M,P),oa(function(a){D.push(R(e(a).css("width")))},P),oa(function(a,b){a.style.width=D[b]},K),e(P).height(0));oa(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[b]+"</div>";a.style.width=J[b]},I);G&&oa(function(a,b){a.innerHTML="";a.style.width=D[b]},P);v.outerWidth()<g?(K=m.scrollHeight>m.offsetHeight||"scroll"==n.css("overflow-y")?g+h:g,N&&(m.scrollHeight>m.offsetHeight||"scroll"==n.css("overflow-y"))&&
(A.width=R(K-h)),""!==c&&""===f||Ha(a,1,"Possible column misalignment",6)):K="100%";l.width=R(K);k.width=R(K);G&&(a.nScrollFoot.style.width=R(K));!d&&N&&(l.height=R(w.offsetHeight+h));d&&b.bCollapse&&(l.height=R(d),b=c&&w.offsetWidth>m.offsetWidth?h:0,w.offsetHeight<m.offsetHeight&&(l.height=R(w.offsetHeight+b)));b=v.outerWidth();q[0].style.width=R(b);p.width=R(b);q=v.height()>m.clientHeight||"scroll"==n.css("overflow-y");C="padding"+(C.bScrollbarLeft?"Left":"Right");p[C]=q?h+"px":"0px";G&&(x[0].style.width=
R(b),s[0].style.width=R(b),s[0].style[C]=q?h+"px":"0px");n.scroll();!a.bSorted&&!a.bFiltered||a._drawHold||(m.scrollTop=0)}function oa(a,b,c){for(var f=0,d=0,e=b.length,h,g;d<e;){h=b[d].firstChild;for(g=c?c[d].firstChild:null;h;)1===h.nodeType&&(c?a(h,g,f):a(h,f),f++),h=h.nextSibling,g=c?g.nextSibling:null;d++}}function xa(a){var b=a.nTable,f=a.aoColumns,d=a.oScroll,g=d.sY,k=d.sX,m=d.sXInner,r=f.length,d=v(a,"bVisible"),p=e("th",a.nTHead),q=b.getAttribute("width"),n=b.parentNode,l=!1,s,x;for(s=0;s<
d.length;s++)x=f[d[s]],null!==x.sWidth&&(x.sWidth=pb(x.sWidthOrig,n),l=!0);if(l||k||g||r!=z(a)||r!=p.length){r=e(b).clone().empty().css("visibility","hidden").removeAttr("id").append(e(a.nTHead).clone(!1)).append(e(a.nTFoot).clone(!1)).append(e("<tbody><tr/></tbody>"));r.find("tfoot th, tfoot td").css("width","");var w=r.find("tbody tr"),p=Ia(a,r.find("thead")[0]);for(s=0;s<d.length;s++)x=f[d[s]],p[s].style.width=null!==x.sWidthOrig&&""!==x.sWidthOrig?R(x.sWidthOrig):"";if(a.aoData.length)for(s=0;s<
d.length;s++)l=d[s],x=f[l],e(Ib(a,l)).clone(!1).append(x.sContentPadding).appendTo(w);r.appendTo(n);k&&m?r.width(m):k?(r.css("width","auto"),r.width()<n.offsetWidth&&r.width(n.offsetWidth)):g?r.width(n.offsetWidth):q&&r.width(q);Hb(a,r[0]);if(k){for(s=m=0;s<d.length;s++)x=f[d[s]],g=e(p[s]).outerWidth(),m+=null===x.sWidthOrig?g:parseInt(x.sWidth,10)+g-e(p[s]).width();r.width(R(m));b.style.width=R(m)}for(s=0;s<d.length;s++)if(x=f[d[s]],g=e(p[s]).width())x.sWidth=R(g);b.style.width=R(r.css("width"));
r.remove()}else for(s=0;s<r;s++)f[s].sWidth=R(p.eq(s).width());q&&(b.style.width=R(q));!q&&!k||a._reszEvt||(e(c).bind("resize.DT-"+a.sInstance,Ba(function(){h(a)})),a._reszEvt=!0)}function Ba(a,b){var c=b!==g?b:200,f,d;return function(){var b=this,e=+new Date,h=arguments;f&&e<f+c?(clearTimeout(d),d=setTimeout(function(){f=g;a.apply(b,h)},c)):f?(f=e,a.apply(b,h)):f=e}}function pb(a,b){if(!a)return 0;var c=e("<div/>").css("width",R(a)).appendTo(b||l.body),f=c[0].offsetWidth;c.remove();return f}function Hb(a,
b){var c=a.oScroll;if(c.sX||c.sY)c=c.sX?0:c.iBarWidth,b.style.width=R(e(b).outerWidth()-c)}function Ib(a,b){var c=qb(a,b);if(0>c)return null;var f=a.aoData[c];return f.nTr?f.anCells[b]:e("<td/>").html(J(a,c,b,"display"))[0]}function qb(a,b){for(var c,f=-1,d=-1,e=0,h=a.aoData.length;e<h;e++)c=J(a,e,b,"display")+"",c=c.replace(Ub,""),c.length>f&&(f=c.length,d=e);return d}function R(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function rb(){if(!y.__scrollbarWidth){var a=
e("<p/>").css({width:"100%",height:200,padding:0})[0],b=e("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll");a=a.offsetWidth;c===a&&(a=b[0].clientWidth);b.remove();y.__scrollbarWidth=c-a}return y.__scrollbarWidth}function Ka(a){var b,c,f=[],d=a.aoColumns,h,k,m,r;b=a.aaSortingFixed;c=e.isPlainObject(b);var p=[];h=function(a){a.length&&!e.isArray(a[0])?p.push(a):
p.push.apply(p,a)};e.isArray(b)&&h(b);c&&b.pre&&h(b.pre);h(a.aaSorting);c&&b.post&&h(b.post);for(a=0;a<p.length;a++)for(r=p[a][0],h=d[r].aDataSort,b=0,c=h.length;b<c;b++)k=h[b],m=d[k].sType||"string",p[a]._idx===g&&(p[a]._idx=e.inArray(p[a][1],d[k].asSorting)),f.push({src:r,col:k,dir:p[a][1],index:p[a]._idx,type:m,formatter:y.ext.type.order[m+"-pre"]});return f}function Jb(a){var b,c,f=[],d=y.ext.type.order,h=a.aoData,e=0,g,k=a.aiDisplayMaster,m;w(a);m=Ka(a);b=0;for(c=m.length;b<c;b++)g=m[b],g.formatter&&
e++,Lb(a,g.col);if("ssp"!=ia(a)&&0!==m.length){b=0;for(c=k.length;b<c;b++)f[k[b]]=b;e===m.length?k.sort(function(a,b){var c,d,e,g,k=m.length,r=h[a]._aSortData,u=h[b]._aSortData;for(e=0;e<k;e++)if(g=m[e],c=r[g.col],d=u[g.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===g.dir?c:-c;c=f[a];d=f[b];return c<d?-1:c>d?1:0}):k.sort(function(a,b){var c,e,g,k,r=m.length,u=h[a]._aSortData,p=h[b]._aSortData;for(g=0;g<r;g++)if(k=m[g],c=u[k.col],e=p[k.col],k=d[k.type+"-"+k.dir]||d["string-"+k.dir],c=k(c,e),0!==c)return c;
c=f[a];e=f[b];return c<e?-1:c>e?1:0})}a.bSorted=!0}function Kb(a){var b,c,f=a.aoColumns,d=Ka(a);a=a.oLanguage.oAria;for(var e=0,h=f.length;e<h;e++){c=f[e];var g=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var k=c.nTh;k.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==e?(k.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=g[d[0].index+1]||g[0]):c=g[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);k.setAttribute("aria-label",b)}}function sb(a,b,c,f){var d=a.aaSorting,
h=a.aoColumns[b].asSorting,k=function(a,b){var c=a._idx;c===g&&(c=e.inArray(a[1],h));return c+1<h.length?c+1:b?null:0};"number"===typeof d[0]&&(d=a.aaSorting=[d]);c&&a.oFeatures.bSortMulti?(c=e.inArray(b,la(d,"0")),-1!==c?(b=k(d[c],!0),null===b?d.splice(c,1):(d[c][1]=h[b],d[c]._idx=b)):(d.push([b,h[0],0]),d[d.length-1]._idx=0)):d.length&&d[0][0]==b?(b=k(d[0]),d.length=1,d[0][1]=h[b],d[0]._idx=b):(d.length=0,d.push([b,h[0]]),d[0]._idx=0);ta(a);"function"==typeof f&&f(a)}function fb(a,b,c,f){var d=
a.aoColumns[c];tb(b,{},function(b){!1!==d.bSortable&&(a.oFeatures.bProcessing?(T(a,!0),setTimeout(function(){sb(a,c,b.shiftKey,f);"ssp"!==ia(a)&&T(a,!1)},0)):sb(a,c,b.shiftKey,f))})}function bb(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,f=Ka(a),d=a.oFeatures,h,g;if(d.bSort&&d.bSortClasses){d=0;for(h=b.length;d<h;d++)g=b[d].src,e(la(a.aoData,"anCells",g)).removeClass(c+(2>d?d+1:3));d=0;for(h=f.length;d<h;d++)g=f[d].src,e(la(a.aoData,"anCells",g)).addClass(c+(2>d?d+1:3))}a.aLastSort=f}function Lb(a,
b){var c=a.aoColumns[b],f=y.ext.order[c.sSortDataType],d;f&&(d=f.call(a.oInstance,a,b,x(a,b)));for(var h,e=y.ext.type.order[c.sType+"-pre"],g=0,k=a.aoData.length;g<k;g++)if(c=a.aoData[g],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||f)h=f?d[g]:J(a,g,b,"sort"),c._aSortData[b]=e?e(h):h}function aa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:e.extend(!0,[],a.aaSorting),search:nb(a.oPreviousSearch),columns:e.map(a.aoColumns,
function(b,c){return{visible:b.bVisible,search:nb(a.aoPreSearchCols[c])}})};U(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Sa(a,b){var c,f,d=a.aoColumns;if(a.oFeatures.bStateSave){var h=a.fnStateLoadCallback.call(a.oInstance,a);if(h&&h.time&&(c=U(a,"aoStateLoadParams","stateLoadParams",[a,h]),-1===e.inArray(!1,c)&&(c=a.iStateDuration,!(0<c&&h.time<+new Date-1E3*c)&&d.length===h.columns.length))){a.oLoadedState=e.extend(!0,{},
h);a._iDisplayStart=h.start;a.iInitDisplayStart=h.start;a._iDisplayLength=h.length;a.aaSorting=[];e.each(h.order,function(b,c){a.aaSorting.push(c[0]>=d.length?[0,c[1]]:c)});e.extend(a.oPreviousSearch,ob(h.search));c=0;for(f=h.columns.length;c<f;c++){var g=h.columns[c];d[c].bVisible=g.visible;e.extend(a.aoPreSearchCols[c],ob(g.search))}U(a,"aoStateLoaded","stateLoaded",[a,h])}}}function Ra(a){var b=y.settings;a=e.inArray(a,la(b,"nTable"));return-1!==a?b[a]:null}function Ha(a,b,f,d){f="DataTables warning: "+
(null!==a?"table id="+a.sTableId+" - ":"")+f;d&&(f+=". For more information about this error, please see http://datatables.net/tn/"+d);if(b)c.console&&console.log&&console.log(f);else if(a=y.ext,"alert"==(a.sErrMode||a.errMode))alert(f);else throw Error(f);}function ma(a,b,c,f){e.isArray(c)?e.each(c,function(c,f){e.isArray(f)?ma(a,b,f[0],f[1]):ma(a,b,f)}):(f===g&&(f=c),b[c]!==g&&(a[f]=b[c]))}function Ta(a,b,c){var f,d;for(d in b)b.hasOwnProperty(d)&&(f=b[d],e.isPlainObject(f)?(e.isPlainObject(a[d])||
(a[d]={}),e.extend(!0,a[d],f)):c&&"data"!==d&&"aaData"!==d&&e.isArray(f)?a[d]=f.slice():a[d]=f);return a}function tb(a,b,c){e(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function ja(a,b,c,f){c&&a[b].push({fn:c,sName:f})}function U(a,b,c,f){var d=[];b&&(d=e.map(a[b].slice().reverse(),function(b,c){return b.fn.apply(a.oInstance,f)}));null!==c&&e(a.nTable).trigger(c+".dt",f);return d}
function ub(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),f=a._iDisplayLength;b>=c&&(b=c-f);b-=b%f;if(-1===f||0>b)b=0;a._iDisplayStart=b}function gb(a,b){var c=a.renderer,f=y.ext.renderer[b];return e.isPlainObject(c)&&c[b]?f[c[b]]||f._:"string"===typeof c?f[c]||f._:f._}function ia(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Ca(a,b){var c=[],c=Yb.numbers_length,f=Math.floor(c/2);b<=c?c=Ma(0,b):a<=f?(c=Ma(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-f?c=Ma(b-
(c-2),b):(c=Ma(a-1,a+2),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function Xa(a){e.each({num:function(b){return Cb(b,a)},"num-fmt":function(b){return Cb(b,a,za)},"html-num":function(b){return Cb(b,a,Oa)},"html-num-fmt":function(b){return Cb(b,a,Oa,za)}},function(b,c){Z.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(Z.type.search[b+a]=Z.type.search.html)})}function Mb(a){return function(){var b=[Ra(this[y.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));
return y.ext.internal[a].apply(this,b)}}var y,Z,O,D,S,La={},Nb=/[\r\n]/g,Oa=/<.*?>/g,Sb=/^[\w\+\-]/,vb=/[\w\+\-]$/,wb=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,za=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,ga=function(a){return a&&!0!==a&&"-"!==a?!1:!0},Ob=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},xb=function(a,b){La[b]||(La[b]=new RegExp(db(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(La[b],"."):a},yb=function(a,b,c){var f="string"===
typeof a;b&&f&&(a=xb(a,b));c&&f&&(a=a.replace(za,""));return ga(a)||!isNaN(parseFloat(a))&&isFinite(a)},Pb=function(a,b,c){return ga(a)?!0:ga(a)||"string"===typeof a?yb(a.replace(Oa,""),b,c)?!0:null:null},la=function(a,b,c){var f=[],d=0,h=a.length;if(c!==g)for(;d<h;d++)a[d]&&a[d][b]&&f.push(a[d][b][c]);else for(;d<h;d++)a[d]&&f.push(a[d][b]);return f},Pa=function(a,b,c,f){var d=[],h=0,e=b.length;if(f!==g)for(;h<e;h++)a[b[h]][c]&&d.push(a[b[h]][c][f]);else for(;h<e;h++)d.push(a[b[h]][c]);return d},
Ma=function(a,b){var c=[],f;b===g?(b=0,f=a):(f=b,b=a);for(var d=b;d<f;d++)c.push(d);return c},cb=function(a){for(var b=[],c=0,f=a.length;c<f;c++)a[c]&&b.push(a[c]);return b},hb=function(a){var b=[],c,f,d=a.length,h,e=0;f=0;a:for(;f<d;f++){c=a[f];for(h=0;h<e;h++)if(b[h]===c)continue a;b.push(c);e++}return b},fa=function(a,b,c){a[b]!==g&&(a[c]=a[b])},Ya=/\[.*?\]$/,Na=/\(\)$/,Za=e("<div>")[0],Tb=Za.textContent!==g,Ub=/<.*?>/g;y=function(c){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,
b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new O(Ra(this[Z.iApiIndex])):new O(this)};this.fnAddData=function(a,b){var c=this.api(!0),f=e.isArray(a)&&(e.isArray(a[0])||e.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===g||b)&&c.draw();return f.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],f=c.oScroll;a===g||a?b.draw(!1):""===f.sX&&""===f.sY||Qa(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();
(a===g||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var f=this.api(!0);a=f.rows(a);var d=a.settings()[0],h=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,h);(c===g||c)&&f.draw();return h};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(!a)};this.fnFilter=function(a,b,c,f,d,h){d=this.api(!0);null===b||b===g?d.search(a,c,f,h):d.column(b).search(a,c,f,h);d.draw()};this.fnGetData=function(a,b){var c=
this.api(!0);if(a!==g){var f=a.nodeName?a.nodeName.toLowerCase():"";return b!==g||"td"==f||"th"==f?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==g?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};
this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===g||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===g||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return Ra(this[Z.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,f,d){var h=
this.api(!0);c===g||null===c?h.row(b).data(a):h.cell(b,c).data(a);(d===g||d)&&h.columns.adjust();(f===g||f)&&h.draw();return 0};this.fnVersionCheck=Z.fnVersionCheck;var d=this,h=c===g,r=this.length;h&&(c={});this.oApi=this.internal=Z.internal;for(var q in y.ext.internal)q&&(this[q]=Mb(q));this.each(function(){var q={},q=1<r?Ta(q,c,!0):c,n=0,l,x=this.getAttribute("id"),z=!1,v=y.defaults;if("table"!=this.nodeName.toLowerCase())Ha(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(v);
k(v.column);m(v,v,!0);m(v.column,v.column,!0);m(v,q);var w=y.settings,n=0;for(l=w.length;n<l;n++){if(w[n].nTable==this){l=q.bRetrieve!==g?q.bRetrieve:v.bRetrieve;if(h||l)return w[n].oInstance;if(q.bDestroy!==g?q.bDestroy:v.bDestroy){w[n].oInstance.fnDestroy();break}else{Ha(w[n],0,"Cannot reinitialise DataTable",3);return}}if(w[n].sTableId==this.id){w.splice(n,1);break}}if(null===x||""===x)this.id=x="DataTables_Table_"+y.ext._unique++;var B=e.extend(!0,{},y.models.oSettings,{nTable:this,oApi:d.internal,
oInit:q,sDestroyWidth:e(this)[0].style.width,sInstance:x,sTableId:x});w.push(B);B.oInstance=1===d.length?d:e(this).dataTable();s(q);q.oLanguage&&p(q.oLanguage);q.aLengthMenu&&!q.iDisplayLength&&(q.iDisplayLength=e.isArray(q.aLengthMenu[0])?q.aLengthMenu[0][0]:q.aLengthMenu[0]);q=Ta(e.extend(!0,{},v),q);ma(B.oFeatures,q,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));ma(B,q,["asStripeClasses","ajax","fnServerData","fnFormatNumber",
"sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);ma(B.oScroll,q,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);
ma(B.oLanguage,q,"fnInfoCallback");ja(B,"aoDrawCallback",q.fnDrawCallback,"user");ja(B,"aoServerParams",q.fnServerParams,"user");ja(B,"aoStateSaveParams",q.fnStateSaveParams,"user");ja(B,"aoStateLoadParams",q.fnStateLoadParams,"user");ja(B,"aoStateLoaded",q.fnStateLoaded,"user");ja(B,"aoRowCallback",q.fnRowCallback,"user");ja(B,"aoRowCreatedCallback",q.fnCreatedRow,"user");ja(B,"aoHeaderCallback",q.fnHeaderCallback,"user");ja(B,"aoFooterCallback",q.fnFooterCallback,"user");ja(B,"aoInitComplete",q.fnInitComplete,
"user");ja(B,"aoPreDrawCallback",q.fnPreDrawCallback,"user");x=B.oClasses;q.bJQueryUI?(e.extend(x,y.ext.oJUIClasses,q.oClasses),q.sDom===v.sDom&&"lfrtip"===v.sDom&&(B.sDom='<"H"lfr>t<"F"ip>'),B.renderer)?e.isPlainObject(B.renderer)&&!B.renderer.header&&(B.renderer.header="jqueryui"):B.renderer="jqueryui":e.extend(x,y.ext.classes,q.oClasses);e(this).addClass(x.sTable);if(""!==B.oScroll.sX||""!==B.oScroll.sY)B.oScroll.iBarWidth=rb();!0===B.oScroll.sX&&(B.oScroll.sX="100%");B.iInitDisplayStart===g&&
(B.iInitDisplayStart=q.iDisplayStart,B._iDisplayStart=q.iDisplayStart);null!==q.iDeferLoading&&(B.bDeferLoading=!0,n=e.isArray(q.iDeferLoading),B._iRecordsDisplay=n?q.iDeferLoading[0]:q.iDeferLoading,B._iRecordsTotal=n?q.iDeferLoading[1]:q.iDeferLoading);var G=B.oLanguage;e.extend(!0,G,q.oLanguage);""!==G.sUrl&&(e.ajax({dataType:"json",url:G.sUrl,success:function(a){p(a);m(v.oLanguage,a);e.extend(!0,G,a);Va(B)},error:function(){Va(B)}}),z=!0);null===q.asStripeClasses&&(B.asStripeClasses=[x.sStripeOdd,
x.sStripeEven]);var n=B.asStripeClasses,N=e("tbody tr:eq(0)",this);-1!==e.inArray(!0,e.map(n,function(a,b){return N.hasClass(a)}))&&(e("tbody tr",this).removeClass(n.join(" ")),B.asDestroyStripes=n.slice());var w=[],K,n=this.getElementsByTagName("thead");0!==n.length&&(ca(B.aoHeader,n[0]),w=Ia(B));if(null===q.aoColumns)for(K=[],n=0,l=w.length;n<l;n++)K.push(null);else K=q.aoColumns;n=0;for(l=K.length;n<l;n++)a(B,w?w[n]:null);A(B,q.aoColumnDefs,K,function(a,b){f(B,a,b)});if(N.length){var P=function(a,
b){return a.getAttribute("data-"+b)?b:null};e.each(V(B,N[0]).cells,function(a,b){var c=B.aoColumns[a];if(c.mData===a){var d=P(b,"sort")||P(b,"order"),h=P(b,"filter")||P(b,"search");if(null!==d||null!==h)c.mData={_:a+".display",sort:null!==d?a+".@data-"+d:g,type:null!==d?a+".@data-"+d:g,filter:null!==h?a+".@data-"+h:g},f(B,a)}})}var E=B.oFeatures;q.bStateSave&&(E.bStateSave=!0,Sa(B,q),ja(B,"aoDrawCallback",aa,"state_save"));if(q.aaSorting===g)for(w=B.aaSorting,n=0,l=w.length;n<l;n++)w[n][1]=B.aoColumns[n].asSorting[0];
bb(B);E.bSort&&ja(B,"aoDrawCallback",function(){if(B.bSorted){var a=Ka(B),b={};e.each(a,function(a,c){b[c.src]=c.dir});U(B,null,"order",[B,a,b]);Kb(B)}});ja(B,"aoDrawCallback",function(){(B.bSorted||"ssp"===ia(B)||E.bDeferRender)&&bb(B)},"sc");b(B);n=e(this).children("caption").each(function(){this._captionSide=e(this).css("caption-side")});l=e(this).children("thead");0===l.length&&(l=e("<thead/>").appendTo(this));B.nTHead=l[0];l=e(this).children("tbody");0===l.length&&(l=e("<tbody/>").appendTo(this));
B.nTBody=l[0];l=e(this).children("tfoot");0===l.length&&0<n.length&&(""!==B.oScroll.sX||""!==B.oScroll.sY)&&(l=e("<tfoot/>").appendTo(this));0===l.length||0===l.children().length?e(this).addClass(x.sNoFooter):0<l.length&&(B.nTFoot=l[0],ca(B.aoFooter,B.nTFoot));if(q.aaData)for(n=0;n<q.aaData.length;n++)C(B,q.aaData[n]);else(B.bDeferLoading||"dom"==ia(B))&&I(B,e(B.nTBody).children("tr"));B.aiDisplay=B.aiDisplayMaster.slice();B.bInitialised=!0;!1===z&&Va(B)}});d=null;return this};var Qb=[],Y=Array.prototype,
Vb=function(a){var b,c,f=y.settings,d=e.map(f,function(a,b){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=e.inArray(a,d),-1!==b?[f[b]]:null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=e(a):a instanceof e&&(c=a)}else return[];if(c)return c.map(function(a){b=e.inArray(this,d);return-1!==b?f[b]:null}).toArray()};O=function(a,b){if(!this instanceof O)throw"DT API must be constructed as a new object";
var c=[],f=function(a){(a=Vb(a))&&c.push.apply(c,a)};if(e.isArray(a))for(var d=0,h=a.length;d<h;d++)f(a[d]);else f(a);this.context=hb(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector={rows:null,cols:null,opts:null};O.extend(this,this,Qb)};y.Api=O;O.prototype={concat:Y.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new O(b[a],this[a]):null},filter:function(a){var b=[];
if(Y.filter)b=Y.filter.call(this,a,this);else for(var c=0,f=this.length;c<f;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new O(this.context,b)},flatten:function(){var a=[];return new O(this.context,a.concat.apply(a,this.toArray()))},join:Y.join,indexOf:Y.indexOf||function(a,b){for(var c=b||0,f=this.length;c<f;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,f){var d=[],h,e,k,m,r,p=this.context,q,n,l=this.selector;"string"===typeof a&&(f=c,c=b,b=a,a=!1);e=0;for(k=p.length;e<
k;e++){var s=new O(p[e]);if("table"===b)h=c.call(s,p[e],e),h!==g&&d.push(h);else if("columns"===b||"rows"===b)h=c.call(s,p[e],this[e],e),h!==g&&d.push(h);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(n=this[e],"column-rows"===b&&(q=kb(p[e],l.opts)),m=0,r=n.length;m<r;m++)h=n[m],h="cell"===b?c.call(s,p[e],h.row,h.column,e,m):c.call(s,p[e],h,e,m,q),h!==g&&d.push(h)}return d.length||f?(a=new O(p,a?d.concat.apply([],d):d),b=a.selector,b.rows=l.rows,b.cols=l.cols,b.opts=l.opts,a):
this},lastIndexOf:Y.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(Y.map)b=Y.map.call(this,a,this);else for(var c=0,f=this.length;c<f;c++)b.push(a.call(this,this[c],c));return new O(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:Y.pop,push:Y.push,reduce:Y.reduce||function(a,b){return d(this,a,b,0,this.length,1)},reduceRight:Y.reduceRight||function(a,b){return d(this,a,b,this.length-1,-1,
-1)},reverse:Y.reverse,selector:null,shift:Y.shift,sort:Y.sort,splice:Y.splice,toArray:function(){return Y.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new O(this.context,hb(this))},unshift:Y.unshift};O.extend=function(a,b,c){if(b&&(b instanceof O||b.__dt_wrapper)){var f,d,h,g=function(a,b,c){return function(){var f=b.apply(a,arguments);O.extend(f,f,c.methodExt);return f}};f=0;for(d=c.length;f<d;f++)h=c[f],b[h.name]="function"===typeof h.val?
g(a,h.val,h):e.isPlainObject(h.val)?{}:h.val,b[h.name].__dt_wrapper=!0,O.extend(a,b[h.name],h.propExt)}};O.register=D=function(a,b){if(e.isArray(a))for(var c=0,f=a.length;c<f;c++)O.register(a[c],b);else for(var d=a.split("."),h=Qb,g,k,c=0,f=d.length;c<f;c++){g=(k=-1!==d[c].indexOf("()"))?d[c].replace("()",""):d[c];var m;a:{m=0;for(var r=h.length;m<r;m++)if(h[m].name===g){m=h[m];break a}m=null}m||(m={name:g,val:{},methodExt:[],propExt:[]},h.push(m));c===f-1?m.val=b:h=k?m.methodExt:m.propExt}};O.registerPlural=
S=function(a,b,c){O.register(a,c);O.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof O?a.length?e.isArray(a[0])?new O(a.context,a[0]):a[0]:g:a})};var $a=function(a,b){if("number"===typeof a)return[b[a]];var c=e.map(b,function(a,b){return a.nTable});return e(c).filter(a).map(function(a){a=e.inArray(this,c);return b[a]}).toArray()};D("tables()",function(a){return a?new O($a(a,this.context)):this});D("table()",function(a){a=this.tables(a);var b=a.context;return b.length?
new O(b[0]):a});S("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});S("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});S("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});S("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});S("tables().containers()","table().container()",
function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});D("draw()",function(a){return this.iterator("table",function(b){ta(b,!1===a)})});D("page()",function(a){return a===g?this.page.info().page:this.iterator("table",function(b){ea(b,a)})});D("page.info()",function(a){if(0===this.context.length)return g;a=this.context[0];var b=a._iDisplayStart,c=a._iDisplayLength,f=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(f/c),start:b,end:a.fnDisplayEnd(),
length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:f}});D("page.len()",function(a){return a===g?0!==this.context.length?this.context[0]._iDisplayLength:g:this.iterator("table",function(b){ra(b,a)})});var zb=function(a,b,c){"ssp"==ia(a)?ta(a,b):(T(a,!0),Da(a,[],function(c){K(a);c=Ea(a,c);for(var f=0,d=c.length;f<d;f++)C(a,c[f]);ta(a,b);T(a,!1)}));if(c){var f=new O(a);f.one("draw",function(){c(f.ajax.json())})}};D("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});D("ajax.params()",
function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});D("ajax.reload()",function(a,b){return this.iterator("table",function(c){zb(c,!1===b,a)})});D("ajax.url()",function(a){var b=this.context;if(a===g){if(0===b.length)return g;b=b[0];return b.ajax?e.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){e.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});D("ajax.url().load()",function(a,b){return this.iterator("table",function(c){zb(c,!1===b,a)})});
var ab=function(a,b){var c=[],f,d,h,k,m,r;f=typeof a;a&&"string"!==f&&"function"!==f&&a.length!==g||(a=[a]);h=0;for(k=a.length;h<k;h++)for(d=a[h]&&a[h].split?a[h].split(","):[a[h]],m=0,r=d.length;m<r;m++)(f=b("string"===typeof d[m]?e.trim(d[m]):d[m]))&&f.length&&c.push.apply(c,f);return c},ib=function(a){a||(a={});a.filter&&!a.search&&(a.search=a.filter);return{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},jb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=
a[b],a.length=1,a.context=[a.context[b]],a;a.length=0;return a},kb=function(a,b){var c,f,d,h=[],g=a.aiDisplay;c=a.aiDisplayMaster;var k=b.search;f=b.order;d=b.page;if("ssp"==ia(a))return"removed"===k?[]:Ma(0,c.length);if("current"==d)for(c=a._iDisplayStart,f=a.fnDisplayEnd();c<f;c++)h.push(g[c]);else if("current"==f||"applied"==f)h="none"==k?c.slice():"applied"==k?g.slice():e.map(c,function(a,b){return-1===e.inArray(a,g)?a:null});else if("index"==f||"original"==f)for(c=0,f=a.aoData.length;c<f;c++)"none"==
k?h.push(c):(d=e.inArray(c,g),(-1===d&&"removed"==k||0<=d&&"applied"==k)&&h.push(c));return h},Wb=function(a,b,c){return ab(b,function(b){var f=Ob(b);if(null!==f&&!c)return[f];var d=kb(a,c);if(null!==f&&-1!==e.inArray(f,d))return[f];if(!b)return d;if("function"===typeof b)return e.map(d,function(c){var f=a.aoData[c];return b(c,f._aData,f.nTr)?c:null});f=cb(Pa(a.aoData,d,"nTr"));return b.nodeName&&-1!==e.inArray(b,f)?[b._DT_RowIndex]:e(f).filter(b).map(function(){return this._DT_RowIndex}).toArray()})};
D("rows()",function(a,b){a===g?a="":e.isPlainObject(a)&&(b=a,a="");b=ib(b);var c=this.iterator("table",function(c){return Wb(c,a,b)},1);c.selector.rows=a;c.selector.opts=b;return c});D("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||g},1)});D("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return Pa(a.aoData,b,"_aData")},1)});S("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var f=b.aoData[c];
return"search"===a?f._aFilterData:f._aSortData},1)});S("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ba(b,c,a)})});S("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});S("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,f){var d=b.aoData;d.splice(c,1);for(var h=0,g=d.length;h<g;h++)null!==d[h].nTr&&(d[h].nTr._DT_RowIndex=h);e.inArray(c,b.aiDisplay);X(b.aiDisplayMaster,
c);X(b.aiDisplay,c);X(a[f],c,!1);ub(b)})});D("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,d,h=[];f=0;for(d=a.length;f<d;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(I(b,c)[0]):h.push(C(b,c));return h},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});D("row()",function(a,b){return jb(this.rows(a,b))});D("row().data()",function(a){var b=this.context;if(a===g)return b.length&&this.length?b[0].aoData[this[0]]._aData:g;b[0].aoData[this[0]]._aData=
a;ba(b[0],this[0],"data");return this});D("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});D("row.add()",function(a){a instanceof e&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?I(b,a)[0]:C(b,a)});return this.row(b[0])});var F=function(a,b,c,f){var d=[],h=function(b,c){if(b.nodeName&&"tr"===b.nodeName.toLowerCase())d.push(b);else{var f=e("<tr><td/></tr>").addClass(c);e("td",
f).addClass(c).html(b)[0].colSpan=z(a);d.push(f[0])}};if(e.isArray(c)||c instanceof e)for(var g=0,k=c.length;g<k;g++)h(c[g],f);else h(c,f);b._details&&b._details.remove();b._details=e(d);b._detailsShow&&b._details.insertAfter(b.nTr)},Rb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==g?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=g,c._details=g))},Ga=function(a,b){var c=a.context;if(c.length&&a.length){var f=c[0].aoData[a[0]];f._details&&((f._detailsShow=b)?f._details.insertAfter(f.nTr):
f._details.detach(),$b(c[0]))}},$b=function(a){var b=new O(a),c=a.aoData;b.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<la(c,"_details").length&&(b.on("draw.dt.DT_details",function(f,d){a===d&&b.rows({page:"current"}).eq(0).each(function(a){a=c[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),b.on("column-visibility.dt.DT_details",function(b,f,d,h){if(a===f)for(f=z(f),d=0,h=c.length;d<h;d++)b=c[d],b._details&&b._details.children("td[colspan]").attr("colspan",
f)}),b.on("destroy.dt.DT_details",function(f,d){if(a===d)for(var h=0,e=c.length;h<e;h++)c[h]._details&&Rb(b,h)}))};D("row().child()",function(a,b){var c=this.context;if(a===g)return c.length&&this.length?c[0].aoData[this[0]]._details:g;!0===a?this.child.show():!1===a?Rb(this):c.length&&this.length&&F(c[0],c[0].aoData[this[0]],a,b);return this});D(["row().child.show()","row().child().show()"],function(a){Ga(this,!0);return this});D(["row().child.hide()","row().child().hide()"],function(){Ga(this,!1);
return this});D(["row().child.remove()","row().child().remove()"],function(){Rb(this);return this});D("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var ac=/^(.+):(name|visIdx|visible)$/,Xb=function(a,b,c,f,d){c=[];f=0;for(var h=d.length;f<h;f++)c.push(J(a,d[f],b));return c},bc=function(a,b,c){var f=a.aoColumns,d=la(f,"sName"),h=la(f,"nTh");return ab(b,function(b){var g=Ob(b);if(""===b)return Ma(f.length);if(null!==g)return[0<=
g?g:f.length+g];if("function"===typeof b){var k=kb(a,c);return e.map(f,function(c,f){return b(f,Xb(a,f,0,0,k),h[f])?f:null})}var m="string"===typeof b?b.match(ac):"";if(m)switch(m[2]){case "visIdx":case "visible":g=parseInt(m[1],10);if(0>g){var p=e.map(f,function(a,b){return a.bVisible?b:null});return[p[p.length+g]]}return[r(a,g)];case "name":return e.map(d,function(a,b){return a===m[1]?b:null})}else return e(h).filter(b).map(function(){return e.inArray(this,h)}).toArray()})};D("columns()",function(a,
b){a===g?a="":e.isPlainObject(a)&&(b=a,a="");b=ib(b);var c=this.iterator("table",function(c){return bc(c,a,b)},1);c.selector.cols=a;c.selector.opts=b;return c});S("columns().header()","column().header()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});S("columns().footer()","column().footer()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});S("columns().data()","column().data()",function(){return this.iterator("column-rows",
Xb,1)});S("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});S("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,f,d,h){return Pa(b.aoData,h,"search"===a?"_aFilterData":"_aSortData",c)},1)});S("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,f,d){return Pa(a.aoData,d,"anCells",b)},1)});S("columns().visible()","column().visible()",
function(a,b){return this.iterator("column",function(c,f){if(a===g)return c.aoColumns[f].bVisible;var d=c.aoColumns,k=d[f],m=c.aoData,r,p,q;if(a!==g&&k.bVisible!==a){if(a){var n=e.inArray(!0,la(d,"bVisible"),f+1);r=0;for(p=m.length;r<p;r++)q=m[r].nTr,d=m[r].anCells,q&&q.insertBefore(d[f],d[n]||null)}else e(la(c.aoData,"anCells",f)).detach();k.bVisible=a;ha(c,c.aoHeader);ha(c,c.aoFooter);if(b===g||b)h(c),(c.oScroll.sX||c.oScroll.sY)&&Qa(c);U(c,null,"column-visibility",[c,f,a]);aa(c)}})});S("columns().indexes()",
"column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?x(b,c):c},1)});D("columns.adjust()",function(){return this.iterator("table",function(a){h(a)},1)});D("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return r(c,b);if("fromData"===a||"toVisible"===a)return x(c,b)}});D("column()",function(a,b){return jb(this.columns(a,b))});var cc=function(a,b,c){var f=a.aoData,d=kb(a,c);c=cb(Pa(f,d,"anCells"));
var h=e([].concat.apply([],c)),k,m=a.aoColumns.length,r,p,q,n,l,s;return ab(b,function(b){var c="function"===typeof b;if(null===b||b===g||c){r=[];p=0;for(q=d.length;p<q;p++)for(k=d[p],n=0;n<m;n++)l={row:k,column:n},c?(s=a.aoData[k],b(l,J(a,k,n),s.anCells[n])&&r.push(l)):r.push(l);return r}return e.isPlainObject(b)?[b]:h.filter(b).map(function(a,b){k=b.parentNode._DT_RowIndex;return{row:k,column:e.inArray(b,f[k].anCells)}}).toArray()})};D("cells()",function(a,b,c){e.isPlainObject(a)&&(typeof a.row!==
g?(c=b,b=null):(c=a,a=null));e.isPlainObject(b)&&(c=b,b=null);if(null===b||b===g)return this.iterator("table",function(b){return cc(b,a,ib(c))});var f=this.columns(b,c),d=this.rows(a,c),h,k,m,r,p,q=this.iterator("table",function(a,b){h=[];k=0;for(m=d[b].length;k<m;k++)for(r=0,p=f[b].length;r<p;r++)h.push({row:d[b][k],column:f[b][r]});return h},1);e.extend(q.selector,{cols:b,rows:a,opts:c});return q});S("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=
a.aoData[b].anCells)?a[c]:g},1)});D("cells().data()",function(){return this.iterator("cell",function(a,b,c){return J(a,b,c)},1)});S("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,f){return b.aoData[c][a][f]},1)});S("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,f){return J(b,c,f,a)},1)});S("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,
b,c){return{row:b,column:c,columnVisible:x(a,c)}},1)});S("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,f){ba(b,c,a,f)})});D("cell()",function(a,b,c){return jb(this.cells(a,b,c))});D("cell().data()",function(a){var b=this.context,c=this[0];if(a===g)return b.length&&c.length?J(b[0],c[0].row,c[0].column):g;E(b[0],c[0].row,c[0].column,a);ba(b[0],c[0].row,"data",c[0].column);return this});D("order()",function(a,b){var c=this.context;if(a===g)return 0!==
c.length?c[0].aaSorting:g;"number"===typeof a?a=[[a,b]]:e.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});D("order.listener()",function(a,b,c){return this.iterator("table",function(f){fb(f,a,b,c)})});D(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,f){var d=[];e.each(b[f],function(b,c){d.push([c,a])});c.aaSorting=d})});D("search()",function(a,b,c,f){var d=this.context;
return a===g?0!==d.length?d[0].oPreviousSearch.sSearch:g:this.iterator("table",function(d){d.oFeatures.bFilter&&H(d,e.extend({},d.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===f?!0:f}),1)})});S("columns().search()","column().search()",function(a,b,c,f){return this.iterator("column",function(d,h){var k=d.aoPreSearchCols;if(a===g)return k[h].sSearch;d.oFeatures.bFilter&&(e.extend(k[h],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===
f?!0:f}),H(d,d.oPreviousSearch,1))})});D("state()",function(){return this.context.length?this.context[0].oSavedState:null});D("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});D("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});D("state.save()",function(){return this.iterator("table",function(a){aa(a)})});y.versionCheck=y.fnVersionCheck=function(a){var b=y.version.split(".");a=a.split(".");
for(var c,f,d=0,h=a.length;d<h;d++)if(c=parseInt(b[d],10)||0,f=parseInt(a[d],10)||0,c!==f)return c>f;return!0};y.isDataTable=y.fnIsDataTable=function(a){var b=e(a).get(0),c=!1;e.each(y.settings,function(a,f){if(f.nTable===b||f.nScrollHead===b||f.nScrollFoot===b)c=!0});return c};y.tables=y.fnTables=function(a){return e.map(y.settings,function(b){if(!a||a&&e(b.nTable).is(":visible"))return b.nTable})};y.util={throttle:Ba,escapeRegex:db};y.camelToHungarian=m;D("$()",function(a,b){var c=this.rows(b).nodes(),
c=e(c);return e([].concat(c.filter(a).toArray(),c.find(a).toArray()))});e.each(["on","one","off"],function(a,b){D(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var c=e(this.tables().nodes());c[b].apply(c,a);return this})});D("clear()",function(){return this.iterator("table",function(a){K(a)})});D("settings()",function(){return new O(this.context,this.context)});D("data()",function(){return this.iterator("table",function(a){return la(a.aoData,"_aData")}).flatten()});
D("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var f=b.nTableWrapper.parentNode,d=b.oClasses,h=b.nTable,g=b.nTBody,k=b.nTHead,m=b.nTFoot,r=e(h),g=e(g),p=e(b.nTableWrapper),q=e.map(b.aoData,function(a){return a.nTr}),n;b.bDestroying=!0;U(b,"aoDestroyCallback","destroy",[b]);a||(new O(b)).columns().visible(!0);p.unbind(".DT").find(":not(tbody *)").unbind(".DT");e(c).unbind(".DT-"+b.sInstance);h!=k.parentNode&&(r.children("thead").detach(),r.append(k));m&&h!=m.parentNode&&
(r.children("tfoot").detach(),r.append(m));r.detach();p.detach();b.aaSorting=[];b.aaSortingFixed=[];bb(b);e(q).removeClass(b.asStripeClasses.join(" "));e("th, td",k).removeClass(d.sSortable+" "+d.sSortableAsc+" "+d.sSortableDesc+" "+d.sSortableNone);b.bJUI&&(e("th span."+d.sSortIcon+", td span."+d.sSortIcon,k).detach(),e("th, td",k).each(function(){var a=e("div."+d.sSortJUIWrapper,this);e(this).append(a.contents());a.detach()}));!a&&f&&f.insertBefore(h,b.nTableReinsertBefore);g.children().detach();
g.append(q);r.css("width",b.sDestroyWidth).removeClass(d.sTable);(n=b.asDestroyStripes.length)&&g.children().each(function(a){e(this).addClass(b.asDestroyStripes[a%n])});f=e.inArray(b,y.settings);-1!==f&&y.settings.splice(f,1)})});y.version="1.10.4";y.settings=[];y.models={};y.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};y.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};y.models.oColumn={idx:null,aDataSort:null,
asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};y.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],
asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,
fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,
iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",
sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},y.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};q(y.defaults);y.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,
mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};q(y.defaults.column);y.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,
bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,
nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:g,oAjaxData:g,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},
bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ia(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ia(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,f=this.aiDisplay.length,d=this.oFeatures,h=d.bPaginate;return d.bServerSide?!1===h||-1===a?b+f:Math.min(b+a,this._iRecordsDisplay):!h||c>f||-1===a?f:c},
oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};y.ext=Z={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:y.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:y.version};e.extend(Z,{afnFiltering:Z.search,aTypes:Z.type.detect,ofnSearch:Z.type.search,oSort:Z.type.order,afnSortData:Z.order,aoFeatures:Z.feature,
oApi:Z.internal,oStdClasses:Z.classes,oPagination:Z.pager});e.extend(y.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",
sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",
sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var a="",a="",b=a+"ui-state-default",c=a+"css_right ui-icon ui-icon-",a=a+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(y.ext.oJUIClasses,y.ext.classes,{sPageButton:"fg-button ui-button "+b,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:b+
" sorting_asc",sSortDesc:b+" sorting_desc",sSortable:b+" sorting",sSortableAsc:b+" sorting_asc_disabled",sSortableDesc:b+" sorting_desc_disabled",sSortableNone:b+" sorting_disabled",sSortJUIAsc:c+"triangle-1-n",sSortJUIDesc:c+"triangle-1-s",sSortJUI:c+"carat-2-n-s",sSortJUIAscAllowed:c+"carat-1-n",sSortJUIDescAllowed:c+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+b,sScrollFoot:"dataTables_scrollFoot "+b,sHeaderTH:b,sFooterTH:b,
sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})})();var Yb=y.ext.pager;e.extend(Yb,{simple:function(a,b){return["previous","next"]},full:function(a,b){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",Ca(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Ca(a,b),"next","last"]},_numbers:Ca,numbers_length:7});e.extend(!0,y.ext.renderer,{pageButton:{_:function(a,b,c,f,d,h){var g=a.oClasses,k=a.oLanguage.oPaginate,
m,r,p=0,q=function(b,f){var n,l,s,x,z=function(b){ea(a,b.data.action,!0)};n=0;for(l=f.length;n<l;n++)if(x=f[n],e.isArray(x))s=e("<"+(x.DT_el||"div")+"/>").appendTo(b),q(s,x);else{r=m="";switch(x){case "ellipsis":b.append("<span>&hellip;</span>");break;case "first":m=k.sFirst;r=x+(0<d?"":" "+g.sPageButtonDisabled);break;case "previous":m=k.sPrevious;r=x+(0<d?"":" "+g.sPageButtonDisabled);break;case "next":m=k.sNext;r=x+(d<h-1?"":" "+g.sPageButtonDisabled);break;case "last":m=k.sLast;r=x+(d<h-1?"":
" "+g.sPageButtonDisabled);break;default:m=x+1,r=d===x?g.sPageButtonActive:""}m&&(s=e("<a>",{"class":g.sPageButton+" "+r,"aria-controls":a.sTableId,"data-dt-idx":p,tabindex:a.iTabIndex,id:0===c&&"string"===typeof x?a.sTableId+"_"+x:null}).html(m).appendTo(b),tb(s,{action:x},z),p++)}};try{var n=e(l.activeElement).data("dt-idx");q(e(b).empty(),f);null!==n&&e(b).find("[data-dt-idx="+n+"]").focus()}catch(s){}}}});e.extend(y.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return yb(a,c)?"num"+
c:null},function(a,b){if(!(!a||a instanceof Date||Sb.test(a)&&vb.test(a)))return null;var c=Date.parse(a);return null!==c&&!isNaN(c)||ga(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return yb(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Pb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Pb(a,c,!0)?"html-num-fmt"+c:null},function(a,b){return ga(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);e.extend(y.ext.type.search,{html:function(a){return ga(a)?
a:"string"===typeof a?a.replace(Nb," ").replace(Oa,""):""},string:function(a){return ga(a)?a:"string"===typeof a?a.replace(Nb," "):a}});var Cb=function(a,b,c,f){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=xb(a,b));a.replace&&(c&&(a=a.replace(c,"")),f&&(a=a.replace(f,"")));return 1*a};e.extend(Z.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return ga(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return ga(a)?"":"string"===
typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});Xa("");e.extend(!0,y.ext.renderer,{header:{_:function(a,b,c,f){e(a.nTable).on("order.dt.DT",function(d,h,e,g){a===h&&(d=c.idx,b.removeClass(c.sSortingClass+" "+f.sSortAsc+" "+f.sSortDesc).addClass("asc"==g[d]?f.sSortAsc:"desc"==g[d]?f.sSortDesc:c.sSortingClass))})},jqueryui:function(a,b,c,f){e("<div/>").addClass(f.sSortJUIWrapper).append(b.contents()).append(e("<span/>").addClass(f.sSortIcon+
" "+c.sSortingClassJUI)).appendTo(b);e(a.nTable).on("order.dt.DT",function(d,h,e,g){a===h&&(d=c.idx,b.removeClass(f.sSortAsc+" "+f.sSortDesc).addClass("asc"==g[d]?f.sSortAsc:"desc"==g[d]?f.sSortDesc:c.sSortingClass),b.find("span."+f.sSortIcon).removeClass(f.sSortJUIAsc+" "+f.sSortJUIDesc+" "+f.sSortJUI+" "+f.sSortJUIAscAllowed+" "+f.sSortJUIDescAllowed).addClass("asc"==g[d]?f.sSortJUIAsc:"desc"==g[d]?f.sSortJUIDesc:c.sSortingClassJUI))})}}});y.render={number:function(a,b,c,f){return{display:function(d){var h=
0>d?"-":"";d=Math.abs(parseFloat(d));var e=parseInt(d,10);d=c?b+(d-e).toFixed(c).substring(2):"";return h+(f||"")+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+d}}}};e.extend(y.ext.internal,{_fnExternApiFunc:Mb,_fnBuildAjax:Da,_fnAjaxUpdate:qa,_fnAjaxParameters:ya,_fnAjaxUpdateDraw:Db,_fnAjaxDataSrc:Ea,_fnAddColumn:a,_fnColumnOptions:f,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:r,_fnColumnIndexToVisible:x,_fnVisbleColumns:z,_fnGetColumns:v,_fnColumnTypes:w,_fnApplyColumnDefs:A,_fnHungarianMap:q,
_fnCamelToHungarian:m,_fnLanguageCompat:p,_fnBrowserDetect:b,_fnAddData:C,_fnAddTr:I,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==g?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return e.inArray(c,a.aoData[b].anCells)},_fnGetCellData:J,_fnSetCellData:E,_fnSplitObjNotation:Q,_fnGetObjectDataFn:G,_fnSetObjectDataFn:P,_fnGetDataMaster:N,_fnClearTable:K,_fnDeleteIndex:X,_fnInvalidate:ba,_fnGetRowElements:V,_fnCreateTr:ka,_fnBuildHead:Aa,_fnDrawHead:ha,_fnDraw:sa,_fnReDraw:ta,_fnAddOptionsHtml:ua,
_fnDetectHeader:ca,_fnGetUniqueThs:Ia,_fnFeatureHtmlFilter:W,_fnFilterComplete:H,_fnFilterCustom:n,_fnFilterColumn:Eb,_fnFilter:Fb,_fnFilterCreateSearch:mb,_fnEscapeRegex:db,_fnFilterData:Ja,_fnFeatureHtmlInfo:Ab,_fnUpdateInfo:Ua,_fnInfoMacros:Gb,_fnInitialise:Va,_fnInitComplete:eb,_fnLengthChange:ra,_fnFeatureHtmlLength:lb,_fnFeatureHtmlPaginate:Wa,_fnPageChange:ea,_fnFeatureHtmlProcessing:M,_fnProcessingDisplay:T,_fnFeatureHtmlTable:Bb,_fnScrollDraw:Qa,_fnApplyToChildren:oa,_fnCalculateColumnWidths:xa,
_fnThrottle:Ba,_fnConvertToWidth:pb,_fnScrollingWidthAdjust:Hb,_fnGetWidestNode:Ib,_fnGetMaxLenString:qb,_fnStringToCss:R,_fnScrollBarWidth:rb,_fnSortFlatten:Ka,_fnSort:Jb,_fnSortAria:Kb,_fnSortListener:sb,_fnSortAttachListener:fb,_fnSortingClasses:bb,_fnSortData:Lb,_fnSaveState:aa,_fnLoadState:Sa,_fnSettingsFromNode:Ra,_fnLog:Ha,_fnMap:ma,_fnBindAction:tb,_fnCallbackReg:ja,_fnCallbackFire:U,_fnLengthOverflow:ub,_fnRenderer:gb,_fnDataSource:ia,_fnRowAttributes:pa,_fnCalculateEnd:function(){}});e.fn.dataTable=
y;e.fn.dataTableSettings=y.settings;e.fn.dataTableExt=y.ext;e.fn.DataTable=function(a){return e(this).dataTable(a).api()};e.each(y,function(a,b){e.fn.DataTable[a]=b});return e.fn.dataTable})})(window,document);window.TOONTALK={};window.TOONTALK.creators_from_json={};window.TOONTALK.widget=function(c){var l=function(c){var e=this.get_frontside&&this.get_frontside(!0);if(e)return c&&this.rerender(),e.get_element()};c.creators_from_json.top_level=function(g){g=c.widget.create_top_level_widget(g.settings);$(g.get_backside(!0).get_element()).addClass("toontalk-top-level-backside");return g};return{add_standard_widget_functionality:function(c){this.add_sides_functionality(c);this.runnable(c);this.stackable(c);this.animatable(c);this.has_title(c);this.has_parent(c);
this.has_description(c);this.has_listeners(c);this.erasable(c);c.is_of_type||(c.is_of_type=function(c){return this.get_type_name()===c});return c},erasable:function(c){var e;c.get_erased||(c.get_erased=function(){return e});c.set_erased||(c.set_erased=function(c,g){e=c;g&&this.rerender()});return c},add_sides_functionality:function(g){var e,q;g.get_frontside||(g.get_frontside=function(m){m&&!e&&(e=c.frontside.create(g));return e},g.save_dimensions=function(){var c;this.get_size_attributes?(c=this.get_size_attributes(),
this.saved_width=c.width,this.saved_height=c.height):(c=this.get_frontside_element(),this.saved_width=$(c).width(),this.saved_height=$(c).height())},g.restore_dimensions=function(){var c;0<this.saved_width&&(this.set_size_attributes?this.set_size_attributes(this.saved_width,this.saved_height):(c=this.get_frontside_element(),$(c).css({width:this.saved_width,height:this.saved_height}),this.saved_height=this.saved_width=void 0))});g.get_backside||(g.get_backside=function(c){c&&!q&&(q=g.create_backside());
return q});g.set_backside||(g.set_backside=function(c){q=c});g.forget_backside||(g.forget_backside=function(){q=void 0;this.get_backside_widgets().forEach(function(c){c.get_widget().forget_backside()})});g.create_backside||(g.create_backside=function(){return c.backside.create(g)});return g},runnable:function(c){var e=!1;c.get_running||(c.get_running=function(){return e});c.set_running||(c.set_running=function(q,m){var p=this.get_backside_widgets(),l;e=q;this.get_backside()&&this.get_backside().run_status_changed(e);
p.forEach(function(k){l=k.get_widget();k.is_backside()&&0<=this.backside_widgets.indexOf(l)||(l.is_of_type("robot")?k.is_backside()||e&&l.get_running()||(e?(l.set_stopped(!1),l.run(c,m)):l.set_stopped(!0),l.rerender()):l.set_running&&(!m&&k.is_backside()&&"top-level"!==c.get_type_name()?l.set_running(q,c):l.set_running(q)))}.bind(this));this.rerender()});return c},stackable:function(c){var e=!1;c.get_infinite_stack||(c.get_infinite_stack=function(){return e});c.set_infinite_stack||(c.set_infinite_stack=
function(q){var m=c.get_backside_element(),p=c.get_frontside_element();e=q;m&&$(m).find(".toontalk-infinite-stack-check-box").prop("checked",q);p&&(q?$(p).addClass("toontalk-infinite-stack"):$(p).removeClass("toontalk-infinite-stack"))});return c},animatable:function(g){var e;g.animate_to_widget||(e=function(e){var g=e.get_element();g&&$(g).is(":visible")||(g=c.UTILITIES.find_resource_equal_to_widget(e));return g},g.animate_to_widget=function(c,g,p,l,k){this.animate_to_element(e(c),g,p,l,k)});g.animate_to_element||
(g.animate_to_element=function(e,g,p,l,k){var b=$(e).offset(),d=$(this.get_frontside_element());e&&$(e).is(":visible")?(l||(l=($(e).width()-d.width())*Math.random()),k||(k=($(e).height()-d.height())*Math.random()),b?(b.left+=l,b.top+=k,c.debugging&&(0>b.left||0>b.top)&&console.log("Should this include negative values? "+b)):b={left:0,top:0},this.animate_to_absolute_position(b,g,p)):g()});g.animate_to_absolute_position||(g.animate_to_absolute_position=function(e,g,p){var l;l=this.get_frontside_element();
c.UTILITIES.animate_to_absolute_position(l,e,g,p)});return g},has_title:function(g){g.get_title||(g.get_title=function(){var e=this.get_type_name(),g=this.get_backside(),m=this.get_frontside_element(),p=this.get_description(),l;if($(m).is(".toontalk-top-level-resource"))l="Drag this "+e+" to a work area.";else if(!g||!g.get_element())l="Click to see the back side of this "+e;else if(!p)return c.UTILITIES.add_a_or_an(e,!0);p&&(p="This "+e+" "+p,l=l?p+"\n"+l:p);return l});return g},has_parent:function(c){var e,
q;c.get_parent_of_frontside=function(){return e};c.get_parent_of_backside=function(){return q};c.set_parent_of_frontside=function(c,g,q){e&&!q&&e.is_backside()&&e.get_widget().remove_backside_widget(this,!1,!0);e=c&&g?c.get_backside(!0):c};c.set_parent_of_backside=function(c,e,g){q&&!g&&q.is_backside()&&q.get_widget().remove_backside_widget(this,!0,!0);q=c&&e?c.get_backside(!0):c};c.closest_visible_ancestor=function(){for(var c=this;c&&!c.visible();)c=c.is_backside()?c.get_parent_of_backside():c.get_parent_of_frontside();
return c||this};c.ancestor_of_type=function(c){for(var e=this;e&&!e.is_of_type(c);)e=e.is_backside()?e.get_widget().get_parent_of_backside():e.get_parent_of_frontside();return e};c.has_ancestor=function(c){for(var e=this;e;){if(c===e)return!0;e=e.is_backside()?e.get_widget().get_parent_of_backside():e.get_parent_of_frontside()}return!1};c.remove_from_parent_of_frontside=function(c){e&&(e.is_backside()?e.remove_backside_widget(this,!1):e.removed_from_container&&e.removed_from_container(this,!1,c))};
return c},has_description:function(c){var e;c.get_description||(c.get_description=function(){return e});c.set_description||(c.set_description=function(c,g){if(e===c||!e&&""===c)return!1;e=c;g&&this.rerender();return!0})},has_listeners:function(g){var e={};g.add_listener||(g.add_listener=function(c,g){var p=e[c];p?0>p.indexOf(g)&&p.push(g):e[c]=[g]});g.remove_listener||(g.remove_listener=function(g,m,p){if(g=e[g])if(m=g.indexOf(m),0<=m){g.splice(m,1);return}!p&&c.debugging&&console.log("Listener of type "+
type_name+" could not be removed.")});g.get_listeners||(g.get_listeners=function(c){return e[c]})},get_full_description:function(){var c,e;if(this.get_erased&&this.get_erased())return"erased "+this.get_type_name();c=this.get_description();e=this.toString();return c?e+" ("+c+")":e},remove:function(c){var e=this.get_backside(),q=this.get_frontside(),m=this.get_parent_of_frontside(),p=this.get_parent_of_backside();e&&(e.remove_element(),p&&(e=p.is_backside()?p:p.get_backside(),e.removed_from_container&&
e.removed_from_container(this,!0,c)));q&&(q.remove(),m&&this.remove_from_parent_of_frontside(c));this.set_running(!1)},get_frontside_element:l,get_element:l,get_backside_element:function(c){if(c=this.get_backside&&this.get_backside(c))return c.get_element()},add_to_json:function(c,e){var q,m,p,l,k;if(c){c.view?(m=c,q=c.view,c=c.semantic):(q={},m={semantic:c,view:q});m.version=1;this.get_erased&&this.get_erased()&&(c.erased=!0);this.get_infinite_stack&&this.get_infinite_stack()&&(c.infinite_stack=
!0);this.get_running&&this.get_running()&&(c.running=!0);if(!this.get_parent_of_frontside()||this.get_parent_of_frontside().is_backside())if(l=this.get_frontside_element&&this.get_frontside_element())$(l).is(".toontalk-plain-text-element")||(k=$(l).width(),0!==k&&(q.frontside_width=$(l).width(),q.frontside_height=$(l).height())),$(l).is(":visible")&&(p=$(l).position()),p&&(q.frontside_left=p.left,q.frontside_top=p.top);if(l=this.get_backside()){if(k=l.get_element())q.backside_width=$(k).width(),q.backside_height=
$(k).height(),q.backside_left||(p=$(k).position(),q.backside_left=p.left,q.backside_top=p.top,"&lt;"===$(k).find(".toontalk-settings-backside-button").html()&&(q.advanced_settings_open=!0));l.get_backside_dimensions()&&(q.backside_geometry=l.get_backside_dimensions())}!q.backside_geometry&&this.backside_geometry&&(q.backside_geometry=this.backside_geometry);q.saved_width=this.saved_width;q.saved_height=this.saved_height;c.description=this.get_description&&this.get_description();return m}console.log("get_json not defined");
return{}},add_backside_widgets_to_json:function(g,e){var q=this.get_backside_widgets(),m;0<q.length&&(g.semantic.backside_widgets=c.UTILITIES.get_json_of_array(q,e),(q=this.get_backside_widgets_json_views())&&q.forEach(function(c,q){var k;m=g.semantic.backside_widgets[q];0<=m.widget.shared_widget_index?(k=e.widgets_encountered.indexOf(e.shared_widgets[m.widget.shared_widget_index]),k=e.json_of_widgets_encountered[k].view):k=m.widget.view;m.is_backside?c.backside_left&&(k.backside_left=c.backside_left,
k.backside_top=c.backside_top):c.frontside_left&&(k.frontside_left=c.frontside_left,k.frontside_top=c.frontside_top)}))},get_backside_widgets:function(){return this.backside_widgets||[]},add_backside_widget:function(g,e){var q=this.get_backside(),m=e?g.get_backside():g;c.debugging&&g===this?c.UTILITIES.report_internal_error("Adding a widget to a list of its backside widgets!"):(this.backside_widgets?0>this.backside_widgets.indexOf(m)&&this.backside_widgets.push(m):this.backside_widgets=[m],e?g.set_parent_of_backside(this,
!0):g.set_parent_of_frontside(this,!0),m.set_visible(q.visible()),g.render())},remove_all_backside_widgets:function(){if(this.backside_widgets)for(;0<this.backside_widgets.length;)this.backside_widgets[0].remove()},remove_backside_widget:function(g,e,q){this.get_backside();var m=e?g.get_backside(!0):g,p;c.debugging&&!this.backside_widgets?q?console.log("remove_backside_widget called and there are no backside_widgets"):c.UTILITIES.report_internal_error("Couldn't remove a widget from backside widgets."):
(p=this.backside_widgets.indexOf(m),0>p?q?c.debugging&&console.log("Warning: Probable redundant call to remove_backside_widget"):c.UTILITIES.report_internal_error("Couldn't find a widget to remove it from backside widgets. "+m.get_widget()+" ("+m.get_widget().debug_id+")"):(this.backside_widgets.splice(p,1),this.backside_widgets_json_views&&this.backside_widgets_json_views.splice(p,1),e?(e=g.get_parent_of_backside())&&e.get_widget()===this&&g.set_parent_of_backside(void 0,!0,!0):(e=g.get_parent_of_frontside())&&
e.get_widget()===this&&g.set_parent_of_frontside(void 0,void 0,!0),m.set_visible(!1)))},set_backside_widget_sides:function(c,e){var q=this.get_backside(),m=q&&q.visible();this.backside_widgets=c;0<c.length&&(this.get_backside()?this.get_backside().add_backside_widgets(c,e):this.backside_widgets_json_views=e,c.forEach(function(c){c.is_backside()?c.get_widget().set_parent_of_backside(this,!0):c.get_widget().set_parent_of_frontside(this,!0);c.set_visible(m)}.bind(this)))},get_backside_widgets_json_views:function(c){!this.backside_widgets_json_views&&
c&&(this.backside_widgets_json_views=[]);return this.backside_widgets_json_views},can_run:function(){var c=!1,e;this.get_backside_widgets().some(function(q){e=q.get_widget();if(e.get_body&&!e.get_body().is_empty()||e.can_run())return c=!0});return c},add_to_copy:function(g,e){var q;this.get_erased&&this.get_erased()&&(g.set_erased||c.widget.erasable(g),g.set_erased(this.get_erased()));e||(q=this.get_backside_widgets(),0<q.length&&g.set_backside_widget_sides(c.UTILITIES.copy_widget_sides(q),this.get_backside_widgets_json_views()));
return g},get_type_name:function(){return""},copy:function(){console.assert(!1,"copy not implemented")},add_copy_to_container:function(g){g||(g=this.copy());var e=this.get_frontside_element(),q=g.get_frontside_element(),m=$(e).closest(".toontalk-backside"),p=c.UTILITIES.relative_position(e,m.get(0)),l=c.UTILITIES.widget_from_jquery(m);$(q).css({width:$(e).width(),height:$(e).height(),left:p.left+30,top:p.top+30});m.append(q);l&&l.add_backside_widget(g);c.robot.in_training&&c.robot.in_training.copied(this,
g,!1);return g},visible:function(){var c=this.get_frontside();return c?c.visible():!1},set_visible:function(c){var e=this.get_frontside(c);e&&e.set_visible(c)},is_backside:function(){return!1},get_parent:function(){return this.get_parent_of_frontside()},drag_started:function(g,e){c.robot.in_training&&c.robot.in_training.picked_up(this,g,e)},match:function(c){console.assert(!1,"match not implemented for "+c.toString())},removed:function(g){c.UTILITIES.report_internal_error("removed not implemented")},
equals_box:function(){return!1},equals_number:function(){return!1},match_box:function(){return"not matched"},match_number:function(){return"not matched"},open_backside:function(g){var e=this.get_backside(),q=!0,m=function(b,f){c.UTILITIES.set_timeout(function(){$(b).addClass("toontalk-side-appearing");c.UTILITIES.add_one_shot_event_handler(b,"transitionend",2500,function(){$(b).removeClass("toontalk-side-appearing");g&&g()});$(b).css({left:d,top:a,opacity:f});this.apply_backside_geometry()}.bind(this))}.bind(this),
p,l,k,b,d,a,f,h;if(e){p=e.get_element();if($(p).is(":visible"))return c.UTILITIES.highlight_element(p,1E3),e;if((l=this.get_parent_of_backside())&&l.is_backside())return l.get_widget().open_backside()}l=this.get_frontside_element();k=$(l).parent();e=$(l);if(!e.is(".toontalk-top-level-resource")){for(;0<k.length&&!k.is(".toontalk-backside");)e=k,k=k.parent(),q=!1;b=e.get(0);e=this.get_backside(!0);p=e.get_element();p.toontalk_widget=this;f=$(l).offset();(h=k.offset())||(h={left:0,top:0});$(p).css({left:f.left-
h.left,top:f.top-h.top,opacity:.01});k.append(p);(k=c.UTILITIES.widget_from_jquery(k))&&k.add_backside_widget(this,!0);q?(d=b.offsetLeft+b.offsetWidth,a=b.offsetTop):(d=f.left-h.left,a=f.top-h.top+l.offsetHeight);m(p,"inherit");e.render();this.backside_widgets&&this.backside_widgets.forEach(function(a){a.render();a.set_visible(!0)});return e}},apply_backside_geometry:function(){var g=this.get_backside(!0),e=g.get_element();this.backside_geometry&&e&&(c.backside.scale_backside($(e),this.backside_geometry.x_scale,
this.backside_geometry.y_scale,this.backside_geometry.original_width,this.backside_geometry.original_height),g.set_dimensions(this.backside_geometry))},top_level_widget:function(){var g;return this.is_of_type("top-level")?this:(g=c.UTILITIES.widget_from_jquery($(this.get_frontside_element()).closest(".toontalk-top-level-backside")))?g:(g=this.get_parent_of_frontside()||this.get_parent_of_backside())?g.get_widget().top_level_widget():this.create_top_level_widget()},backup_all:function(c){var e=this.top_level_widget();
e&&e.save(c)},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&c.DISPLAY_UPDATES.pending_update(this)},hide:function(){$(this.get_frontside_element()).hide()},close_button_ok:function(c){return"top-level"!==this.get_type_name()&&!$(c).is(".toontalk-top-level-resource")&&!$(c).closest(".toontalk-conditions-panel").is("*")},get_widget:function(){return this},add_to_top_level_backside:function(g,e){var q=this.top_level_widget(),m=g.get_frontside_element(!0);
q.add_backside_widget(g);q.get_backside_element().appendChild(m);g.render();e&&c.robot.in_training&&c.robot.in_training.dropped_on(g,q);return m},create_top_level_widget:function(g){var e=Object.create(c.widget);g||(g={});e.get_json=function(c){c=this.get_backside(!0).get_element();c=document.defaultView.getComputedStyle(c,null).getPropertyValue("background-color");return{semantic:{type:"top_level",settings:g},view:{background_color:c}}};e.get_type_name=function(){return"top-level"};e.is_of_type=
function(c){return"top-level"===c};e.toString=function(){return"top level widget"};e.get_description=function(){};e.match=function(){return"matched"};e.update_display=function(){this.backside_widgets&&this.backside_widgets.forEach(function(c){c.visible()&&c.update_display()})};e.copy=function(){return this};e.visible=function(){return!0};e.get_parent_of_frontside=function(){};e.get_parent_of_backside=function(){};e.closest_visible_ancestor=function(){return this};e.get_infinite_stack=function(){return!1};
e.top_level_widget=function(){return this};e=e.add_sides_functionality(e);e=e.runnable(e);e=e.has_parent(e);e.get_setting=function(e){"undefined"===typeof g[e]&&(g[e]=c.DEFAULT_SETTINGS[e]);return g[e]};e.set_setting=function(c,e){g[c]=e};e.open_settings=function(){c.SETTINGS.open(e)};e.save=function(e,g,p){var l;g||(g={google_drive:c.google_drive&&this.get_setting("auto_save_to_google_drive"),local_storage:this.get_setting("auto_save_to_local_storage")});e?(g.google_drive&&(l=c.UTILITIES.get_json_top_level(this),
e=c.google_drive.get_status(),"Ready"===e?(c.google_drive.upload_file(this.get_setting("program_name"),"json",JSON.stringify(l),p),p=void 0):c.google_drive.connection_to_google_drive_possible()&&console.log("Unable to save to Google Drive because: "+e)),g.local_storage&&(l||(l=c.UTILITIES.get_json_top_level(this)),this.save_to_local_storage(l)),p&&p()):setTimeout(function(){this.save(!0,g,p)}.bind(this),100)};e.publish=function(e){var g=c.google_drive.get_status(),p;"Ready"===g?(g=c.UTILITIES.get_json_top_level(this),
p=c.UTILITIES.toontalk_json_div(g,this),g=this.get_setting("program_name"),p=c.publish_part_1+g+c.publish_part_2+p+c.publish_part_3,c.google_drive.upload_file(g,"html",p,e)):console.log("Unable to publish to Google Drive because: "+g)};e.save_to_local_storage=function(e,g){var p=this.get_setting("program_name"),l="toontalk-json: "+p,p="toontalk-meta-data: "+p,k,b;g||(g=Date.now());try{b=(b=window.localStorage.getItem(p))?JSON.parse(b):{created:g},b.last_modified=g,window.localStorage.setItem(p,JSON.stringify(b)),
window.localStorage.setItem(l,JSON.stringify(e)),window.localStorage.setItem("toontalk-last-key",l),k=c.UTILITIES.get_all_local_storage_keys(),0>k.indexOf(l)&&(k.push(l),c.UTILITIES.set_all_local_storage_keys(k))}catch(d){l="Failed to save state to local storage since it requires "+JSON.stringify(e).length+" bytes. Error message is "+d,c.UTILITIES.is_internet_explorer()?console.error(l):c.UTILITIES.display_message(l),this.last_local_storage_error=l}};e.load=function(g,m){var p=this.get_setting("program_name"),
l=p+".json",k="toontalk-json: "+p,b=function(b){b&&(b=JSON.parse(b),e.remove_all_backside_widgets(),c.UTILITIES.add_backside_widgets_from_json(e,b.semantic.backside_widgets),m&&m())},p=function(d){d?c.google_drive.download_file(d,b):b(window.localStorage.getItem(k))};g&&c.google_drive&&"Ready"===c.google_drive.get_status()?c.google_drive.get_toontalk_program_file(l,p):b(window.localStorage.getItem(k))};e.get_backside(!0).set_visible(!0);c.debugging&&(e.debug_id=c.UTILITIES.generate_unique_id(),e.debug_string=
"Top-level widget");return e}}}(window.TOONTALK);window.TOONTALK.publish_part_1='<!DOCTYPE html>\n\r\n<html>\n\r\n<head>\n\r\n<link rel="stylesheet" media="all" href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/toontalk.css">\n\r\n<link href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/css/font-awesome.min.css" rel="stylesheet" type="text/css" />\n\r\n<link href="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/css/froala_editor.min.css" rel="stylesheet" type="text/css" />\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/compile/toontalk.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/froala_editor.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/block_styles.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/colors.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/font_family.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/font_size.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/lists.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/tables.min.js">\x3c/script>\n\r\n<script src="https://dl.dropboxusercontent.com/u/51973316/ToonTalk/libraries/froala-wysiwyg-editor/js/plugins/video.min.js">\x3c/script>\n\r\n<title>';
window.TOONTALK.publish_part_2='</title>\n\r\n<link rel="shortcut icon" href="favicon.ico" />\n\r\n</head>\n\r\n<body>\n\r\n<form>\n\r\n<textarea class="toontalk-edit" name="content">Edit this.</textarea>\n\r\n</form>\n\r\n';window.TOONTALK.publish_part_3='<form>\n\r\n<textarea class="toontalk-edit" name="content">And edit this.</textarea>\n\r\n</form>\n\r\n<script>\n\r\n      $(function() {\n\r\n          $(".toontalk-edit").editable({inlineMode: true, imageUpload: false})\n\r\n      });\n\r\n  \x3c/script>\n\r\n</body>\n\r\n</html>';window.TOONTALK.backside=function(c){return{create:function(l){var g=Object.create(this),e=document.createElement("div"),q=$(e),m=1,p=1,s=document.createElement("div"),k=document.createElement("div"),b=l.get_help_URL&&l.get_help_URL(),d,a,f,h,r,x,z,v,w,A,C,I=function(a){a?($(s).addClass("toontalk-green-flag-active").removeClass("toontalk-green-flag-inactive"),$(k).addClass("toontalk-stop-sign-inactive").removeClass("toontalk-stop-sign-active")):($(s).addClass("toontalk-green-flag-inactive").removeClass("toontalk-green-flag-active"),
$(k).addClass("toontalk-stop-sign-active").removeClass("toontalk-stop-sign-inactive"))},J=function(){var a=q.width();q.height();var b,c,f;0===a?setTimeout(J,100):(a=$(k).width(),b=(b=$(z).width())?b+14:0,$(k).css({right:b}),$(s).css({right:b+a+6}),c=$(s).width(),w&&$(w).css({right:b+a+c+12}),d&&(f=$(w).width()||0,$(d).css({right:b+a+c+f+12})))};v=this.create_description_label(g,l);var E,Q;l.close_button_ok(e)&&(Q=function(a){g.hide_backside(a);a.stopPropagation()},E=(E=l.get_description())?"the "+
l.get_type_name()+" who "+E:"the "+l.get_type_name(),z=c.UTILITIES.create_close_button(Q,"Click to hide this back side of "+E+"."),e.appendChild(z));$(s).addClass("toontalk-green-flag toontalk-green-flag-inactive").click(function(a){l.can_run()?(I(!0),l.set_running(!0)):l.is_of_type("top-level")?c.UTILITIES.display_message("There is nothing to run."):c.UTILITIES.display_message("This "+l+" has nothing to run. Add some robots on the back.")}).on("mouseenter",function(a){a=l.get_running()?"Click to stop this from running.":
l.can_run()?"This has stopped. Click on the flag to start running it.":"There is nothing to run here.";k.title=a});$(k).addClass("toontalk-stop-sign toontalk-stop-sign-active").click(function(a){I(!1);l.set_running(!1)}).on("mouseenter",function(a){a=l.get_running()?"To stop this click on the stop sign.":l.can_run()?"Click this to start this running.":"There is nothing to run on this.";s.title=a});e.appendChild(s);e.appendChild(k);b&&(w=document.createElement("div"),$(w).addClass("toontalk-help-button toontalk-widget-help-button").click(function(a){A=
document.createElement("iframe");$(A).addClass("toontalk-help-frame");A.src=b;document.body.appendChild(A);document.body.appendChild(C)}),w.innerHTML="i",w.title="Click to learn more about "+l.get_type_name()+".",C=document.createElement("div"),$(C).addClass("toontalk-close-help-frame-button").button().click(function(a){$(A).remove();$(C).remove()}),C.innerHTML="Return to ToonTalk",e.appendChild(w));v&&e.appendChild(v);l.is_of_type("top-level")&&(d=document.createElement("div"),$(d).addClass("toontalk-settings-button").click(function(a){l.open_settings()}),
d.title="Click to change settings or open a different program.",e.appendChild(d));c.UTILITIES.set_timeout(J);q.addClass("toontalk-backside toontalk-side toontalk-backside-of-"+l.get_type_name());q.css({"z-index":c.UTILITIES.next_z_index()});g.get_element=function(){return e};g.get_widget=function(){return l};g.visible=function(){return a};g.set_visible=function(b){var c=this.get_widget().get_backside_widgets();a=b;c.forEach(function(a){a.set_visible(b)})};l.get_backside||(l.get_backside=function(){return g});
l.removed_from_container||(l.removed_from_container=function(a,b,f,d){c.robot.in_training||this.remove_backside_widget(a,b,d)});g.widget_dropped_on_me=function(a,b,f,d,h){var g=this.get_widget(),k,r;b?(k=a.get_backside(!0),r=k.get_element(),k.rerender()):(k=a.get_frontside(!0),r=k.get_element(),a.rerender());k=$(r);q.append(k);this.is_of_type("top-level")?d&&!d.visible()&&k.addClass("toontalk-widget-added-to-backside-by-unwatched-robot"):f||a.animate_to_element(e);c.UTILITIES.set_position_is_absolute(r,
!0,f);c.robot.in_training&&!h&&c.robot.in_training.dropped_on(a,this.get_widget());b&&"top-level"!=this.get_widget().get_type_name()&&(d=a.get_backside(),a.forget_backside(),a.remove(f),a.set_backside(d));g.add_backside_widget(a,b);a.dropped_on_other&&a.dropped_on_other(this.get_widget(),!0,f);a.get_body&&a.get_body().is_empty()&&!a.being_trained&&(d=a.open_backside())&&$(d.get_element()).find(".toontalk-train-backside-button").click();f&&a.get_widget().backup_all();return!0};g.add_backside_widgets=
function(a,b){0!==a.length&&c.UTILITIES.set_timeout(function(){var c,f,d=this.visible();a.forEach(function(a,h){var e=a.get_widget().get_backside();c=a.get_element(!0);c.toontalk_widget=a.get_widget();b&&(f=b[h])&&(a.is_backside()?($(c).css({left:f.backside_left,top:f.backside_top,width:f.backside_width,height:f.backside_height}),a.get_widget().apply_backside_geometry(),f.advanced_settings_open&&e.set_advanced_settings_showing(!0,e.get_element())):(0===f.frontside_width&&(f.frontside_width=""),0===
f.frontside_height&&(f.frontside_height=""),$(c).css({left:f.frontside_left,top:f.frontside_top,width:f.frontside_width,height:f.frontside_height})));q.append(c);a.set_visible(d);a.get_widget().rerender()})}.bind(this))};g.get_backside_dimensions=function(){if(m)return{x_scale:m,y_scale:p,original_width:f,original_height:h}};g.set_dimensions=function(a){m=a.x_scale;p=a.y_scale;f=a.original_width;h=a.original_height};g.scale_to_fit=function(a,b){var d;!f&&this.get_widget().backside_geometry&&(f=this.get_widget().backside_geometry.original_width,
h=this.get_widget().backside_geometry.original_height);d=c.UTILITIES.scale_to_fit(a,b,f,h);m=d.x_scale;p=d.y_scale};g.run_status_changed=function(a){I(a)};e.toontalk_widget=l;c.UTILITIES.drag_and_drop(e);q.resizable({start:function(){r=q.width();x=q.height();f||(f=r);h||(h=x)},resize:function(a,b){var d=b.size.width,e=b.size.height;q.is(".toontalk-top-level-backside")||(m*=d/r,p*=e/x,r=d,x=e,c.backside.scale_backside(q,m,p,f,h))},handles:"e,s,se"});e.addEventListener("mouseenter",function(a){var b=
l.get_frontside(),f=l.get_parent_of_backside();!b||f&&!f.get_widget().is_of_type("top-level")||c.UTILITIES.highlight_element(b.get_element(),a)});e.addEventListener("mouseout",function(a){l.get_frontside()&&c.UTILITIES.remove_highlight()});g.update_display=function(){g.display_updated()};g.display_updated=function(){var a=$(this.get_element());f||(f=a.width());h||(h=a.height())};l.get_backside_widgets&&(v=l.get_backside_widgets(),g.add_backside_widgets(v,l.get_backside_widgets_json_views()));c.debugging&&
(e.id=l.debug_id);return g},toString:function(){return"backside of "+this.get_widget()},remove_element:function(){$(this.get_element()).remove()},create_infinite_stack_check_box:function(l,g){var e=c.UTILITIES.create_check_box(g.get_infinite_stack(),"toontalk-infinite-stack-check-box","Copy when dragged.","Check this if you want the "+g.get_type_name()+" to be copied instead of moved.");$(e.button).click(function(l){var m=e.button.checked;g.set_infinite_stack(m);c.robot.in_training&&c.robot.in_training.edited(g,
{setter_name:"set_infinite_stack",argument_1:m,toString:m?"change dragging to make a copy of ":"change dragging back to moving for ",button_selector:".toontalk-infinite-stack-check-box"});l.stopPropagation()});return e},create_description_label:function(l,g){var e=g.get_description();if(e)return c.UTILITIES.create_text_element("Back side of a "+g.get_type_name()+" that "+e)},add_advanced_settings:function(l){var g=this.get_widget(),e=this.create_infinite_stack_check_box(this,g),q=g.get_type_name(),
m=c.UTILITIES.create_text_area(g.get_description(),"toontalk-description-input","This&nbsp;"+q+"&nbsp;","Type here to provide additional information about this "+q+"."),p=$("<button>Make a sensor</button>").button(),s=function(){var b=m.button.value.trim();g.set_description(b,!0)&&c.robot.in_training&&c.robot.in_training.edited(g,{setter_name:"set_description",argument_1:b,toString:"change the description to '"+b+"'' of the "+q,button_selector:".toontalk-description-input"})},k=document.createElement("table"),
b=this.get_element();$(k).addClass("toontalk-advanced-setting");$(m.button).val(g.get_description());m.button.addEventListener("change",s);m.button.addEventListener("mouseout",s);p.click(function(b){b=c.sensor.create("click","which",void 0,void 0,!0,g);var a=b.get_frontside_element(!0),f=p.offset();g.add_to_top_level_backside(b,!0);f.left-=120;c.UTILITIES.set_absolute_position($(a),f)});p.attr("title","Click to create a nest which receives messages when events happen to this "+g.get_type_name()+".");
k.appendChild(c.UTILITIES.create_row(m.container));k.appendChild(c.UTILITIES.create_row(p.get(0),e.container));b.appendChild(k);l?$(b).find(".toontalk-settings-backside-button").remove():$(b).find(".toontalk-advanced-setting").hide()},get_type_name:function(){return"the backside of "+c.UTILITIES.add_a_or_an(this.get_widget().get_type_name())},hide_backside:function(l){var g=this.get_widget(),e=g.get_frontside_element(),q=$(g.get_backside_element()),m=q.position(),p=q.parent().closest(".toontalk-backside"),
s=g.get_parent_of_backside();c.UTILITIES.remove_highlight();s&&(s.is_backside()?g.set_parent_of_backside(void 0,!0):s.removed_from_container(g,!0,l,!0),g.forget_backside&&g.forget_backside());(function(){var c=g.get_backside_widgets(),b=g.get_backside_widgets_json_views(!0),d;c.forEach(function(a,c){var h;if(d=a.get_widget().get_element())b[c]||(b[c]={}),a.start_position?(h=a.start_position,a.start_position=void 0):h=$(d).position(),a.is_backside()?(b[c].backside_left=h.left,b[c].backside_top=h.top):
(b[c].frontside_left=h.left,b[c].frontside_top=h.top)})})();g.backside_geometry=this.get_backside_dimensions();(function(g){var b=$(e).offset(),d=p.position(),a=function(){g.remove()};g.is(":visible")&&(g.addClass("toontalk-side-appearing"),c.UTILITIES.add_one_shot_event_handler(g.get(0),"transitionend",2500,a),d||(d={left:0,top:0}),g.css({left:b.left-d.left,top:b.top-d.top,opacity:.1}))})(q);$(e).is(":visible")||(m&&$(e).css({left:m.left,top:m.top}),c.UTILITIES.widget_from_jquery(p).add_backside_widget(g),
p.append(e),g.render());g.backside_widgets&&g.backside_widgets.forEach(function(c){c.set_visible(!1)})},create_advanced_settings_button:function(l,g){var e=document.createElement("div"),q=$(e),m=!1;e.innerHTML="&gt;";q.addClass("toontalk-settings-backside-button");q.css({"z-index":c.UTILITIES.next_z_index()});q.click(function(c){m=!m;this.set_advanced_settings_showing(m,l.get_element(),q);c.stopPropagation()}.bind(this));q.attr("title","Click to see the advanced settings of this "+g.get_type_name()+
".");return q.get(0)},set_advanced_settings_showing:function(c,g,e){e||(e=$(g).find(".toontalk-settings-backside-button"));c?($(g).find(".toontalk-advanced-setting").show(),e.html("<"),e.attr("title","Click to hide the advanced settings.")):($(g).find(".toontalk-advanced-setting").hide(),e.html(">"),e.attr("title","Click to show the advanced settings."))},get_widgets:function(){var c=[];$(this.get_element()).children().each(function(g,e){var q=e.toontalk_widget;q&&0>c.indexOf(q)&&c.push(q)});return c},
scale_backside:function(c,g,e,q,m){var p=Math.min(1,g,e);1===g&&1===e?c.css({width:"",height:""}):c.css({transform:"scale("+p+", "+p+")","transform-origin":"top left",width:q*g/p,height:m*e/p})},render:function(){c.DISPLAY_UPDATES.pending_update(this)},rerender:function(){this.visible()&&c.DISPLAY_UPDATES.pending_update(this)},remove_backside_widget:function(c,g,e){return this.get_widget().remove_backside_widget(c,g,e)},remove:function(){this.get_widget().remove()},is_backside:function(){return!0},
get_parent:function(){return this.get_parent_of_backside()},is_of_type:function(c){return this.get_widget().is_of_type(c)}}}(window.TOONTALK);window.TOONTALK.frontside=function(c){return{create:function(l){var g=Object.create(this),e=document.createElement("div"),q=$(e),m;$(e).addClass("toontalk-frontside toontalk-side");e.toontalk_widget=l;c.UTILITIES.drag_and_drop(e);g.get_element=function(){return e};g.get_widget=function(){return l};g.visible=function(){return m};g.set_visible=function(c){var e=this.get_widget();m=c;e.walk_children&&e.walk_children(function(e){e.set_visible(c);return!0})};e.addEventListener("click",function(e){$(e.target).is(".ui-resizable-handle")||
1!==e.which||(q.is(".toontalk-top-level-resource")?l.set_running(!l.get_running()):l.get_running()?c.debugging&&console.log("Ignoring click on running widget."):l.open_backside(),e.stopPropagation())});e.addEventListener("mouseenter",function(e){(e=l.get_backside())&&c.UTILITIES.highlight_element(e.get_element())});e.addEventListener("mouseout",function(e){l.get_backside()&&c.UTILITIES.remove_highlight()});c.debugging&&(e.id=l.debug_id);return g},update_display:function(){return this.get_widget().update_display()},
remove:function(){$(this.get_element()).remove()}}}(window.TOONTALK);window.TOONTALK.number=function(c){var l=Object.create(c.widget),g=function(a,b,c,d){var e="",g=100;c=50/c;b/=1+b;if(d)for(d=0;g>=c&&d<a.length;)e=e+"<span class='toontalk-digit' style='font-size:"+g+"%'>"+a[d]+"</span>",d+=1,"-"!==a[d]&&(g*=b);else for(d=a.length-1;g>=c&&0<d;)e="<span class='toontalk-digit' style='font-size:"+g+"%'>"+a[d]+"</span>"+e,d-=1,"-"!==a[d]&&(g*=b);return e},e=function(a,b){var c=a/(1+a);return Math.ceil(Math.log(.5/b)/Math.log(c))},q=function(a,b,c){if(a.length<=Math.round(b))return'<span class="toontalk-digit" style="font-size:100%">'+
a+"</span>";if(1>b)return"";if(5>b)return"<span style='font-size: 80%'>"+q(a,1.25*b,.8*c)+"</span>";b=b/2-1;return g(a,b,c,!0)+g(a,b,c,!1)},m=function(a,b,c){var d="",e=new BigInteger(10),g=a.isNegative();for(g&&(a=a.abs());c>d.length;)if(a=a.multiply(e),0>a.compare(b))d+="0";else if(d+=a.divide(b).toString(),a=a.remainder(b).multiply(e),a.isZero())return g&&(d="-"+d),d=p(d);g&&(d="-"+d);return d},p=function(a){return 0<a.length&&"0"===a.charAt(a.length-1)?p(a.substring(0,a.length-1)):a},s=function(a,
b){var c=Math.min(b,a/2);return a-(c+1)},k=function(a,b){b||(b=1);if(!("number"!==typeof a&&"string"!==typeof a||"number"!==typeof b&&"string"!==typeof b))return bigrat.fromValues(a,b);var c=bigrat.create();1===b?bigrat.set(c,bigrat.toBigInteger(a.get_value()),BigInteger.ONE):a.get_value&&b.get_value?bigrat.set(c,bigrat.toBigInteger(a.get_value()),bigrat.toBigInteger(b.get_value())):bigrat.set(c,a,b);return c},b=function(a){switch(a){case "+":return"";case "-":return"&minus;";case "*":return"&times;";
case "/":return"&divide;";case "^":return"^";default:return c.UTILITIES.report_internal_error("Number has an unsupported operator: "+a),""}},d=bigrat.fromInteger(10);l.create=function(a,b,d,e,g){var m=Object.create(l),p=k(a,b);e||(e="improper_fraction");d||(d="+");m.set_value=function(a){if(!bigrat.equals(p,a))return this.fire_value_change_listeners(p,a),p=a,this.rerender(),c.debugging&&(this.debug_string=this.toString()),this};m.set_value_from_sub_classes=m.set_value;m.fire_value_change_listeners=
function(a,b){var c=this.get_listeners("value_changed"),f;c&&(f={type:"value_changed",old_value:a,new_value:b},c.forEach(function(a){a(f)}))};m.get_value=function(){return p};m.set_value_from_decimal=function(a){"number"===typeof a?this.set_value(bigrat.fromInteger(a)):this.set_value(bigrat.fromDecimal(a))};m.get_format=function(){return e};m.set_format=function(a,b){e=a;b&&this.rerender();return this};m.get_operator=function(){return d};m.set_operator=function(a,b){d=a;b&&this.rerender();return this};
m=l.add_standard_widget_functionality(m);m.set_description(g);c.debugging&&(m.debug_string=m.toString(),m.debug_id=c.UTILITIES.generate_unique_id(),p.debug_id_new=m.debug_id);return m};l.create_backside=function(){return c.number_backside.create(this)};l.set_from_values=function(a,b){return this.set_value(k(a,b))};l.ONE=function(){return this.create(1)};l.ZERO=function(){return this.create(0)};l.copy=function(a){return this.add_to_copy(l.create(this.get_value()[0],this.get_value()[1],this.get_operator(),
this.get_format(),this.get_description()),a)};l.is_number=function(){return!0};l.equals=function(a){return a.equals_number&&a.equals_number(this)};l.equals_number=function(a){return bigrat.equals(this.get_value(),a.get_value())};l.compare_with=function(a){if(a.compare_with_number)return-1*a.compare_with_number(this)};l.compare_with_number=function(a){return bigrat.equals(this.get_value(),a.get_value())?0:bigrat.isGreaterThan(this.get_value(),a.get_value())?1:-1};l.update_display=function(){var a,
b,d,e,g;a=this.get_frontside(!0).get_element();$(a).is(".toontalk-conditions-contents")?b=$(a):$(a).parent().is(".toontalk-backside, .toontalk-json")?(b=$(a),g=!0):b=$(a).parent().is(".toontalk-scale-half")?$(a):$(a).parent();if($(a).is(".toontalk-carried-by-bird"))d=100,e=40;else if($(a).is(".toontalk-element-attribute"))d=200,e=32;else{if(!b.is(":visible"))return;d=b.width();e=b.height();if(0===d||0===e)return;b.is(".toontalk-nest")&&(d*=.8,e*=.8)}$(a).removeClass("toontalk-number-eighth-size-border toontalk-number-quarter-size-border toontalk-number-half-size-border toontalk-number-full-size-border");
32>=d||32>=e?($(a).addClass("toontalk-number-eighth-size-border"),a.toontalk_border_size=4):64>=d||64>=e?($(a).addClass("toontalk-number-quarter-size-border"),a.toontalk_border_size=8):128>=d||128>=e?($(a).addClass("toontalk-number-half-size-border"),a.toontalk_border_size=16):($(a).addClass("toontalk-number-full-size-border"),a.toontalk_border_size=32);b=e-2*a.toontalk_border_size;g=this.to_HTML(d/(.64*b),b,this.get_format(),!0,this.get_operator(),g);c.UTILITIES.on_a_nest_in_a_box(a)&&(d="width:"+
d+"px;",b=g.indexOf('style="'),g=0<=b?g.substring(0,b+7)+d+g.substring(b+7):g);d=$(a).children(".toontalk-widget");d.is("*")?d=d.get(0):(d=document.createElement("div"),a.appendChild(d));d.innerHTML=g;$(d).addClass("toontalk-widget");a.title=this.get_title();(a=this.get_backside())&&a.rerender()};l.to_HTML=function(a,c,h,k,p,l){var v,w,A,C,I,J,E=!1!==k?" toontalk-top-level-number":"";l&&(E+=" toontalk-number-size-unconstrained-by-container");w=p?b(p):"";a||(a=4);c||(c=16);if(this.get_erased&&this.get_erased())return'<div class="toontalk-number toontalk-integer'+
E+'" style="font-size: '+c+'px;"></div>';0<w.length&&(a-=1,2>a&&(c*=Math.max(1,a)/2,a=2));if(this.is_integer()&&"scientific_notation"!==h)return v=bigrat.toBigInteger(this.get_value()).toString(),A=v.length,0<w.length&&A++,4>a&&A>a&&(A=Math.min(4,A),c*=a/A,a=A),'<div class="toontalk-number toontalk-integer'+E+'" style="font-size: '+c+'px;">'+w+q(v,a,c)+"</div>";v=' style="font-size:'+.4*c+'px;"';if("improper_fraction"===h||!h)return c='<table class="toontalk-number toontalk-improper-fraction'+E+'"'+
v+'><tr class="toontalk-numerator"><td align="center" class="toontalk-number">'+q(this.numerator_string(),2*a,c)+'</td></tr><tr class="toontalk-fraction-line-as-row"><td  class="toontalk-fraction-line-as-table-entry"><div class="toontalk-fraction-line"></div></tr><tr class="toontalk-denominator"><td align="center" class="toontalk-number">'+q(this.denominator_string(),2*a,c)+"</td></tr></table>",""===w?c:"<table class='toontalk-operator-and-fraction'"+v+"><tr><td>"+w+"</td><td>"+c+"</td></tr></table>";
if("mixed_number"===h||"proper_fraction"===h){w=this.integer_part();if(w.is_zero())return this.to_HTML(a,c,"improper_fraction",k,p);A=this.copy().subtract(w).absolute_value();return'<table class="toontalk-number toontalk-mixed-number'+E+'"'+v+'><tr><td class="toontalk-number toontalk-integer-part-of-mixed-number">'+w.to_HTML(a/2,c,"",!1,this.get_operator())+'</td><td class="toontalk-number toontalk-fraction-part-of-mixed-number">'+A.to_HTML(a/2,c,"improper_fraction",!1)+"</td></tr></table>"}if("decimal"===
h)return 4>a&&(c*=Math.max(1,a)/4,a=4),'<div class="toontalk-number toontalk-decimal'+E+'" style="font-size: '+c+'px;">'+w+this.decimal_string(a,c)+"</div>";if("scientific_notation"===h){A=bigrat.isNegative(this.get_value());C=this.get_value();I=bigrat.abs(bigrat.create(),C);C=bigrat.isLessThan(I,bigrat.ONE);I=(C?bigrat.toBigInteger(bigrat.divide(bigrat.create(),bigrat.ONE,I)):bigrat.toBigInteger(I)).toString();C=C?-I.length:I.length-1;I=bigrat.power(bigrat.create(),d,C);J=bigrat.divide(bigrat.create(),
this.get_value(),I);I=6+(0===C?1:Math.ceil(Math.log10(Math.abs(C)))/2);A&&I++;if(a<I+1)return this.to_HTML(I+1,c*a/(I+1),h,k,p,l);k=e(s(a,I),c);k=m(J[0],J[1],k);A?(A=k.substring(0,2),k=k.substring(2)):(A=k.substring(0,1),k=k.substring(1));a=g(k,a*(1-I/a),c,!0);0<a.length&&(a="<span class='toontalk-decimal-point'>.</span>"+a);return'<table class="toontalk-number toontalk-scientific_notation'+E+'"'+v+'><tr><td class="toontalk-number toontalk-significand-of-scientific-notation"><div class="toontalk-number toontalk-decimal'+
E+'" style="font-size: '+c+'px;">'+w+A+a+'</td><td class="toontalk-number toontalk-exponent-of-scientific-notation"><div style="font-size: '+c+'px;"> &times;10<sup style="font-size: '+c/2+'px;">'+C+"</sup></div></td></tr></table>"}};l.drop_on=function(a,b,c,d){if(a.number_dropped_on_me)return a.number_dropped_on_me(this,b,c,d),!0;if(a.widget_dropped_on_me)return a.widget_dropped_on_me(this,b,c,d);console.log("No handler for drop of '"+this+"' on '"+a+"'")};l.number_dropped_on_me=function(a,b,d,e){var g,
k,m,p;return a.visible()&&(d||e&&e.visible())?(e&&(a.robot_waiting_before_next_step=e),g=document.createElement("div"),$(g).addClass("toontalk-bammer-down"),k=$(this.get_frontside_element()).closest(".toontalk-top-level-backside"),g.style.left="-10px",g.style.top=k.height()+"px",k.append(g),b=this.get_frontside_element(),m=$(b).offset(),m.left-=.75*$(g).width(),m.left+=.5*$(b).width()+.1*$(g).width(),m.top-=.5*$(b).height()+.4*$(g).height(),b=function(){this.number_dropped_on_me_semantics(a,d,e)&&
e&&e.run_next_step();$(g).removeClass("toontalk-bammer-down");c.UTILITIES.set_timeout(function(){var a=k.offset();a||(a={left:0,top:0});$(g).addClass("toontalk-bammer-away");m.left=a.left+k.width()-100;m.top=a.top+k.height()+100;p=function(){$(g).remove()};c.UTILITIES.animate_to_absolute_position(g,m,p);$(g).css({opacity:.01})})}.bind(this),c.UTILITIES.animate_to_absolute_position(g,m,b),$(g).css({opacity:1,"z-index":c.UTILITIES.next_z_index()+100}),this):this.number_dropped_on_me_semantics(a,d,e)};
l.number_dropped_on_me_semantics=function(a,b,d){c.robot.in_training&&c.robot.in_training.dropped_on(a,this);a.remove();switch(a.get_operator()){case "+":return this.add(a);case "-":return this.subtract(a);case "*":return this.multiply(a);case "/":return this.divide(a);case "^":return this.power(a);default:c.UTILITIES.report_internal_error("Number received a number with unsupported operator: "+a.get_operator())}};l.widget_dropped_on_me=function(a,b,c,d){return a.number_dropped_on_me?this.number_dropped_on_me(a,
b,c,d):!1};l.add=function(a){this.set_value(bigrat.add(bigrat.create(),this.get_value(),a.get_value()));return this};l.subtract=function(a){this.set_value(bigrat.subtract(bigrat.create(),this.get_value(),a.get_value()));return this};l.multiply=function(a){this.set_value(bigrat.multiply(bigrat.create(),this.get_value(),a.get_value()));return this};l.divide=function(a){this.set_value(bigrat.divide(bigrat.create(),this.get_value(),a.get_value()));return this};l.power=function(a){this.set_value(bigrat.power(bigrat.create(),
this.get_value(),bigrat.toInteger(a.get_value())));return this};l.absolute_value=function(){this.set_value(bigrat.abs(bigrat.create(),this.get_value()));return this};l.is_zero=function(){return bigrat.equals(this.get_value(),bigrat.ZERO)};l.is_negative=function(){return bigrat.isNegative(this.get_value())};l.toString=function(){return("+"===this.get_operator()?"":this.get_operator())+bigrat.str(this.get_value())};l.to_float=function(){return bigrat.toDecimal(this.get_value())};l.get_type_name=function(){return"number"};
l.get_help_URL=function(){return"docs/manual/numbers.html"};l.get_json=function(){return{type:"number",operator:this.get_operator(),numerator:this.numerator_string(),denominator:this.denominator_string(),format:this.get_format()}};c.creators_from_json.number=function(a){return l.create(a.numerator,a.denominator,a.operator,a.format,a.description)};l.is_integer=function(){return 0===this.get_value()[1].compare(BigInteger.ONE)||0===this.get_value()[0].compare(BigInteger.ZERO)};l.numerator=function(){var a=
bigrat.create();return bigrat.set(a,this.get_value()[0],BigInteger.ONE)};l.denominator=function(){var a=bigrat.create();return bigrat.set(a,this.get_value()[1],BigInteger.ONE)};l.numerator_string=function(){return this.get_value()[0].toString()};l.denominator_string=function(){return this.get_value()[1].toString()};l.integer_part=function(){return this.create(this)};l.decimal_string=function(a,b){if(this.is_integer())return this.numerator_string();var c=l.copy.call(this),d=c.integer_part(),k=d.toString();
"0"===k&&this.is_negative()&&(k="-"+k);var p=c.subtract(d),d=s(a,k.length),v=e(d,b),c=Math.min(k.length,a/2),p=p.absolute_value(),v=m(p.get_value()[0],p.get_value()[1],v),d=v.length<a?v:g(v,d,b,!0);return q(k,c,b)+"<span class='toontalk-decimal-point'>.</span>"+d};l.match=function(a){return this.get_erased&&this.get_erased()?a.match_with_any_number?a.match_with_any_number():"not matched":a.match_with_this_number?a.match_with_this_number(this):"not matched"};l.match_with_any_number=function(){return"matched"};
l.match_with_this_number=function(a){return a.equals(this)?"matched":"not matched"};return l}(window.TOONTALK);
window.TOONTALK.number_backside=function(c){return{create:function(l){var g=c.backside.create(l),e=g.get_element(),q=document.createElement("div"),m=l.numerator_string(),p=l.denominator_string(),s=c.UTILITIES.create_text_area(m,"toontalk-numerator-input","","Type here to edit the numerator"),k=c.UTILITIES.create_text_area(p,"toontalk-denominator-input","","Type here to edit the denominator"),b=c.UTILITIES.create_radio_button("number_format","decimal","toontalk-decimal-radio-button","Decimal number",
"Display number as a decimal."),d=c.UTILITIES.create_radio_button("number_format","proper_fraction","toontalk-proper-fraction-radio-button","Mixed number","Display number as an integer part and a proper fraction."),a=c.UTILITIES.create_radio_button("number_format","improper_fraction","toontalk-improper-fraction-radio-button","Improper fraction","Display number as a simple fraction."),f=c.UTILITIES.create_radio_button("number_format","scientific_notation","toontalk-scientific-notation-radio-button",
"Scientific notation","Display number as a decimal between 1 and 10 multiplied by ten to some power."),h=c.UTILITIES.create_radio_button("operator","+","toontalk-plus-radio-button","+","Add me to what I'm dropped on."),r=c.UTILITIES.create_radio_button("operator","-","toontalk-minus-radio-button","&minus;","Subtract me from what I'm dropped on."),x=c.UTILITIES.create_radio_button("operator","*","toontalk-times-radio-button","&times;","Multiply me with what I'm dropped on."),z=c.UTILITIES.create_radio_button("operator",
"/","toontalk-dividie-radio-button","&divide;","Divide me into what I'm dropped on."),v=c.UTILITIES.create_radio_button("operator","^","toontalk-power-radio-button","Integer power","Use me as the number of times to multiply together what I'm dropped on."),w=function(a){var b=s.button.value.trim(),f=k.button.value.trim();if(b!==m||f!==p)l.set_from_values(b,f),m=b,p=f,c.robot.in_training&&(a=a.srcElement.className.split(" ",1)[0],c.robot.in_training.edited(l,{setter_name:"set_from_values",argument_1:b,
argument_2:f,toString:"toontalk-denominator-input"===a?"change value of the denominator to "+f+" of the number":"change value of the numerator to "+b+" of the number",button_selector:"."+a}))},A=function(){var e=c.UTILITIES.selected_radio_button(b.button,d.button,a.button,f.button),h=e.value;l.set_format(h,!0);c.robot.in_training&&c.robot.in_training.edited(l,{setter_name:"set_format",argument_1:h,toString:"change the format to "+h+" of the number",button_selector:"."+e.className.split(" ",1)[0]})},
C=function(){var a=c.UTILITIES.selected_radio_button(h.button,r.button,x.button,z.button,v.button),b=a.value;l.set_operator(b,!0);c.robot.in_training&&c.robot.in_training.edited(l,{setter_name:"set_operator",argument_1:b,toString:"change the operator to "+b+" of the number",button_selector:"."+a.className.split(" ",1)[0]})},I=c.UTILITIES.create_horizontal_table(s.container,q,k.container),J=$(c.UTILITIES.create_horizontal_table(b.container,d.container,a.container,f.container)).buttonset().get(0),E=
$(c.UTILITIES.create_horizontal_table(h.container,r.container,x.container,z.container,v.container)).buttonset().get(0),Q=c.backside.create_advanced_settings_button(g,l),G=g.update_display;q.innerHTML="/";$(q).addClass("ui-widget");e.appendChild(I);e.appendChild(Q);s.button.addEventListener("change",w);s.button.addEventListener("mouseout",w);s.button.addEventListener("mouseenter",function(){m=s.button.value.trim();p=k.button.value.trim()});k.button.addEventListener("change",w);k.button.addEventListener("mouseout",
w);b.button.addEventListener("change",A);d.button.addEventListener("change",A);a.button.addEventListener("change",A);f.button.addEventListener("change",A);switch(l.get_format()){case "decimal":c.UTILITIES.check_radio_button(b);break;case "improper_fraction":c.UTILITIES.check_radio_button(a);break;case "mixed_number":case "proper_fraction":c.UTILITIES.check_radio_button(d);break;case "scientific_format":c.UTILITIES.check_radio_button(f)}switch(l.get_operator()){case "+":c.UTILITIES.check_radio_button(h);
break;case "-":c.UTILITIES.check_radio_button(r);break;case "*":c.UTILITIES.check_radio_button(x);break;case "/":c.UTILITIES.check_radio_button(z);break;case "^":c.UTILITIES.check_radio_button(v)}h.button.addEventListener("change",C);r.button.addEventListener("change",C);x.button.addEventListener("change",C);z.button.addEventListener("change",C);v.button.addEventListener("change",C);g.update_display=function(){$(s.button).val(l.numerator_string());$(k.button).val(l.denominator_string());G()};$(J).addClass("toontalk-advanced-setting");
$(E).addClass("toontalk-advanced-setting");e.appendChild(J);e.appendChild(E);g.add_advanced_settings();return g}}}(window.TOONTALK);window.TOONTALK.box=function(c){var l=Object.create(c.widget);l.create=function(g,e,q,m){var p=Object.create(l),s=[],k;"undefined"===typeof e&&(e=!0);p.get_horizontal=function(){return e};p.set_horizontal=function(b,c){e=b;c&&($(this.get_frontside_element()).children(".toontalk-side").remove(),this.rerender());return this};p.get_hole=function(b){return s[b]};p.get_hole_contents=function(b){return s[b].get_contents()};p.set_hole=function(b,d,a){s[b].set_contents(d);a&&(d&&d.save_dimensions(),this.update_hole_display(b,
d));this.rerender();c.debugging&&(this.debug_string=this.toString())};p.get_holes=function(){return s};p.temporarily_remove_contents=function(b,c){var a=this.get_index_of(b);this.temporarily_removed_contents||(this.temporarily_removed_contents=[]);this.temporarily_removed_contents[a]=b;this.set_hole(a,void 0,c);return function(){this.set_hole(a,b,c);this.temporarily_removed_contents[a]=void 0}.bind(this)};p.get_contents_temporarily_removed=function(b){if(this.temporarily_removed_contents)return this.temporarily_removed_contents[b]};
p.set_contents=function(b){b.forEach(function(b,a){s[a].set_contents(b)})};p.get_size=function(){return g};p.set_size=function(b,d){var a;if(g===b)return!1;s.length=b;if(b>g)for(a=g;a<b;a++)s[a]=c.box_hole.create(a),s[a].set_parent_of_frontside(p);g=b;d&&this.rerender();c.debugging&&(this.debug_string=this.toString());return!0};p.copy=function(b){var c=s.map(function(a){if(a=a.get_contents())return a.copy(b)}),c=l.create(g,e,c,this.get_description());return this.add_to_copy(c,b)};p=p.add_standard_widget_functionality(p);
for(k=0;k<g;k++)s[k]=c.box_hole.create(k),s[k].set_parent_of_frontside(p);p.set_description(m);p.set_contents(q);c.debugging&&(p.debug_string=p.toString(),p.debug_id=c.UTILITIES.generate_unique_id());return p};l.create_backside=function(){return c.box_backside.create(this)};l.equals=function(c){return c.equals_box&&c.equals_box(this)};l.equals_box=function(c){var e=this.get_size(),q,m,p;if(e!==c.get_size())return!1;for(q=0;q<e;q++)if(m=this.get_hole_contents(q),p=c.get_hole_contents(q),!m&&p||m&&
!p||m&&p&&(!m.equals||!m.equals(p)))return!1;return!0};l.compare_with=function(c){if(c.compare_with_box)return-1*c.compare_with_box(this)};l.compare_with_box=function(c){var e=this.get_size(),q=c.get_size(),m,p;if(e>q)return 1;if(e<q)return-1;for(q=0;q<e;q++){m=this.get_hole_contents(q);p=c.get_hole_contents(q);if(m&&!p)return 1;if(!m&&p)return-1;if(m&&p)if(m.compare_with){if(m=m.compare_with(p),1===m||-1===m)return m}else return}return 0};l.match=function(c){return this.get_erased&&this.get_erased()?
c.match_with_any_box?c.match_with_any_box():"not matched":c.match_with_this_box?c.match_with_this_box(this):"not matched"};l.match_with_any_box=function(){return"matched"};l.match_with_this_box=function(g){var e=this.get_size(),q=[],m,p,l;if(e!==g.get_size())return"not matched";for(m=0;m<e;m++)if(l=g.get_hole_contents(m)){p=this.get_hole_contents(m);if(!p)return"not matched";p=c.UTILITIES.match(l,p);if("not matched"===p)return"not matched";"matched"!==p&&(q=0===q.length?p:q.concat(p))}return 0<q.length?
q:"matched"};l.toString=function(){var c="",e=this.get_size(),q,m,p=this.get_type_name()+" that looks like ";for(q=0;q<e;q++)m=this.get_hole(q),c+=m.get_full_description(),q<e-1&&(c+=" | ");return p+"["+c.replace(p,"")+"]"};l.get_type_name=function(){return"box"};l.get_help_URL=function(){return"docs/manual/boxes.html"};l.get_json=function(g){var e=[],q=this.get_size(),m;for(m=0;m<q;m++)this.get_hole_contents(m)?e[m]=c.UTILITIES.get_json(this.get_hole_contents(m),g):e[m]=null;return{type:"box",size:q,
contents:e,horizontal:this.get_horizontal()}};l.walk_children=function(c){var e=this.get_size(),q;for(q=0;q<e&&c(this.get_hole(q));q++);};c.creators_from_json.box=function(g,e){return l.create(g.size,g.horizontal,c.UTILITIES.create_array_from_json(g.contents,e),g.description)};l.update_display=function(){var g=this.get_frontside(!0).get_element(),e=this.get_size(),q=function(d,e,g){var k=e.get_frontside_element(!0),p,l;m?(p=b*g,1<g&&(p+=h*(g-1)),l=0):(p=0,l=a*g,1<g&&(l+=h*(g-1)));$(d).css({left:p,
top:l,width:b,height:a});d!==k&&($(k).css({left:0,top:0,width:"",height:""}),d.appendChild(k));c.UTILITIES.has_animating_image(k)||(0<g&&($(d).removeClass("toontalk-box-eighth-size-border-left toontalk-box-quarter-size-border-left toontalk-box-half-size-border-left toontalk-box-full-size-border-left"),$(d).removeClass("toontalk-box-eighth-size-border-top toontalk-box-quarter-size-border-top toontalk-box-half-size-border-top toontalk-box-full-size-border-top"),m?$(d).addClass(f+"-left"):$(d).addClass(f+
"-top")),d.toontalk_border_size=h);e.render()},m=this.get_horizontal();$(g).is(".toontalk-box");var p=function(){var a=$(g).children(".toontalk-box-hole");a.length===e?a.each(function(a,b){q(b,this.get_hole(a),a)}.bind(this)):(a.remove(),this.get_holes().forEach(function(a,b){l=a.get_element();$(l).addClass("toontalk-hole-number-"+b);q(l,a,b);g.appendChild(l)}))}.bind(this),l,k,b,d,a,f,h;$(g).addClass("toontalk-box");$(g).removeClass("toontalk-box-eighth-size-border toontalk-box-quarter-size-border toontalk-box-half-size-border toontalk-box-full-size-border");
g.title=this.get_title();c.debugging&&(this.debug_string=this.toString());this.get_erased()?($(g).addClass("toontalk-box-erased"),$(g).children(".toontalk-side").remove()):($(g).removeClass("toontalk-box-erased"),k=$(g).width(),d=$(g).height(),m?(b=k/e,a=d):(b=k,a=d/e),32>=b||32>=a?(f="toontalk-box-eighth-size-border",h=4):64>=b||64>=a?(f="toontalk-box-quarter-size-border",h=8):128>=b||128>=a?(f="toontalk-box-half-size-border",h=16):(f="toontalk-box-full-size-border",h=32),m?b-=(e-1)*h/e:a-=(e-1)*
h/e,$(g).addClass(f),g.toontalk_border_size=h,c.UTILITIES.set_timeout(p))};l.update_hole_display=function(c,e){var l=this.get_frontside_element(),l=$(l).children(".toontalk-hole-number-"+c),m;l.empty();e&&(m=e.get_frontside_element(!0),l.append(m),$(m).css({left:0,top:0}),e.rerender())};l.drop_on=function(c,e,l){if(c.box_dropped_on_me)return e=c.box_dropped_on_me(this,l),l&&c.rerender(),this.remove(),e;if(c.widget_dropped_on_me)return c.widget_dropped_on_me(this,e,l);console.log("No handler for drop of "+
this.toString()+" on "+c.toString())};l.box_dropped_on_me=function(c,e){console.log("box on box not yet implemented");return!1};l.widget_dropped_on_me=function(g,e,l,m){var p=this.get_horizontal(),s=this.get_frontside_element(),k=this.get_size(),b,d,a;if(0!==k){d=$(s).offset();s=p?$(s).width()/k:$(s).height()/k;a=p?d.left:d.top;if(l)for(b=0;b<k;b++)if(d=this.get_hole(b),a+=s,(p?l.pageX<=a:l.pageY<=a)||b+1===k)return(p=d.get_contents())?g.drop_on(p,e,l,m):d.widget_dropped_on_me(g,e,l,m);c.UTILITIES.report_internal_error(g+
" dropped on "+this+" but no event was provided.")}};l.get_index_of=function(c){return c.get_parent_of_frontside().get_index()};l.removed_from_container=function(g,e,l,m){e=!!l;"undefined"===typeof m&&(m=this.get_index_of(g));0<=m?(this.set_hole(m,void 0,e),e&&(this.rerender(),g.restore_dimensions())):c.UTILITIES.report_internal_error("Attempted to remove "+g+" from "+this+" but not found.")};l.get_path_to=function(g,e){var l=this.get_size(),m,p;if("empty hole"===g.get_type_name())return c.box.path.create(g.get_index());
for(m=0;m<l;m++)if(p=this.get_hole_contents(m)||this.get_contents_temporarily_removed(m)){if(g===p||p.top_contents_is&&p.top_contents_is(g))return c.box.path.create(m);if(p.get_path_to&&(p=p.get_path_to(g,e)))return l=c.box.path.create(m),l.next=p,l}};l.dereference=function(g,e,l){var m,p;if(g){m=g.get_index&&g.get_index();if(!c.debugging||"number"===typeof m){if(p=this.get_hole_contents(m)){if(p.dereference_contents&&!g.not_to_be_dereferenced)return p.dereference_contents(g,e,l);if(g.next){if(p.dereference)return p.dereference(g.next,
e,l);c.UTILITIES.report_internal_error("Expected to refer to a part of "+p+" but it lacks a method to obtain "+c.path.toString(g.next))}g.removing_widget&&("empty hole"===p.get_type_name()?c.UTILITIES.report_internal_error("Robot is trying to remove something from an empty hole. "):p.get_infinite_stack()||l.remove_from_container(p,this));return p}return this.get_hole(m)}c.UTILITIES.report_internal_error(this+" unable to dereference the path: "+c.path.toString(g))}else return this};l.path={create:function(g){return{get_index:function(){return g},
toString:function(){return"scale"===this.true_type?0===g?"the left side of the scale ":"the right side of the scale ":"the "+c.UTILITIES.cardinal(g)+" hole "},get_json:function(c){return{type:"box_path",index:g,true_type:this.true_type,next:this.next&&this.next.get_json(c)}}}}};c.creators_from_json.box_path=function(g,e){var q=l.path.create(g.index);g.next&&(q.next=c.UTILITIES.create_from_json(g.next,e));g.true_type&&(q.true_type=g.true_type);return q};return l}(window.TOONTALK);
window.TOONTALK.box_backside=function(c){return{create:function(l){var g=c.backside.create(l),e=c.UTILITIES.create_text_input(l.get_size().toString(),"toontalk-box-size-input","Number of holes","Type here to edit the number of holes."),q=c.UTILITIES.create_radio_button("box_orientation","horizontal","toontalk-horizontal-radio-button","Left to right","Show box horizontally."),m=c.UTILITIES.create_radio_button("box_orientation","vertical","toontalk-vertical-radio-button","Top to bottom","Show box vertically."),
p=function(){var a=parseInt(e.button.value.trim(),10);l.set_size(a,!0)&&c.robot.in_training&&c.robot.in_training.edited(l,{setter_name:"set_size",argument_1:a,toString:"change the number of holes to "+a+" of the box",button_selector:".toontalk-box-size-input"})},s=function(){var a=c.UTILITIES.selected_radio_button(q.button,m.button),b=a.value,d="horizontal"===b;l.set_horizontal(d,!0);c.robot.in_training&&c.robot.in_training.edited(l,{setter_name:"set_horizontal",argument_1:d,toString:"change the orientation to "+
b+" of the box",button_selector:"."+a.className.split(" ",1)[0]})},k=g.get_element(),b=c.backside.create_advanced_settings_button(g,l),d=g.update_display;e.button.addEventListener("change",p);e.button.addEventListener("mouseout",p);q.button.addEventListener("change",s);m.button.addEventListener("change",s);g.update_display=function(){e.button.value=l.get_size().toString();l.get_horizontal()?c.UTILITIES.check_radio_button(q):c.UTILITIES.check_radio_button(m);d()};k.appendChild(e.container);k.appendChild($(c.UTILITIES.create_horizontal_table(q.container,
m.container)).buttonset().get(0));k.appendChild(b);g.add_advanced_settings();g.render();return g}}}(window.TOONTALK);
window.TOONTALK.box_hole=function(c){return{create:function(l){var g=Object.create(this),e,q,m;g.get_element=function(){m||(m=document.createElement("div"),m.className="toontalk-box-hole toontalk-frontside toontalk-side",m.toontalk_widget=g);return m};g.get_frontside=function(c){return e?e.get_frontside(c):this.get_element()};g.get_side_element=function(){return this.get_element()};g.get_frontside_element=function(c){return e?e.get_frontside_element(c):this.get_element()};g.get_frontside=function(){return this};
g.widget_dropped_on_me=function(e,g,k,b){g=this.get_parent_of_frontside();var d;c.robot.in_training&&c.robot.in_training.dropped_on(e,this);k&&e.save_dimensions&&(e.save_dimensions(),e.set_size_attributes&&(d=$(this.get_element()),e.set_size_attributes(d.width(),d.height())));this.set_contents(e);e.dropped_on_other&&e.dropped_on_other(this,!1,k,b);g.render();return!0};g.get_json=function(){return null};g.add_to_json=function(c){return c};g.copy=function(e){return c.box_hole.create(l)};g.match=function(){return"matched"};
g.get_type_name=function(){return"empty hole"};g.is_of_type=function(c){return"empty hole"===c};g.get_index=function(){return l};g.get_contents=function(){return e};g.set_contents=function(m){var l=this.get_listeners("value_changed");l&&(e!==m&&l.forEach(function(c){c({type:"value_changed",old_value:e,new_value:m})}),e&&l.forEach(function(c){e.remove_listener("value_changed",c,!0)}),m&&l.forEach(function(c){m.add_listener("value_changed",c)}));e&&e.set_parent_of_frontside(void 0);(e=m)?(e.set_parent_of_frontside(this),
c.debugging&&(g.debug_string="A hole containing "+e),e.set_visible(q)):c.debugging&&(g.debug_string="An empty hole")};g.visible=function(){return this.get_parent_of_frontside().visible()};g.set_visible=function(c){q=c;e&&e.set_visible(c)};g.render=function(){if(e)return e.render()};g.rerender=function(){if(e)return e.rerender()};g.removed_from_container=function(g,m,k){e?(k&&e.restore_dimensions(),this.set_contents(void 0),k&&this.get_parent_of_frontside().render()):c.UTILITIES.report_internal_error("Holes can't be removed from containers.")};
g.temporarily_remove_contents=function(c,g){if(e)return this.get_parent_of_frontside().temporarily_remove_contents(c,g)};g.toString=function(){return e?e.toString():"_"};g.get_description=function(){return e?e.get_description():"_"};g.get_full_description=function(){return e?e.get_full_description():"_"};g.is_backside=function(){return!1};g.get_widget=function(){return this};c.debugging&&(g.debug_string="An empty hole");c.widget.has_parent(g);c.widget.has_listeners(g);return g}}}(window.TOONTALK);window.TOONTALK.bird=function(c){var l=Object.create(c.widget);l.create=function(g,e){var q=Object.create(l);q.widget_dropped_on_me=function(e,p,l,k){p=p?e.get_backside():e;if(g){if(g.has_ancestor(e))return c.UTILITIES.display_message("Bird can't take its nest to its nest!"),!1;this.visible()||g.visible()||g.any_nest_copies_visible()?(e.save_dimensions(),l=this.get_frontside_element(),$(l).removeClass("toontalk-bird-gimme"),k&&(e.robot_waiting_before_next_step=k,e.remove_from_parent_of_frontside()),
g.animate_bird_delivery(p,this,k&&k.run_next_step,k)):(g.add_to_contents(p),k&&k.run_next_step())}else console.log("to do: handle drop on a nestless bird -- just removes other?");c.robot.in_training&&c.robot.in_training.dropped_on(e,this);return!0};q.animate_delivery_to=function(e,p,l,k,b,d,a){var f=!!l,h=this.get_parent_of_frontside(),r=this.get_frontside_element(),q=$(r).offset(),z=function(){var a=$(I).offset(),b;f?this.remove():(b=function(){$(r).removeClass("toontalk-bird-morph-to-static");$(r).addClass("toontalk-bird-static");
h&&h.get_widget().rerender()},r.style.position=J,a&&(q.left-=a.left,q.top-=a.top),$(r).css(q),I&&I.appendChild(r),h&&(h.get_widget().is_of_type("top-level")?this.rerender():h.get_widget().rerender()),P&&(ba.remove_backside_widget(this,!1,!0),P()),c.UTILITIES.add_animation_class(r,"toontalk-bird-morph-to-static"),c.UTILITIES.add_one_shot_event_handler(r,"animationend",1E3,b),d&&(d(),e.robot_waiting_before_next_step=void 0))}.bind(this),v=function(){A();l.add_to_contents(e,this,!0);c.UTILITIES.set_timeout(function(){this.fly_to(q,
z)}.bind(this))}.bind(this),w=function(a,b){this.element_to_display_when_flying=a;b&&(this.update_display(),b.update_display());a.width_before_carry=a.clientWidth;a.height_before_carry=a.clientHeight;c.UTILITIES.set_timeout(function(){$(this.element_to_display_when_flying).addClass("toontalk-carried-by-bird").css({left:"",top:"",width:"",height:"",position:""});this.update_display()}.bind(this))}.bind(this),A=function(a){if(this.element_to_display_when_flying){var b=this.element_to_display_when_flying.width_before_carry,
f=this.element_to_display_when_flying.height_before_carry;$(this.element_to_display_when_flying).removeClass("toontalk-carried-by-bird");a?($(this.element_to_display_when_flying).css({width:b,height:f}),$(r).closest(".toontalk-top-level-backside").append(this.element_to_display_when_flying),c.UTILITIES.set_absolute_position($(this.element_to_display_when_flying),a)):$(this.element_to_display_when_flying).remove();this.element_to_display_when_flying=void 0;this.update_display()}}.bind(this),C,I,J,
E,Q,G,P,N,K,X,ba,V;l||(l=g);X=e.get_element();w(X,e);C=p.get_widget().closest_visible_ancestor().get_widget().get_frontside_element();if(p.visible()||this.visible())if(p=$(C).offset(),G=$(l.get_frontside_element()).closest(".toontalk-top-level-backside"),G.is("*")||(G=$(this.get_frontside_element()).closest(".toontalk-top-level-backside")),(V=G.offset())||(V={left:0,top:0}),q=k?{left:k+V.left,top:b+V.top}:$(r).offset(),I=r.parentElement,E=$(r).width(),Q=$(r).height(),J=r.style.position,r.style.position=
"absolute",ba=this.top_level_widget(),h&&h.get_widget().temporarily_remove_contents&&(P=h.get_widget().temporarily_remove_contents(this,!0))&&ba.add_to_top_level_backside(this),G.append(r),$(r).css({left:k||q.left-V.left,top:b||q.top-V.top,width:E,height:Q}),(N=l.get_contents_frontside_element())&&l.visible()&&(!a||a.visible())){k=$(C).width();b=$(C).height();K=$(C).offset();V.max_left=V.left+G.width();V.max_top=V.top+G.height();p.left+=k;p.top+=b;var ka={left:Math.min(K.left+k,V.max_left-k),top:Math.min(K.top+
b,V.max_top-b)},pa={left:Math.max(K.left-k,V.left),top:Math.max(K.top-b,V.top)};C=function(){var a=function(){l.set_locked(!0);this.fly_to(K,Aa,300)}.bind(this);A(ka);l.get_locked()?l.run_when_unlocked(a):a()}.bind(this);var Aa=function(){w(N);this.fly_to(pa,ha,300)}.bind(this),ha=function(){A(pa);this.fly_to(ka,sa,300)}.bind(this),sa=function(){w(X,e);this.fly_to(K,ta,300)}.bind(this),ta=function(){A(K);this.fly_to(pa,ua,300)}.bind(this),ua=function(){w(N);this.fly_to(K,ca,300)}.bind(this),ca=function(){l.set_locked(!1);
A();l.update_display();v()}.bind(this);this.fly_to(ka,C,300)}else this.fly_to(p,v,300);else l.add_to_contents(e,this,!0)};q.get_json=function(e){return{type:"bird",nest:g&&c.UTILITIES.get_json(g,e)}};q.copy=function(c){var e;e=c?this.create(void 0,this.get_description()):this.create(g,this.get_description());return this.add_to_copy(e,c)};q=q.add_standard_widget_functionality(q);q.set_description(e);c.debugging&&(q.debug_id=c.UTILITIES.generate_unique_id(),q.debug_string=g?"a bird with "+g.debug_string:
"a bird without a nest");return q};l.create_backside=function(){return c.bird_backside.create(this)};l.match=function(c){return c.match_with_any_bird?c.match_with_any_bird(this):"not matched"};l.match_with_any_bird=function(){return"matched"};l.update_display=function(){var g=this.get_frontside(!0),e=this.get_backside(),l;l=g.get_element();l.title=this.get_title();$(l).is(".toontalk-bird, .toontalk-side-animating")||($(l).addClass("toontalk-bird toontalk-bird-static"),l.addEventListener("dragover",
function(e){$(l).is(".toontalk-bird-static")&&($(l).removeClass("toontalk-bird-static"),c.UTILITIES.add_animation_class(l,"toontalk-bird-gimme"))}),l.addEventListener("dragleave",function(c){$(l).is(".toontalk-bird-gimme")&&$(l).addClass("toontalk-bird-static").removeClass("toontalk-bird-gimme")}));this.element_to_display_when_flying?l.appendChild(this.element_to_display_when_flying):$(l).children(".toontalk-side").remove();e&&e.rerender()};l.fly_to=function(g,e,l){var m=this.get_frontside_element(),
p=$(m).offset(),p=Math.atan2(g.top-p.top,g.left-p.left),s="toontalk-fly-west toontalk-fly-northwest toontalk-fly-north toontalk-fly-northeast toontalk-fly-east toontalk-fly-southeast toontalk-fly-south toontalk-fly-southwest".split(" ")[Math.round(4*(p/Math.PI+1))%8];$(m).position();c.UTILITIES.add_animation_class(m,s);this.animate_to_absolute_position(g,function(){$(m).removeClass(s);l?($(m).addClass("toontalk-bird-static"),setTimeout(e,l)):e()})};l.toString=function(){return"a bird"};l.get_type_name=
function(){return"bird"};l.get_help_URL=function(){return"docs/manual/birds-nests.html"};l.matching_resource=function(c){return c.get_type_name&&c.get_type_name()===this.get_type_name()};c.creators_from_json.bird=function(g,e){return c.bird.create(c.UTILITIES.create_from_json(g.nest,e),g.description)};l.drop_on=function(c,e,l,m){if(c.widget_dropped_on_me)return c.widget_dropped_on_me(this,!1,l,m)};return l}(window.TOONTALK);
window.TOONTALK.bird_backside=function(c){return{create:function(l){l=c.backside.create(l);l.add_advanced_settings(!0);return l}}}(window.TOONTALK);
window.TOONTALK.nest=function(c){var l=Object.create(c.widget),g={},e={};l.create=function(e,m,p,s,k){var b=Object.create(l),d;m||(m=[]);p||(p=[]);b.matched_by=function(a){return 0<m.length?c.UTILITIES.match(a,m[0].get_widget()):[this]};b.run_when_non_empty=function(a){p.push(a)};b.add_to_contents=function(a,b,e){var g;1===m.push(a)?0<p.length&&(g=p,p=[],g.forEach(function(a){$(a.robot.get_frontside_element()).removeClass("toontalk-robot-waiting");a.robot.run(a.context,a.top_level_context,a.queue)})):
a.get_widget().hide();a.is_backside()?a.get_widget().set_parent_of_backside(this):a.get_widget().set_parent_of_frontside(this);d&&!e&&(b?d.forEach(function(d){d.has_ancestor(a.get_widget())||d.animate_bird_delivery(c.UTILITIES.copy_side(a),b)}):d.forEach(function(b){b.has_ancestor(a.get_widget())||b.add_to_contents(c.UTILITIES.copy_side(a,!1,!0))}));this.rerender()};b.animate_bird_delivery=function(a,b,e,g){var k,m,p;b.animate_delivery_to(a,this,void 0,void 0,void 0,e,g);d&&(k=$(b.closest_visible_ancestor().get_widget().get_frontside_element()).closest(":visible").position(),
m=b.get_parent_of_frontside().get_element(),p=this.visible(),d.forEach(function(d){var e=c.UTILITIES.copy_side(a,!1,p),h,l;d.has_ancestor(a.get_widget())||(d.visible()||p?(h=b.copy(!0),l=h.get_frontside_element(!0),$(m).append(l),h.animate_delivery_to(e,d,d,k.left,k.top,void 0,g)):d.add_to_contents(e))}))};b.get_contents_frontside_element=function(){if(0<m.length)return m[0].get_widget().get_frontside_element()};b.get_locked=function(){return this.locked_for_animating_deliveries};b.set_locked=function(a){this.locked_for_animating_deliveries=
a;!a&&this.to_run_when_unlocked&&0<this.to_run_when_unlocked.length&&this.to_run_when_unlocked.shift()()};b.run_when_unlocked=function(a){this.to_run_when_unlocked?this.to_run_when_unlocked.push(a):this.to_run_when_unlocked=[a]};b.removed_from_container=function(a,b,d){a=m.shift();this.visible()&&(a?(a.get_widget().restore_dimensions(),a.is_backside()?a.get_widget().set_parent_of_backside(void 0):a.get_widget().set_parent_of_frontside(void 0)):c.UTILITIES.report_internal_error("Nothing removed from nest!"),
0<m.length&&(m[0].set_visible(!0),$(m[0].get_element()).show()),this.render());return a};b.dereference_contents=function(a,b,c){var d,e,g,k;return 0===m.length?this:a.removing_widget?(a=m[0],c.remove_from_container(a,this),this.visible()&&(g=this.get_frontside_element(),c=$(g).offset(),b=$(g).closest(".toontalk-backside-of-top-level"),(d=b.offset())||(d={left:0,top:0}),e=a.get_frontside_element(),k=$(g).width(),g=$(g).height(),$(e).css({left:.1*k+c.left-d.left,top:.1*g+c.top-d.top,width:.8*k,height:.8*
g}),b.append(e)),a):a.next?m[0].get_widget().dereference(a.next,b,c):m[0].get_widget()};b.get_json=function(a){var b=p&&p.map(function(b){return{robot:c.UTILITIES.get_json(b.robot,a),context:b.context&&c.UTILITIES.get_json(b.context,a),top_level_context:b.top_level_context&&c.UTILITIES.get_json(b.top_level_context,a)}});return{type:"nest",contents:c.UTILITIES.get_json_of_array(m,a),guid:s,original_nest:k&&c.UTILITIES.get_json(k,a),waiting_robots:b}};b.copy=function(a,b){var d,e;if(a)return 0<m.length?
m[0].get_widget().copy(a):c.nest.create(this.get_description(),[],[],"in a robot's condition");d=c.UTILITIES.copy_widget_sides(m);b||(e=k||this);d=c.nest.create(this.get_description(),d,[],s,e);return this.add_to_copy(d,a)};b.has_contents=function(){return 0<m.length};b.dropped_on_other=function(a,f,d,e){var g,k,m,p,l,q,I;s||(s=c.UTILITIES.generate_unique_id(),c.debugging&&(b.debug_string="A nest with "+s),g=c.bird.create(this),e&&(e.add_newly_created_widget(g),this.robot_waiting_before_next_step=
e),this.rerender(),k=this.get_frontside_element(!0),c.UTILITIES.add_animation_class(k,"toontalk-hatch-egg"),l=function(){var b,l,s;if(f)b=a.get_backside();else if((s=c.UTILITIES.widget_from_jquery($(k).closest(".toontalk-top-level-backside")))||(s=c.UTILITIES.widget_from_jquery($(a.get_widget().get_frontside_element(!0)).closest(".toontalk-top-level-backside"))),s)b=s.get_backside();else{c.UTILITIES.report_internal_error("Unable to find the top-level backside for bird to go to.");return}l=b.get_element();
s=$(l).offset();m=g.get_frontside_element(!0);$(m).removeClass("toontalk-bird-static");c.UTILITIES.add_animation_class(m,"toontalk-fly-southwest");p=c.UTILITIES.relative_position(k,l);$(m).css({left:p.left,top:p.top});c.robot.in_training?(c.robot.in_training.add_newly_created_widget(g),b.widget_dropped_on_me(g,!1,d,void 0,!0)):b.widget_dropped_on_me(g,!1,d);$(k).removeClass("toontalk-hatch-egg").addClass("toontalk-empty-nest").css({width:"",height:""});"top-level"===this.get_parent_of_frontside().get_widget().get_type_name()&&
$(k).css({left:p.left-5,top:p.top+45});I=function(){$(m).removeClass("toontalk-fly-southwest");c.UTILITIES.set_timeout(function(){c.UTILITIES.add_animation_class(m,"toontalk-fly-down");q=function(){$(m).removeClass("toontalk-fly-down");c.UTILITIES.add_animation_class(m,"toontalk-bird-morph-to-static");c.UTILITIES.add_one_shot_event_handler(m,"animationend",1E3,function(){$(m).removeClass("toontalk-bird-morph-to-static toontalk-side-animating").addClass("toontalk-bird-static")});e&&e.run_next_step();
g.update_display()};c.UTILITIES.add_one_shot_event_handler(k,"animationend",1E3,q)}.bind(this))}.bind(this);$(m).removeClass("toontalk-bird-static");b=Math.max(10,p.left-70);l=Math.max(10,p.top+70);g.animate_to_absolute_position({left:b+s.left,top:l+s.top},I);this.rerender()}.bind(this),c.UTILITIES.add_one_shot_event_handler(k,"animationend",2E3,l));return!0};b.widget_dropped_on_me=function(a,b,d,e){d&&a.save_dimensions&&a.save_dimensions();0===m.length?(this.add_to_contents(b?a.get_backside():a),
a.dropped_on_other?a.dropped_on_other(this,b,d,e):c.robot.in_training&&c.robot.in_training.dropped_on(a,this)):a.drop_on(m[0].get_widget(),b,d,e);return!0};b.drop_on=function(a,b,c,d){return a.widget_dropped_on_me?(a.widget_dropped_on_me(this,!1,c,d),!0):!1};b.element_to_highlight=function(a){return 0===m.length?this.get_frontside_element():m[0].get_frontside_element()};b.update_display=function(){var a=this.get_frontside(!0),b=this.get_backside(),d,e,g,k,p,a=a.get_element();0<m.length?(d=m[0].get_widget(),
m[0].is_backside()?(k=d.get_backside(!0),p=k.get_element(),k.update_display(),k.scale_to_fit(p,a)):(d.render(),p=m[0].get_element()),e=$(a).width(),g=$(a).height(),0<e&&0<g&&c.UTILITIES.set_timeout(function(){for(var a=2*p.toontalk_border_size||0,b=.8*e,c=.8*g;2*a>=b||2*a>=c;)a/=2;b-=a;c-=a;$(p).css({width:b,height:c,left:.1*e,top:.1*g});d.set_size_attributes&&d.set_size_attributes(b,c)},2),a.appendChild(p),$(a).addClass("toontalk-empty-nest"),m[0].is_backside()?d.set_parent_of_backside(this):d.set_parent_of_frontside(this)):
(a.title=this.get_title(),s?($(a).removeClass("toontalk-nest-with-egg"),$(a).addClass("toontalk-empty-nest")):c.UTILITIES.add_animation_class(a,"toontalk-nest-with-egg"));$(a).addClass("toontalk-nest");b&&b.rerender()};b[g]=function(a){d||(d=[]);d.push(a)};b.get_path_to=function(a,b){if(0<m.length&&m[0].get_widget().get_path_to)return m[0].get_widget().get_path_to(a,b)};b.walk_children=function(a){if(0<m.length)return a(m[0])};b.top_contents_is=function(a){return 0<m.length&&m[0].get_widget()===a};
b.any_nest_copies_visible=function(){var a=!1;if(!d)return!1;d.some(function(b){b.visible()&&(a=!0)});return a};b.compare_with=function(a){if(0<m.length)return m[0].compare_with(a);if(a.compare_with_nest)return-1*a.compare_with_nest(this)};b.compare_with_nest=function(a){return 0===m.length?0:1};b.compare_with_number=function(a){return 0<m.length?m[0].compare_with(a):-1};b.compare_with_box=b.compare_with_number;b.compare_with_scale=b.compare_with_number;b=b.add_standard_widget_functionality(b);b.set_description(e);
c.debugging&&(b.debug_id=c.UTILITIES.generate_unique_id(),b.debug_string=s?"A nest with id "+s:"A nest with an egg");if(k&&s)k[g](b);return b};l.create_backside=function(){return c.nest_backside.create(this)};l.match=function(c){return c.match_nest_with_nest?c.match_nest_with_nest(this):"not matched"};l.match_nest_with_nest=function(c){return"matched"};l.toString=function(){return"a nest"};l.get_help_URL=function(){return"docs/manual/birds-nests.html"};l.get_type_name=function(){return"nest"};l.matching_resource=
function(c){return c.get_type_name&&c.get_type_name()===this.get_type_name()};c.creators_from_json.nest=function(g,m){var p=!g.original_nest&&g.guid&&e[g.guid];p||(p=c.nest.create(g.description,c.UTILITIES.create_array_from_json(g.contents,m),void 0,g.guid,g.original_nest&&c.UTILITIES.create_from_json(g.original_nest,m)),e[g.guid]=p);return p};return l}(window.TOONTALK);window.TOONTALK.nest_backside=function(c){return{create:function(l){l=c.backside.create(l);l.add_advanced_settings(!0);return l}}}(window.TOONTALK);window.TOONTALK.scale=function(c){var l=Object.create(c.widget);l.create=function(g,e,l,m){var p=function(){l.rerender()},s=function(a){var b=$(l.get_frontside_element()),b=b.offset().left+b.width()/2;return a.clientX<b?0:1},k,b,d;l||(l=c.box.create(2,void 0,g,e));k=l.get_json;b=l.copy;d=l.get_path_to;l.copy=function(a){var f=b.call(this,a),f=c.scale.create(void 0,void 0,f,a&&this.get_state());return l.add_to_copy(f,a)};l.get_json=function(a){a=k.call(this,a);a.type="scale";a.inactive_state=this.get_inactive_state();
return a};l.get_path_to=function(a,b){var c=d.call(this,a,b);c&&(c.true_type="scale");return c};l.element_to_highlight=function(a){a=s(a);a=this.get_hole(a);var b=a.get_contents();return b?b.get_frontside_element():a.get_frontside_element()};l.drop_on=function(a,b,c,d){if(a.widget_dropped_on_me)return a.widget_dropped_on_me(this,b,c,d)};l.widget_dropped_on_me=function(a,b,c,d){var e=this.get_hole_contents(0),g=this.get_hole_contents(1),k;if(e&&!g)return this.set_hole(1,a),!0;if(!e&&g)return this.set_hole(0,
a),!0;k=s(c);if(0===k){if(e){if(e.drop_on)return a.drop_on(e,b,c,d);return}}else if(g){if(g.drop_on)return a.drop_on(g,b,c,d);return}this.set_hole(k,a,c);return!0};l.get_inactive_state=function(){return m};l.update_display=function(){var a=this.get_frontside_element(),b=$(a),d=$(a).children(".toontalk-scale-half"),e=$(a).parent(),e=e.is(".toontalk-backside")?a:e.get(0),g=$(e).width(),k=$(e).height(),m=function(a,b,c){var f=b.get_frontside_element(!0),d=c*g*.5,e=.5*g,h=k;b=b.get_contents();$(a).css({left:d,
top:0,width:e,height:h});a!==f&&(d=0===c?-.05*g:.15*g,c="toontalk-scale-balanced"===l?.1*k:0===c&&"toontalk-scale-left_heavier"===l||1===c&&"toontalk-scale-right_heavier"===l?.25*k:1===c&&"toontalk-scale-left_heavier"===l||0===c&&"toontalk-scale-right_heavier"===l?-.1*k:.2*k,e=.4*g,h=.4*k,$(f).css({left:d,top:c,width:e,height:h}),b&&(b.set_location_attributes&&b.set_location_attributes(d,c),b.set_size_attributes&&b.set_size_attributes(e,h)),a.appendChild(f))},l,e=c.UTILITIES.scale_to_fit(a,e,123,
91);0===g&&(g=1);0===k&&(k=1);g/=e.x_scale;k/=e.y_scale;b.is(".toontalk-top-level-resource")?l="toontalk-scale-balanced":(e=this.get_state(),l="undefined"===typeof e?"toontalk-scale-unbalanced":["toontalk-scale-right_heavier","toontalk-scale-balanced","toontalk-scale-left_heavier"][e+1]);b.removeClass("toontalk-scale-balanced toontalk-scale-left_heavier toontalk-scale-right_heavier toontalk-scale-unbalanced");b.addClass(l);b.addClass("toontalk-scale");2===d.length?d.each(function(a,b){c.UTILITIES.set_timeout(function(){m(b,
this.get_hole(a),a)}.bind(this))}.bind(this)):this.get_holes().forEach(function(b,c){var f=b.get_element();0===c?$(f).addClass("toontalk-left_scale  toontalk-scale-half"):$(f).addClass("toontalk-right_scale toontalk-scale-half");m(f,b,c);a.appendChild(f)});a.title=this.get_title();c.debugging&&(this.debug_string=this.toString())};l.get_type_name=function(){return"scale"};l.get_help_URL=function(){return"docs/manual/scales.html"};l.toString=function(){var a=this.get_hole(0),b=this.get_hole(1),d;switch(this.get_state()){case -1:d=
"scale leaning to the right";break;case 1:d="scale leaning to the left";break;case 0:d="balanced scale";break;default:d="unbalanced scale"}a=a?"contains "+c.UTILITIES.add_a_or_an(a.get_full_description()):"is empty";b=b?"contains "+c.UTILITIES.add_a_or_an(b.get_full_description()):"is empty";return d+" and the left pan "+a+" and the right pan "+b};l.create_backside=function(){return c.scale_backside.create(this)};l.get_state=function(){var a=this.get_inactive_state(),b;if(a)return a;a=this.get_hole_contents(0);
b=this.get_hole_contents(1);if(a||b)if(a){if(!b)return 1;if(a.compare_with)return a.compare_with(b)}else return-1};l.match=function(a){return a.match_with_scale?a.match_with_scale(this):"not matched"};l.match_with_scale=function(a){return this.get_state()===a.get_state()?"matched":"not matched"};l.compare_with=function(a){if(a.compare_with_scale)return-1*a.compare_with_scale(this)};l.compare_with_scale=function(a){var b=this.get_state();a=a.get_state();return b&&!a?1:!b&&a?-1:b>a?1:b<a?-1:0};l.get_hole(0).add_listener("value_changed",
p);l.get_hole(1).add_listener("value_changed",p);l.get_hole_contents(0)&&l.get_hole_contents(0).add_listener("value_changed",p);l.get_hole_contents(1)&&l.get_hole_contents(1).add_listener("value_changed",p);return l};c.creators_from_json.scale=function(g,e){return l.create(c.UTILITIES.create_array_from_json(g.contents,e),g.description,void 0,g.inactive_state)};return l}(window.TOONTALK);
window.TOONTALK.scale_backside=function(c){return{create:function(l){l=c.backside.create(l);l.add_advanced_settings(!0);return l}}}(window.TOONTALK);window.TOONTALK.robot=function(c){var l=Object.create(c.widget);l.create=function(g,e,q,m,p,s,k){var b=Object.create(l),d,a=!1;q||(q=c.actions.create());d||(d=b);b.get_frontside_conditions=function(){return g};b.set_frontside_conditions=function(a){g=a};b.get_backside_conditions=function(){return e};b.set_backside_conditions=function(a){(e=a)&&c.UTILITIES.available_types.forEach(function(a){e[a]&&c.widget.erasable(e[a])})};b.add_to_backside_conditions=function(a){var b=a.copy(!0);e||(e={});e[a.get_type_name()]=
b;c.widget.erasable(b)};b.get_body=function(){return q};b.get_animating=function(){return a};b.set_animating=function(b,d){var e=this.get_frontside_element();(a=b)?(d||(d=$(e).offset()),$(e).addClass("toontalk-robot-animating toontalk-side-animating"),$(e).css({width:"",height:"","z-index":c.UTILITIES.next_z_index()}),c.UTILITIES.set_position_relative_to_top_level_backside($(e),d),$(e).closest(".toontalk-top-level-backside").append(e)):$(e).removeClass("toontalk-robot-animating toontalk-side-animating")};
b.get_thing_in_hand=function(){return p};b.set_thing_in_hand=function(a){c.debugging&&a&&"empty hole"===a.get_type_name()?c.UTILITIES.report_internal_error("Robot trying to pick up an empty hole."):p=a};b.get_next_robot=function(){return k};b.set_next_robot=function(a){var b=this.get_backside_element();a&&a.set_first_in_team(this.get_first_in_team());!a&&k&&k.set_first_in_team(k);k=a;b&&(a=a?"When the robot can't run then this one will try: ":window.TOONTALK.robot.empty_drop_area_instructions,$(b).find(".toontalk-drop-area-instructions").get(0).innerHTML=
a)};b.get_first_in_team=function(){return d};b.set_first_in_team=function(a){d=a;k&&k.set_first_in_team(a)};b.walk_children=function(a){(!k||a(k))&&this.get_frontside_conditions()&&a(this.get_frontside_conditions())};b.get_run_once=function(){return s};b.set_run_once=function(a){s=a};k&&b.set_next_robot(k);b=b.add_standard_widget_functionality(b);b.set_description(m);c.debugging&&(this.debug_id=c.UTILITIES.generate_unique_id());return b};l.create_backside=function(){return c.robot_backside.create(this)};
l.copy=function(g){var e=this.get_frontside_conditions(),l=this.get_backside_conditions(),e=e?e.copy(!0):void 0,m=this.get_next_robot(),m=m?m.copy(g):void 0,p;l&&(p={},c.UTILITIES.available_types.forEach(function(c){p[c]&&(p[c]=p[c].copy(!0))}));l=this.create(e,p,this.get_body().copy(),this.get_description(),this.get_thing_in_hand(),this.get_run_once(),m);return this.add_to_copy(l,g)};l.match=function(){console.log("Robot-to-robot matching could be more sophisticated.");return"matched"};l.run=function(g,
e,l){var m=this.get_frontside_conditions(),p,s,k;if(this.being_trained||!m||this.get_animating())return"not matched";this.match_status=c.UTILITIES.match(m,g);(s=m.get_frontside_element())&&("matched"===this.match_status?$(s).removeClass("toontalk-conditions-not-matched"):$(s).addClass("toontalk-conditions-not-matched"));"matched"===this.match_status?(p=this.get_backside_conditions())&&(m=g.get_backside_widgets())&&m.some(function(b){var d=!b.is_backside()&&p[b.get_widget().get_type_name()];if(d&&
(b=c.UTILITIES.match(d,b.get_widget()),(s=d.get_frontside_element())&&("matched"===b?$(s).removeClass("toontalk-conditions-not-matched"):$(s).addClass("toontalk-conditions-not-matched")),"matched"!==b))return this.match_status=b,!0}.bind(this)):this.match_status||(this.match_status="not matched");switch(this.match_status){case "matched":return l||(l=c.QUEUE),this.get_body().reset_newly_created_widgets(),l.enqueue({robot:this,context:g,top_level_context:e,queue:l}),this.match_status;case "not matched":return this.get_next_robot()?
this.get_next_robot().run(g,e,l):this.match_status;default:if(this.get_next_robot()){m=this.get_next_robot().run(g,e,l);if("matched"===m)return m;"not matched"!=m&&m.forEach(function(b){0>this.match_status.indexOf(b)&&this.match_status.push(b)})}this.get_first_in_team()===this&&(k={robot:this,context:g,top_level_context:e,queue:l},this.match_status.forEach(function(b){b.run_when_non_empty(k)}),c.UTILITIES.add_animation_class(this.get_frontside_element(),"toontalk-robot-waiting"));return this.match_status}};
l.set_stopped=function(c){(this.stopped=c)&&this.visible()&&$(this.get_frontside_element()).removeClass("toontalk-robot-waiting");this.get_next_robot()&&this.get_next_robot().set_stopped(c)};l.run_actions=function(c,e,l){return this.stopped?!1:this.visible()?this.get_body().run_watched(c,e,l,this):this.get_body().run_unwatched(c,e,l,this)};l.picked_up=function(g,e,l){var m;this!==g&&(g.get_infinite_stack&&g.get_infinite_stack()?this.current_action_name="pick up a copy of":this.current_action_name=
"pick up",l?(m=g,e=g.copy(),e=c.path.get_path_to_resource(e)):e=c.path.get_path_to(g,this),e&&this.add_step(c.robot_action.create(e,this.current_action_name),m),g.last_action=this.current_action_name,this.current_action_name=void 0,this.set_thing_in_hand(g))};l.dropped_on=function(g,e){var l;this!==g&&(this.current_action_name="drop it on",(l=c.path.get_path_to(e,this))&&this.add_step(c.robot_action.create(l,this.current_action_name)),g.last_action=this.current_action_name+" "+e.get_type_name(),this.current_action_name=
void 0,this.set_thing_in_hand(void 0))};l.copied=function(g,e,l){this.current_action_name=l?"pick up a copy of":"copy";(g=c.path.get_path_to(g,this))&&this.add_step(c.robot_action.create(g,this.current_action_name),e);e.last_action=this.current_action_name;this.current_action_name=void 0};l.removed=function(g){var e;this.current_action_name="remove";(e=c.path.get_path_to(g,this))&&this.add_step(c.robot_action.create(e,this.current_action_name));g.last_action=this.current_action_name;this.current_action_name=
void 0};l.edited=function(g,e){var l;this.current_action_name="edit";(l=c.path.get_path_to(g,this))&&this.add_step(c.robot_action.create(l,this.current_action_name,e));this.current_action_name=void 0};l.erased_widget=function(g,e){var l;this.current_action_name="erased_widget";(l=c.path.get_path_to(g,this))&&this.add_step(c.robot_action.create(l,this.current_action_name,{erased:e,toString:e?"erase":"un-erase"}));this.current_action_name=void 0};l.remove_from_container=function(g,e){var l=e.get_index_of&&
e.get_index_of(g),m=function(){g.get_parent_of_frontside()&&e.removed_from_container(g,!1,!0,l)};this.get_animating()?c.UTILITIES.add_one_shot_event_handler(this.get_frontside_element(),"transitionend",2500,m):m();this.add_newly_created_widget(g)};l.add_step=function(c,e){this.get_body().add_step(c,e);this.get_frontside_element().title=this.get_title()};l.get_context=function(){var g=this.get_frontside_element(),e=$(g).parent(),g=c.UTILITIES.widget_from_jquery(e);return!g&&(e=c.UTILITIES.widget_from_jquery(e.closest(".toontalk-backside-of-robot")))?
e.get_context():g};l.training_started=function(){var g=this.get_context();g?(this.being_trained=!0,this.set_frontside_conditions(g.copy(!0)),$("*").css({cursor:"url("+c.UTILITIES.absolute_file_path("images/RB19.32x32.PNG")+"), default"}),this.get_frontside_element().title=this.get_title(),g=this.get_backside_element(),$(g).find(".toontalk-conditions-panel").remove()):c.UTILITIES.report_internal_error("Robot started training but can't find its 'context'.")};l.training_finished=function(){var g=this.get_body().get_newly_created_widgets(),
e,l;$("*").css({cursor:""});for(e=0;e<g.length;e++)l=g[e],"drop it on top-level"!==l.last_action&&"copy"!==l.last_action||this.add_step(c.robot_action.create(c.newly_created_widgets_path.create(e),"add to the top-level backside"));this.rerender();this.being_trained=!1;this.get_frontside_element().title=this.get_title();this.backup_all()};l.update_display=function(){var g=this.get_frontside(!0),e=this.get_backside(),l=this.get_thing_in_hand(),m,p;c.debugging&&(this.debug_string=this.toString());m=
g.get_element();l&&(p=l.get_frontside_element());!p&&this.carrying_tool&&(p=document.createElement("div"),$(p).addClass(this.carrying_tool));m.title=this.get_title();$(m).addClass("toontalk-robot");$(m).children(".toontalk-side, .toontalk-held-by-robot").remove();p&&m.appendChild(p);"not matched"===this.match_status?$(m).addClass("toontalk-side-animating toontalk-robot-not-matched"):$(m).removeClass("toontalk-robot-not-matched");c.UTILITIES.set_timeout(function(){var c,e,b,d,a;p&&(a={position:"absolute"},
$(p).addClass("toontalk-held-by-robot"),c=$(p).width(),e=$(p).height(),b=$(m).width(),d=$(m).height(),0===c&&(c=2*b,e=d/2,a.width=c,a.height=e),a.left=(b-c)/2,a.top=(d-e)/2,$(p).css(a),l&&l.render())});e&&e.rerender()};l.add_newly_created_widget=function(c){return this.get_body().add_newly_created_widget(c)};l.add_newly_created_widget_if_new=function(c){if(c!==this.get_context())return this.get_body().add_newly_created_widget_if_new(c)};l.get_recently_created_widget=function(){var c=this.get_body().get_newly_created_widgets();
return c[c.length-1]};l.get_title=function(){var c=this.get_description();if(c)return c="This robot "+c,0>c.lastIndexOf(".")&&(c+="."),c+"\n"+this.toString();c=this.get_frontside_element();return $(c).is(".toontalk-top-level-resource")?"Drag this robot to a work area.":this.toString()};l.toString=function(){var g=this.get_frontside_conditions(),e=this.get_body(),l="",m="",p=this.get_next_robot();if(!g)return"has yet to be trained.";g=g.get_full_description();this.being_trained&&(l="is being trained.\n",
m="\n...");g=c.UTILITIES.add_a_or_an(g);e=l+"When working on something that matches "+g+" he will \n"+e.toString()+m;"not matched"===this.match_status&&(e="He isn't running because his conditions don't match. Click to edit his conditions.\n"+e);p&&(e+="\nIf it doesn't match then the next robot will try to run.\n"+p.toString());return e};l.get_type_name=function(){return"robot"};l.get_help_URL=function(){return"docs/manual/robots.html"};l.get_json=function(g){var e=this.get_frontside_conditions(),
l=this.get_backside_conditions(),m,p,s;e&&(m=e.is_of_type("top-level")?{type:"top_level"}:c.UTILITIES.get_json(e,g));l&&c.UTILITIES.available_types.forEach(function(e){l[e]&&(p||(p={}),p[e]=c.UTILITIES.get_json(l[e],g))});this.get_next_robot()&&(s=c.UTILITIES.get_json(this.get_next_robot(),g));return{type:"robot",frontside_conditions:m,backside_conditions:p,body:this.get_body().get_json(g),run_once:this.get_run_once(),next_robot:s}};c.creators_from_json.robot=function(g,e){var l,m,p;g.thing_in_hand&&
(m=c.UTILITIES.create_from_json(g.thing_in_hand,e));g.next_robot&&(l=c.UTILITIES.create_from_json(g.next_robot,e));g.backside_conditions&&(p={},c.UTILITIES.available_types.forEach(function(m){p[m]=c.UTILITIES.create_from_json(g.backside_conditions[m],e)}));return c.robot.create(c.UTILITIES.create_from_json(g.frontside_conditions||g.bubble,e),p,c.UTILITIES.create_from_json(g.body,e),g.description,m,g.run_once,l)};return l}(window.TOONTALK);
window.TOONTALK.robot_backside=function(c){var l=function(e,g,m,l){e=c.UTILITIES.create_text_element(e);var s=g.get_frontside_element(!0),k=document.createElement("div");$(s).addClass("toontalk-conditions-contents "+l);c.UTILITIES.set_timeout(function(){$(s).parent().addClass("toontalk-conditions-contents-container");$(s).css({left:"inherit",width:"inherit",height:"inherit"});g.render()});"not matched"===m.match_status?$(s).addClass("toontalk-conditions-not-matched"):$(s).removeClass("toontalk-conditions-not-matched");
k.appendChild(s);m=c.UTILITIES.create_horizontal_table(e,k);$(m).addClass("toontalk-conditions-panel");return m},g=function(e,g){var m=g.get_frontside_conditions(),p=g.get_backside_conditions(),s,k;m&&0===$(e).find(".toontalk-frontside-conditions-area").length&&(e.insertBefore(l("Runs only if the widget matches: ",m,g,"toontalk-frontside-conditions-area"),e.firstChild),m.set_visible(!0),m.render());p&&Object.keys(p).forEach(function(b){if(s=p[b])k="toontalk-backside-"+b+"-conditions-area",0===$(e).find("."+
k).length&&(b="bird"===b?c.UTILITIES.create_text_element("And there is a bird on the back."):l("Runs only if the "+b+" on the backside matches: ",s,g,k),e.insertBefore(b,e.firstChild.nextSibling),s.set_visible(!0),s.render())})};return{create:function(e){var l=c.backside.create(e),m=l.get_element(),p=c.UTILITIES.create_check_box(!e.get_run_once(),"toontalk-run-once-check-box","When finished start again","Check this if you want the robot to start over again after finishing what he was trained to do."),
s=c.UTILITIES.create_drop_area(window.TOONTALK.robot.empty_drop_area_instructions),k=e.get_next_robot(),b=c.backside.create_advanced_settings_button(l,e),d=l.update_display;s.data("drop_area_owner",e);$(p.button).click(function(a){var b=p.button.checked;e.set_run_once(!b);c.robot.in_training&&c.robot.in_training.edited(e,{setter_name:"set_run_once",argument_1:!b,toString:"change to "+(b?"run again":"run once")+" of the robot",button_selector:".toontalk-run-once-check-box"});a.stopPropagation()});
k&&s.append(k.get_frontside_element(!0));s.get(0).addEventListener("drop",function(a){a=c.UTILITIES.get_dragee();(a=c.UTILITIES.widget_from_jquery(a))&&a.is_of_type("robot")&&(a=a.open_backside(),$(a.get_element()).find(".toontalk-train-backside-button").click())});l.update_display=function(){var a=e.get_frontside_element();a&&(a.title=e.get_title());d()};m.appendChild(this.create_train_button(l,e));m.appendChild(b);$(p.container).addClass("toontalk-advanced-setting");s.addClass("toontalk-advanced-setting");
m.appendChild(p.container);m.appendChild(s.get(0));g(m,e);l.add_advanced_settings();return l},create_train_button:function(e,l){var m=e.get_element();$(m);var p=$("<button>Train</button>").button();p.addClass("toontalk-train-backside-button");var s=!1,k=function(){s?(p.button("option","label","Stop training"),p.attr("title","Click to stop training this robot.")):l.get_body().is_empty()?(p.button("option","label","Train"),p.attr("title","Click to start training this robot.")):(p.button("option","label",
"Re-train"),p.attr("title","Click to start training this robot all over again."));$(m).is(":visible")&&g(m,l)};k();p.click(function(b){s=!s;k();s?(l.get_body().reset_steps(),c.robot.in_training=l,l.training_started()):(l.training_finished(),c.robot.in_training=null);b.stopPropagation()});return p.get(0)}}}(window.TOONTALK);window.TOONTALK.robot.empty_drop_area_instructions="Drop a robot here who will try to run when this robot can't run.";(function(){var c=function(c){return"rotate"===c||"skewX"===c||"skewY"===c||"transform-origin-x"===c||"transform-origin-y"===c};window.TOONTALK.element=function(l){var g=["left","top","width","height"],e=Object.create(l.widget),q=function(c,e){var g,k;"number"===typeof c&&(k=c);0===c.length&&(k=0);if("undefined"===typeof k&&(g=c.substring(c.length-1),0<="0123456789x".indexOf(g)&&(k=parseFloat(c),isNaN(k))))return;g=k;0<=["rotate","skewX","skewY"].indexOf(e)&&(g%=360,0>g&&(g+=360));return g};e.create=
function(g,p,q,k){var b=Object.create(e),d=b.drag_started,a={},f={},h,r,x,z;p||(p=[]);b.get_HTML=function(){return g};b.get_text=function(){return this.get_frontside_element().innerText};b.set_HTML=function(a){var b=this.get_frontside_element();if(!b||g===a)return!1;g=a;$(b).children(":not(.ui-resizable-handle)").remove();this.rerender();return!0};b.set_text=function(a){var b=this.get_frontside_element(),c=function(b){$(b).contents().each(function(){this.nodeType==Node.TEXT_NODE?(this.textContent=
a,a=""):c(this,a)})};if(!b||a===b.textContent)return!1;c(b);return this.set_HTML(b.innerHTML)};b.get_style_attributes=function(){return p};b.set_style_attributes=function(a){p=a};b.get_attribute_widgets=function(){return a};b.get_original_copies=function(){return f};b.get_pending_css=function(){return h};b.get_transform_css=function(){return r};b.add_to_css=function(a,b){c(a)?(r||(r={}),r[a]=b):(h||(h={}),h[a]=b)};b.apply_css=function(){var a,b,c;if((h||r)&&(a=this.get_frontside_element())&&$(a).is(":visible")){if(r){r.rotate&&
(c="rotate("+r.rotate+"deg)");r.skewX&&(c||(c=""),c+="skewX("+r.skewX+"deg)");r.skewY&&(c||(c=""),c+="skewY("+r.skewY+"deg)");if(r["transform-origin-x"]||r["transform-origin-y"])h||(h={}),h["transform-origin"]=(r["transform-origin-x"]||0)+" "+(r["transform-origin-y"]||0);c&&(h||(h={}),h["-webkit-transform"]=c,h["-moz-transform"]=c,h["-ms-transform"]=c,h["o-transform"]=c,h.transform=c)}l.UTILITIES.set_timeout(function(){h&&(h.width&&"undefined"===typeof h.height?h.height=a.clientHeight:h.height&&"undefined"===
typeof h.width&&(h.width=a.clientWidth),$(a).css(h),z&&(h.width||h.height)&&(b={},b.width=h.width,b.height=h.height,z.css(b)),h=void 0)})}};b.on_update_display=function(a){x?x.push(a):x=[a]};b.fire_on_update_display_handlers=function(){x&&l.UTILITIES.set_timeout(function(){x.forEach(function(a,b){a()||x.splice(b,1)})})};b.get_image_element=function(){return z};b.set_image_element=function(a,b){z=$(a).find("img");0===z.length?z=void 0:($(b).width(z.width()),$(b).height(z.height()))};b.get_additional_classes=
function(){return k};b.set_additional_classes=function(a){k=a};b=b.add_standard_widget_functionality(b);b.drag_started=function(a,b){this.drag_x_offset=a.view.drag_x_offset;this.drag_y_offset=a.view.drag_y_offset;d.call(this,a,b)};b.set_description(q);l.debugging&&(b.debug_string=b.toString(),b.debug_id=l.UTILITIES.generate_unique_id());return b};e.copy=function(c){var g=e.create(this.get_HTML(),this.get_style_attributes().slice(),this.get_description());return this.add_to_copy(g,c)};e.match=function(c){return this.get_erased&&
this.get_erased()?c.match_with_any_element?c.match_with_any_element():"not matched":c.match_with_this_element_widget?c.match_with_this_element_widget(this):"not matched"};e.match_with_any_element=function(){return"matched"};e.match_with_this_element_widget=function(c){return this.get_HTML()===c.get_HTML()?"matched":"not matched"};e.compare_with=function(c){if(c.compare_with_other_element)return c.compare_with_other_element(this)};e.compare_with_other_element=function(c){c=c.get_HTML().localeCompare(this.get_HTML());
return 0>c?-1:0<c?1:c};e.create_backside=function(){return l.element_backside.create(this)};e.get_attribute=function(c){var e=this.get_pending_css(),g;if(e&&e[c]||(e=this.get_transform_css())&&e[c])return e[c];e=this.get_frontside_element();g=e.style[c];""===g&&(g=$(e).css(c));return g?"number"===typeof g?g:g.replace("px",""):0};e.set_attribute=function(c,e,g,k){var b,d;if(!this.get_frontside(!0).get_element())return!1;b=this.get_attribute(c);if(b===e)return!1;if(d=q(e,c)){if(b==d)return;e=d}g&&l.robot.in_training&&
l.robot.in_training.edited(this,{setter_name:"set_attribute",argument_1:c,argument_2:e,toString:"change the '"+c+"' style to "+e+" of",button_selector:".toontalk-element-"+c+"-attribute-input"});this.add_to_css(c,e);k&&(e=this.get_style_attributes(),0>e.indexOf(c)&&e.push(c));this.rerender();return!0};e.dropped_on_style_attribute=function(c,e,g,k){var b,d,a;if(c){b=c.toString();if(c.is_of_type("number")){d=this.get_attribute(e);if("number"===typeof d)a=d;else if("auto"===d)switch(e){case "left":a=
$(this.get_frontside_element()).offset().left;break;case "top":a=$(this.get_frontside_element()).offset().top;break;default:a=0}else a=parseFloat(d);d=c.to_float();switch(b.substring(0,1)){case "-":b=a-d;break;case "*":b=a*d;break;case "/":b=a/d;break;case "^":b=Math.pow(a,d);break;default:b=a+d}this.set_attribute(e,b,!1);(g||k&&k.visible())&&this.get_backside().render()}c.get_infinite_stack()||c.remove();l.robot.in_training&&l.robot.in_training.dropped_on(c,this.create_attribute_widget(e))}};e.get_attribute_widget=
function(c){var e=this.get_attribute_widgets()[c];e||(e=this.create_attribute_widget(c),this.get_attribute_widgets()[c]=e);return e};e.create_attribute_widget=function(c){var e=".toontalk-element-"+c+"-attribute-input",q=this.get_backside_element(),k=this.get_attribute(c),b=this,d,a,f,h;q&&(e=$(q).find(e),0<e.length&&(e.get(0).toontalk_widget=this));d=l.number.create(0,1);d.element_widget=this;d.set_value_from_decimal(k);d.set_format("decimal");d.attribute=c;d.get_type_name=function(){return"element attribute"};
h=d.toString;d.toString=function(){return h.call(this)+" (the "+this.attribute+" attribute of "+b+")"};a=d.equals;d.equals=function(b){return c===b.attribute?this.equals(b.element_widget):a.call(this,b)};(k=this.get_original_copies()[c])?k.push(d):this.get_original_copies()[c]=[d];d.set_value=function(a){var f;b.get_original_copies()[c].forEach(function(b,c){f=b.set_value_from_sub_classes(a)});b.set_attribute(this.attribute,bigrat.toDecimal(a));return f};f=d.update_display;d.update_display=function(){var a;
this.get_erased()||(a=b.get_attribute(this.attribute),d.set_value_from_decimal(a));f.call(this)};0<=g.indexOf(c)&&(this.on_update_display(function(){d.update_display();return!0}),"left"!==c&&"top"!==c||this.get_frontside_element().addEventListener("drag",function(a){var e=$(b.get_frontside_element()).closest(".toontalk-top-level-backside").offset();e||(console.log("Unable to find top-level backside of an element for its position. Perhaps is 'visible' but not attached."),e={left:0,top:0});d.set_value_from_decimal("left"===
c?a.pageX-e.left-b.drag_x_offset:a.pageY-e.top-b.drag_y_offset);f.call(d)}));d.copy=function(a){return a?l.number.copy.call(this,a):this.add_to_copy(b.create_attribute_widget(c),a)};d.get_json=function(a){return{type:"attribute_number",attribute_name:c,element:l.UTILITIES.get_json(b,a)}};return d};l.creators_from_json.attribute_number=function(c,e){return l.UTILITIES.create_from_json(c.element,e).create_attribute_widget(c.attribute_name)};e.update_display=function(){var c=this.get_frontside_element();
this.get_backside();var e,g;this.being_dragged||(this.get_erased&&this.get_erased()?$(c).css({opacity:0}):(this.get_erased&&"0"===$(c).css("opacity")&&$(c).css({opacity:1}),c.children.length===$(c).children(".ui-resizable-handle").length&&(e=document.createElement("div"),e.innerHTML=this.get_HTML(),c.appendChild(e),this.set_image_element(e,c),$(c).addClass("toontalk-element-frontside"),"<"!==e.innerHTML.substring(0,1)&&((g=this.get_additional_classes())&&$(e).addClass(g),$(c).addClass("ui-widget toontalk-plain-text-element"))),
l.UTILITIES.on_a_nest_in_a_box(c)&&(this.set_attribute("width",$(c).closest(".toontalk-box-hole").width(),!1),this.set_attribute("height",$(c).closest(".toontalk-box-hole").height(),!1)),this.apply_css(),this.fire_on_update_display_handlers()))};e.toString=function(){return"element whose HTML is '"+l.UTILITIES.maximum_string_length(this.get_HTML(),40)+"'"};e.get_type_name=function(){return"element"};e.get_help_URL=function(){return"docs/manual/elements.html"};e.get_json=function(){var c=[];this.get_style_attributes().forEach(function(e){c.push(e)});
return{type:"element",html:encodeURIComponent(l.UTILITIES.remove_z_index(this.get_HTML())),attributes:c,attribute_values:c.map(this.get_attribute.bind(this)),additional_classes:this.get_additional_classes()}};l.creators_from_json.element=function(c,g){var l=e.create(decodeURIComponent(c.html),c.attributes,c.description),k;k=g&&g.event?["left","top"]:[];c.attribute_values.forEach(function(b,d){var a=c.attributes[d];0>k.indexOf(a)&&l.add_to_css(a,q(b)||b)});c.additional_classes&&l.set_additional_classes(c.additional_classes);
return l};e.create_attribute_path=function(c,e){var g=l.path.get_path_to(c.element_widget,e);return this.extend_attribute_path(g,c.attribute)};e.extend_attribute_path=function(c,e){return{dereference:function(g,k,b){return c.dereference(k||g,void 0,b).get_attribute_widget(e)},toString:function(){return"the '"+e+"' property of "+c},get_json:function(){return{type:"path_to_style_attribute",attribute:e,element_widget_path:c.get_json()}}}};l.creators_from_json.path_to_style_attribute=function(c){var g=
l.UTILITIES.create_from_json(c.element_widget_path);return e.extend_attribute_path(g,c.attribute)};e.get_size_attributes=function(){return{width:this.get_attribute("width"),height:this.get_attribute("height")}};e.set_size_attributes=function(c,e){this.set_attribute("width",c);this.set_attribute("height",e)};e.set_location_attributes=function(c,e){this.set_attribute("left",c);this.set_attribute("top",e)};return e}(window.TOONTALK);window.TOONTALK.element_backside=function(l){var g=function(m,p,q){var k=
function(a){var b=p.get_style_attributes();0>b.indexOf(a)&&(b.push(a),"left"===a?(a=p.get_frontside_element(),$(a).on("drag",function(a){var b=p.get_backside_element(),c=p.get_frontside_element();b&&c&&$(b).find(".toontalk-element-left-attribute-input").val(a.originalEvent.clientX)})):"top"===a&&(a=p.get_frontside_element(),$(a).on("drag",function(a){var b=p.get_backside_element(),c=p.get_frontside_element();b&&c&&$(b).find(".toontalk-element-top-attribute-input").val(a.originalEvent.clientY)})))},
b=function(a,b){var d=0<=p.get_style_attributes().indexOf(a),r=l.UTILITIES.create_check_box(d,"toontalk-style-attribute-check-box",a+"&nbsp;","Click to add or remove the '"+a+"' style attribute from the backside of this element."),d=l.UTILITIES.create_anchor_element("i",("transform-origin-x"===a||"transform-origin-y"===a?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin#":c(a)?"https://developer.mozilla.org/en-US/docs/Web/CSS/transform#":"http://www.w3.org/community/webed/wiki/CSS/Properties/")+
a),x=document.createElement("li");$(d).addClass("toontalk-help-button toontalk-attribute-help-button");$(d).css({color:"white"});r.container.appendChild(d);r.button.addEventListener("click",function(b){if(r.button.checked)k(a);else{b=p.get_style_attributes();var c=b.indexOf(a);0<=c&&(b.splice(c,1),g(m,p,q))}e(q,p)});x.appendChild(r.container);b.appendChild(x)},d=function(a,c){var e,g;"string"===typeof a?b(a,c):a.label?(e=document.createElement("h3"),e.textContent=a.label,g=document.createElement("ul"),
c.appendChild(e),c.appendChild(g),d(a.sub_menus,g)):a.forEach(function(a){d(a,c)})};$(m).is(".ui-accordion")&&$(m).accordion("destroy");$(m).empty();d([{label:"Geometry attributes",sub_menus:"left top width height z-index background-position".split(" ")},{label:"Color attributes",sub_menus:["background-color","color","opacity"]},{label:"Font attributes",sub_menus:["font-size","font-weight"]},{label:"Visibility",sub_menus:["display","visibility"]},{label:"Transformations",sub_menus:["rotate","skewX",
"skewY","transform-origin-x","transform-origin-y"]}],m);$(m).accordion({active:0,heightStyle:"content"});return m},e=function(c,e){var g=e.get_style_attributes();e.get_frontside_element();$(c).empty();g.forEach(function(g){e.get_attribute(g);var b=document.createElement("tr"),d=document.createElement("td"),a=e.get_attribute_widget(g),f=a.get_frontside_element();a.set_infinite_stack(!0);c.appendChild(b);b.appendChild(d);d.appendChild(l.UTILITIES.create_text_element(g));d=document.createElement("td");
b.appendChild(d);a.set_visible(!0);$(f).addClass("toontalk-element-attribute");d.appendChild(f);a.render()})},q=function(c){var e=$("<button>Add or remove style attributes</button>").button();e.addClass("toontalk-show-attributes-chooser-button");e.click(function(g){$(c).is(":visible")?($(c).hide(),e.button("option","label","Add or remove style attributes"),e.attr("title","Click to add widgets for reading and writing style attributes of this element.")):($(c).show(),e.button("option","label","Hide style attributes list"),
e.attr("title","Click to hide the list of attributes that can be added or removed."))});e.attr("title","Click to add widgets for reading and writing style attributes of this element.");return e.get(0)};return{create:function(c){var p=l.backside.create(c),s=p.get_element();c.get_HTML();var k=document.createElement("table"),b=document.createElement("div"),d=q(b),a=l.backside.create_advanced_settings_button(p,c),f=l.UTILITIES.get_current_url_boolean_parameter("elementHTML",!1),h=f?"get_HTML":"get_text",
r=p.update_display,x,z;c.update_display();x=c[h]().trim();0<x.length&&(z=l.UTILITIES.create_text_area(x,"toontalk-html-input","","Type here to edit the text."),x=function(a){a=z.button.value.trim();c.get_frontside_element();var b=f?"set_HTML":"set_text";c[b](a)&&l.robot.in_training&&l.robot.in_training.edited(c,{setter_name:b,argument_1:a,toString:"change the text to "+a+" of",button_selector:".toontalk-html-input"})},$(z.container).resizable(),$(z.container).css({width:"100%"}),$(z.button).css({width:"100%"}),
z.button.addEventListener("change",x),z.button.addEventListener("mouseout",x),s.appendChild(z.container));p.get_attributes_chooser=function(){return b};g(b,c,k);e(k,c);s.appendChild(b);s.appendChild(d);s.appendChild(k);s.appendChild(a);$(b).hide();$(b).addClass("toontalk-attributes-chooser");p.update_display=function(){z&&$(z.button).val(c[h]());e(k,c);$(b).is(":visible")&&g(b,c,k);r()};$(s).find(".toontalk-hide-backside-button").click(function(a){$(b).hide()});p.add_advanced_settings();return p}}}(window.TOONTALK)})();window.TOONTALK.sensor=function(c){var l=Object.create(c.widget),g=function(c,g){"element"===c.get_type_name()&&(c.set_attribute("font-size",.5*$(g.get_frontside_element(!0)).height(),!1,!0),c.set_additional_classes("toontalk-string-value-from-sensor"),g.visible()&&c.rerender())};l.create=function(e,q,m,p,s,k){var b=c.nest.create(m,p,void 0,"sensor"),d=b.get_json,a=b.update_display,f=b.copy,h=function(a){var f=a[q],d=b.visible(),e=$(b.get_frontside_element()).closest(".toontalk-top-level-backside"),
h;if("keyCode"===q){if(16===f)return;f=String.fromCharCode(f);a.shiftKey||(f=f.toLowerCase())}switch(typeof f){case "number":h=c.number.create(Math.round(f),1);break;case "string":h=c.element.create(f,void 0,void 0,"toontalk-string-value-from-sensor");g(h,b);break;case "boolean":h=c.element.create(f.toString(),void 0,void 0,"toontalk-string-value-from-sensor");g(h,b);break;case "undefined":c.UTILITIES.report_internal_error("No "+q+" in sensor "+l);return}d?(a=c.bird.create(),b.add_to_top_level_backside(a),
a.animate_delivery_to(h,b,b,e.width()/2,e.height())):b.add_to_contents(h)}.bind(this);b.copy=function(a){var d;if(a&&this.has_contents())return f.call(this,!0);d=c.sensor.create(e,q,m,void 0,s,a?void 0:k);return b.add_to_copy(d,a)};b.get_json=function(a){var b=d.call(this,a);b.type="sensor";b.event_name=e;b.attribute=q;b.active=s;b.sensor_of=k&&c.UTILITIES.get_json(k,a);return b};b.update_display=function(){var b=$(this.get_frontside_element());a.call(this);s||b.is(".toontalk-top-level-resource")?
(b.addClass("toontalk-sensor-nest"),b.removeClass("toontalk-sensor-inactive-nest")):(b.addClass("toontalk-sensor-inactive-nest"),b.removeClass("toontalk-sensor-nest"));b.removeClass("toontalk-empty-nest")};b.get_type_name=function(){return"sensor"};b.get_help_URL=function(){return"docs/manual/sensors.html"};b.toString=function(){return"a sensor of "+q+" for "+e+" sensors"};b.get_active=function(){return s};b.set_active=function(a,b){if(s!==a||b)a?k?k.get_frontside_element().addEventListener(e,h):
window.addEventListener(e,h):k?k.get_frontside_element().removeEventListener(e,h):window.removeEventListener(e,h),s=a};b.set_active(s,!0);b.create_backside=function(){return c.sensor_backside.create(this)};b.get_event_name=function(){return e};b.set_event_name=function(a){var b=s;e&&s&&this.set_active(!1);e=a;b&&this.set_active(!0)};b.get_attribute=function(){return q};b.set_attribute=function(a){q=a};b.match=function(a){return"not matched"};b.set_sensor_of=function(a){k=a};return b};c.creators_from_json.sensor=
function(e,l){var m=c.UTILITIES.create_array_from_json(e.contents,l),p=c.sensor.create(e.event_name,e.attribute,e.description,m,!1);e.sensor_of?c.UTILITIES.set_timeout(function(){p.set_sensor_of(c.UTILITIES.create_from_json(e.sensor_of,l));p.set_active(e.active)}):p.set_active(e.active);0<m.length&&setTimeout(function(){m.forEach(function(c){g(c.get_widget(),p)})},500);return p};return l}(window.TOONTALK);
window.TOONTALK.sensor_backside=function(c){return{create:function(l){var g=c.UTILITIES.create_text_input(l.get_event_name(),"toontalk-sensor-event-name-input","Event name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;","Type here the event name.","https://developer.mozilla.org/en-US/docs/Web/Events/"+l.get_event_name()),e=c.UTILITIES.create_text_input(l.get_attribute(),"toontalk-sensor-event-attribute-input","Event attribute","Type here the event attribute name.","https://developer.mozilla.org/en/docs/Web/API/Event"),
q=c.UTILITIES.create_check_box(l.get_active(),"toontalk-sensor-active-check-box","Listening to events","Check the box if you want to make this sensor active."),m=c.nest_backside.create(l),p=m.get_element(),s=$(p).find(".toontalk-settings-backside-button").get(0);g.button.addEventListener("change",function(){l.set_event_name(g.button.value.trim())});e.button.addEventListener("change",function(){l.set_attribute(e.button.value.trim())});$(q.button).click(function(e){var b=q.button.checked;l.set_active(b);
c.robot.in_training&&c.robot.in_training.edited(robot,{setter_name:"set_active",argument_1:b,toString:"change to "+(b?"active":"inactive")+" of the "+l,button_selector:".toontalk-sensor-active-check-box"});l.render();e.stopPropagation()});p.insertBefore(g.container,s);p.insertBefore(e.container,s);p.insertBefore(q.container,s);return m}}}(window.TOONTALK);window.TOONTALK.tool=function(c){return{add_listeners:function(l,g){var e,q,m,p,s,k=function(a){var b=d(a),e;a.preventDefault();var g=0,k=0;20>a.clientX?g=-20:a.clientX+20>window.innerWidth&&(g=20);20>a.clientY?k=-20:a.clientY+20>window.innerHeight&&(k=20);window.scrollBy(g,k);l.style.left=a.pageX-g-q+"px";l.style.top=a.pageY-k-m+"px";if(b&&b.is_of_type("top-level"))s&&(c.UTILITIES.remove_highlight(),s=void 0);else{if(b&&(e=b.get_frontside_element(),e===s))return;s=e;c.UTILITIES.highlight_element(s)}},
b=function(a){var f=d(a),h;a.preventDefault();s&&c.UTILITIES.remove_highlight();f&&f.add_copy_to_container&&(h=f.top_level_widget(),g.apply_tool(f,a),h.backup_all());!f&&g.nothing_under_tool&&g.nothing_under_tool();$(l).removeClass("toontalk-tool-held");$(l).addClass("toontalk-tool-returning");c.UTILITIES.add_one_shot_event_handler(l,"transitionend",1E3,function(){$(l).removeClass("toontalk-tool-returning")});c.UTILITIES.set_timeout(function(){l.style.left=e.left+"px";l.style.top=e.top+"px"});document.removeEventListener("mousemove",
k);document.removeEventListener("mouseup",b)},d=function(a){var b;$(l).hide();a=document.elementFromPoint(a.pageX-(window.pageXOffset+q),a.pageY-(window.pageYOffset+m)+p/2);for($(l).show();a&&!a.toontalk_widget&&(!$(a).is(".toontalk-backside")||$(a).is(".toontalk-top-level-backside"));)a=a.parentNode;a&&(b=a.toontalk_widget);if(b)return a=b.get_type_name(),b&&"empty hole"===a?b.get_parent_of_frontside():b};l.addEventListener("mousedown",function(a){var c=l.getBoundingClientRect();q=a.clientX-c.left;
m=a.clientY-c.top;p=c.height;a.preventDefault();$(l).addClass("toontalk-tool-held");e=$(l).offset();document.addEventListener("mousemove",k);document.addEventListener("mouseup",b)})}}}(window.TOONTALK);window.TOONTALK.vacuum=function(c){var l=Object.create(null),g={suck:"Drag this vacuum over the thing you want to remove. Click or type 'e' to switch to erasing. Type 'r' to restore previously removed or erased things.",erase:"Drag this vacuum over the thing you want to erase (or un-erase). Type 's' to switch to sucking. Click or type 'r' to restore contents.",restore:"Drag this over the work area. Each time you release it a widget is restored. Click or type 's' to switch to sucking. Type 'e' to switch to erasing."},
e={suck:"toontalk-vacuum-s",erase:"toontalk-vacuum-e",restore:"toontalk-vacuum-r"},q={suck:"erase",erase:"restore",restore:"suck"};l.create=function(){var l,p,s,k=[],b=function(a){p!==a&&(p=a,$(l).removeClass(s),s=e[p],$(l).addClass(s),d())},d=function(){l.title="restore"===p&&0===k.length?"The vacuum is empty. Type 'r' to switch to removing. Type 'e' to switch to erasing.":g[p]};return{apply_tool:function(a,b){var d,e;"suck"===p?a.remove&&"top-level"!==a.get_type_name()&&(c.robot.in_training&&c.robot.in_training.removed(a),
a.remove(b),k.push(a)):"erase"===p?"top-level"!==a.get_type_name()&&(a.get_frontside_element(),d=!a.get_erased(),a.set_erased(d,!0),c.robot.in_training&&c.robot.in_training.set_erased(a,d)):"restore"===p&&0<k.length&&(d=k.pop(),e=a.add_to_top_level_backside(d,!0),d=$(l).offset(),d.left-=$(e).width(),c.UTILITIES.set_absolute_position($(e),d))},nothing_under_tool:function(){b(q[p])},get_element:function(){l||(l=document.createElement("div"),$(l).addClass("toontalk-vacuum"),c.tool.add_listeners(l,this),
b("suck"),document.addEventListener("keyup",function(a){a=String.fromCharCode(a.keyCode);"s"===a||"S"===a?b("suck"):"e"===a||"E"===a?b("erase"):"r"!==a&&"R"!==a||b("restore")}),d());return l}}};c.creators_from_json.vacuum=function(e,g){var l=c.vacuum.create();e.mode&&c.UTILITIES.set_timeout(function(){l.set_mode(e.mode)});return l};return l}(window.TOONTALK);window.TOONTALK.wand=function(c){var l=Object.create(null);l.create=function(){var g;return{apply_tool:function(c){"top-level"!==c.get_type_name()&&c.add_copy_to_container()},get_element:function(){g||(g=document.createElement("div"),$(g).addClass("toontalk-wand"),g.title="Drag this magic wand over the thing you want to copy.",c.tool.add_listeners(g,this));return g}}};c.creators_from_json.wand=function(){return c.wand.create()};return l}(window.TOONTALK);window.TOONTALK.SETTINGS=function(c){var l=function(g,e,l){c.google_drive.get_toontalk_files(!1,g,function(g){var p;"String"===typeof g?p=g:g.error&&(p=g.error.message);p?(console.log(p),console.log("Google drive status: "+c.google_drive.get_status())):(p=document.createElement("table"),$(p).DataTable({data:g.items,columns:[{data:"title",title:"Name",render:function(c,e,b,d){return"<div title='Click to switch to this program.' class='toontalk-file-load-button'>"+c.substring(0,c.length-5)+"</div>"}},
{data:"modifiedDate",title:"Modified",render:function(c,e,b,d){return(new Date(c)).toUTCString()}},{data:"createdDate",title:"Created",render:function(c,e,b,d){return(new Date(c)).toUTCString()}},{data:"fileSize",title:"Size"}]}),e.appendChild(p),$(".toontalk-file-load-button").click(function(c){var g=function(){$(e).remove()};l.save(!0,void 0,function(){l.set_setting("program_name",c.target.innerText);l.load(!0,g)})}))})};return{open:function(g){var e=document.createElement("div"),q=g.get_backside_element(),
m=g.get_setting("program_name"),p=c.UTILITIES.create_text_input(m,"toontalk-program-name-input","Current program name:","Edit this to change the name of your program","docs/manual/settings.html"),s=c.UTILITIES.create_close_button(function(){$(e).remove()},"Click to close the settings panel."),k=c.UTILITIES.create_text_element("How should your program be saved?"),b=c.UTILITIES.create_check_box(g.get_setting("auto_save_to_google_drive"),"toontalk-save-setting","Save automatically to my Google Drive",
"Check this if you want your programs automatically saved to a 'ToonTalk Programs' folder in your Google Drive."),d=c.UTILITIES.create_check_box(g.get_setting("auto_save_to_local_storage"),"toontalk-save-setting","Save automatically to this browser's local storage","Check this if you want your programs automatically saved in this browser's local storage."),a=c.UTILITIES.create_button("Save to Google Drive now","toontalk-save-button","Click to save your program now to your Google Drive account.",function(){g.save(!0,
{google_drive:!0})}),f=c.UTILITIES.create_button("Save to browser's storage now","toontalk-save-button","Click to save your program now to this browser's local storage.",function(){g.save(!0,{local_storage:!0})}),h=c.UTILITIES.create_button("Login to Google","toontalk-google-login-button","Click to log in to Google to authorize use of your Google Drive.",function(){c.google_drive.authorize(function(){$(h).remove()})}),r=c.UTILITIES.create_button("Publish","toontalk-publish-button","Click to publish your program by generating a Google Drive URL.",
function(){g.publish(x)}),x=function(a){var b=document.createElement("span");b.innerHTML="Published: <a href='"+("https://googledrive.com/host/"+a.id+"/")+"' target='_blank'>"+g.get_setting("program_name")+"</a>";$(p.container).find("tr").append(c.UTILITIES.create_table_entry(b))},z=document.createElement("div"),v=c.google_drive?c.google_drive.get_status():"Google Drive code not loaded";$(e).addClass("toontalk-settings-panel").css({width:$(q).width()+29,height:$(q).height()+50,left:-2,top:-25,"z-index":c.UTILITIES.next_z_index()});
e.appendChild(s);p.button.addEventListener("change",function(){var a=p.button.value.trim();m!==a&&g.save(!0,void 0,function(){m=a;g.set_setting("program_name",a);g.load(!0,function(){setTimeout(function(){$(e).css({"z-index":c.UTILITIES.next_z_index()})},500)})})});b.button.addEventListener("click",function(c){g.set_setting("auto_save_to_google_drive",b.button.checked);b.button.checked?$(a).hide():$(a).show()});d.button.addEventListener("click",function(a){g.set_setting("auto_save_to_local_storage",
d.button.checked);d.button.checked?$(f).hide():$(f).show()});e.appendChild(z);$(k).css({"font-weight":"bold","font-size":24,color:"navy"});z.appendChild(k);z.appendChild(p.container);z.appendChild(b.container);z.appendChild(d.container);b.container.appendChild(c.UTILITIES.create_space());b.container.appendChild(a);g.get_setting("auto_save_to_google_drive")&&$(a).hide();d.container.appendChild(c.UTILITIES.create_space());d.container.appendChild(f);g.get_setting("auto_save_to_local_storage")&&$(f).hide();
"Need to authorize"===v?(b.container.appendChild(c.UTILITIES.create_space()),b.container.appendChild(h)):"Authorized"!==v&&"Ready"!==v&&setTimeout(function(){b.button.disabled=!0;$(r).button("option","disabled",!0);$(a).button("option","disabled",!0);b.container.title="Inactived because attempt to connect to Google Drive returned: "+v;r.title=b.container.title;a.title=b.container.title},1);$(p.container).find("tr").append(c.UTILITIES.create_table_entry(r));l("program",e,g);q.appendChild(e)}}}(window.TOONTALK);
window.TOONTALK.DEFAULT_SETTINGS={program_name:"My first program",auto_save_to_google_drive:!0,auto_save_to_local_storage:!0};window.TOONTALK.DISPLAY_UPDATES=function(c){var l=[],g=0;return{pending_update:function(c){c.update_display&&(0<=l.indexOf(c)||l.push(c))},update_display:function(){var e=l,g=function(c,e){$(c).children().each(function(c,k){$(k).css({"z-index":e+1});g(k,e+1)})};l=[];0!==e.length&&e.forEach(function(e){var l=e.get_frontside_element&&e.get_frontside_element(),s,k,b;e.update_display();s=$(l).parent().closest(".toontalk-side");s.is("*")&&(k=c.UTILITIES.get_style_numeric_property(l,"z-index"),b=c.UTILITIES.get_style_numeric_property(s.get(0),
"z-index"),b||(b=c.UTILITIES.next_z_index(),s.css({"z-index":b})),!k||s.is(".toontalk-top-level-backside")?(k=c.UTILITIES.next_z_index(),$(l).css({"z-index":k})):k>=b&&(k=b+1,$(l).css({"z-index":k})),g(l,k));l&&!$(l).is(".toontalk-top-level-resource, .toontalk-bird, .toontalk-nest, .toontalk-box-hole, .toontalk-plain-text-element, .toontalk-conditions-contents, .toontalk-robot, .toontalk-widget, .toontalk-held-by-robot")&&c.UTILITIES.set_timeout(function(){s.is(".toontalk-box-hole")?$(l).is(".ui-resizable")&&
$(l).resizable("destroy"):$(l).is(".ui-resizable")||c.UTILITIES.make_resizable($(l),e)})})},run_cycle_is_over:function(){var c=Date.now();20<=c-g&&(this.update_display(),g=c)}}}(window.TOONTALK);window.TOONTALK.actions=function(c){c.creators_from_json.body=function(l){var g=c.actions.create();g.initialise_steps(c.UTILITIES.create_array_from_json(l.steps,{body:g}));return g};return{create:function(l){var g=Object.create(this),e=[];l||(l=[]);g.copy=function(){return c.actions.create(c.UTILITIES.copy_array(l))};g.get_steps=function(){return l};g.initialise_steps=function(c){l=c};g.is_empty=function(){return 0===l.length};g.reset_steps=function(){l=[];this.reset_newly_created_widgets()};g.reset_newly_created_widgets=
function(){e=[]};g.add_step=function(c,e){l.push(c);e&&this.add_newly_created_widget(e)};g.add_newly_created_widget_if_new=function(c){0<=e.indexOf(c)||this.add_newly_created_widget(c)};g.add_newly_created_widget=function(g){c.debugging&&0<=e.indexOf(g)?console.log("add_newly_created_widget called with not new widget."):e.push(g)};g.get_newly_created_widgets=function(){return e};g.get_path_to=function(g,l){var p,s;e.some(function(e,b){if(e===g)return p=c.newly_created_widgets_path.create(b),!0;if(e.get_path_to&&
(s=e.get_path_to(g,l)))return p=c.newly_created_widgets_path.create(b),p.next=s,!0});return p};g.dereference=function(g){c.debugging&&!e[g]&&c.UTILITIES.report_internal_error("Expected to find the "+(g+1)+"th newly created widget.");return e[g]};return g},run_unwatched:function(c,g,e,q,m){var p=this.get_steps();m||(m=0);q.run_next_step=function(){if(m<p.length){var s=p[m];m++;s.run_unwatched(c,g,q)}else q.get_run_once()||q.get_first_in_team().run(c,g,e)};q.run_next_step()},run_watched:function(l,
g,e,q){var m=this.get_steps(),p=q.get_frontside_element(),s=p.parentElement,k=function(){$(p).addClass("toontalk-side-animating");c.UTILITIES.set_position_relative_to_top_level_backside($(p),d);setTimeout(function(){s.appendChild(p);c.UTILITIES.set_absolute_position($(p),d);q.set_animating(!1);q.get_run_once()||q.get_first_in_team().run(l,g,e);q.render()},1E3)},b=0,d=$(p).offset(),a=$(p).position(),f=$(p).width(),h=$(p).height(),r=$(p).closest(".toontalk-backside"),x=r.get(0).getBoundingClientRect(),
z=$(p).closest(".toontalk-top-level-backside").offset(),v=l.get_backside();0===f&&($(p).css({width:"",height:""}),f=$(p).width(),h=$(p).height());z||(console.log("Unable to find top-level backside. Perhaps is 'visible' but not attached."),z={left:0,top:0});if(d.left<x.left-z.left||d.top<x.top-z.top||d.left+f>x.right+z.left||d.top+h>x.bottom+z.top)d=r.offset(),d.left+=r.width()/2,d.top+=r.height()-h;q.start_position=a;q.run_next_step=function(){v&&v.visible()?setTimeout(function(){if(b<m.length){var a=
m[b];b++;a.run_watched(l,g,q);q.get_thing_in_hand()&&(q.get_thing_in_hand().save_dimensions(),q.render())}else k()},500):(q.set_animating(!1),$(p).css({width:"",height:""}),p.style.left=a.left+"px",p.style.top=a.top+"px",s.appendChild(p),this.run_unwatched(l,g,e,q,b))}.bind(this);q.set_animating(!0,d);q.run_next_step();return!0},toString:function(){var c="",g=this.get_steps();g.forEach(function(e,q){c+=e.toString();c=q===g.length-2?c+" and \n":q<g.length-2?c+", \n":c+"."});return c},get_json:function(l){return{type:"body",
steps:c.UTILITIES.get_json_of_array(this.get_steps(),l)}}}}(window.TOONTALK);
window.TOONTALK.newly_created_widgets_path=function(c){c.creators_from_json.newly_created_widgets_path=function(l){return c.newly_created_widgets_path.create(l.index)};return{create:function(l){return{dereference:function(g,e,q){g=q.get_body().dereference(l);return this.next?c.path.dereference_path(this.next,g,e,q):g},toString:function(){var c;switch(l){case 0:c="first";break;case 1:c="second";break;case 2:c="third";break;default:c=l+1+"th"}return"the "+c+" widget he created"},get_json:function(){return{type:"newly_created_widgets_path",
index:l}}}}}}(window.TOONTALK);window.TOONTALK.robot_action=function(c){var l={copy:function(c,b,d,a){a.add_newly_created_widget(c.copy());return!0},"pick up":function(c,b,d,a){a.set_thing_in_hand(c);return!0},"pick up a copy of":function(c,b,d,a){c=c.copy();a.add_newly_created_widget(c);a.set_thing_in_hand(c);return!0},"drop it on":function(e,b,d,a,f){if(e)if(b=a.get_thing_in_hand()){if(b.drop_on)return b.drop_on(e,!1,void 0,a),a.set_thing_in_hand(void 0),e.visible&&e.visible()&&e.render(),b.robot_waiting_before_next_step===a?
(f&&f.running_watched||(b.robot_waiting_before_next_step=void 0),!1):!0;c.UTILITIES.report_internal_error("Thing in robot's hand ("+b+") doesn't handle 'drop_on'. Robot that "+a)}else c.UTILITIES.report_internal_error("The robot that '"+a.toString()+"' is executing drop_on but has nothing in its hand.");else c.UTILITIES.report_internal_error("The robot that '"+a.toString()+"' is executing drop_on but doesn't know where to drop what its holding")},remove:function(c,b,d,a){c.remove();return!0},erased_widget:function(c,
b,d,a,f){c.set_erased(f.erased);return!0},edit:function(e,b,d,a,f){if(e[f.setter_name])return f.argument_2?e[f.setter_name].call(e,f.argument_1,f.argument_2,e.visible()):e[f.setter_name].call(e,f.argument_1,e.visible()),!0;c.UTILITIES.report_internal_error(e+" cannot be edited.")},"add to the top-level backside":function(c,b,d,a,f){a.visible()||(a=c.get_frontside_element(!0),d=$(b.get_frontside_element()).position(),b=$(b.get_frontside_element()).closest(".toontalk-top-level-backside").get(0),$(a).css({left:d.left,
top:d.top}),b.appendChild(a),b.toontalk_widget.add_backside_widget(c),c.animate_to_element(b));return!0}},g=function(c,b,d,a,f){b=a.get_thing_in_hand();a.get_frontside_element();var e=c.get_element();d=$(e).width()/2;e=$(e).height()/2;a.animate_to_widget(c,f,.25,d,e);b&&a.render()},e=function(c,b){var d=c.get_backside_element(!0);return $(d).find(b).get(0)},q=function(c,b,d,a,f,h){var g=e(c,h),l=a.get_frontside_element(),m=g&&$(g).is(":visible"),p=function(){f();$(g).addClass("ui-state-active");setTimeout(function(){$(g).removeClass("ui-state-active");
!m&&c.get_backside()&&c.get_backside().hide_backside();a.run_next_step()},500)};b=function(){a.animate_to_element(g,p,.25,0,-$(l).height())};!m&&c.open_backside?c.open_backside(b):b()},m=function(c,b,d,a,f,e){a.get_frontside_element();a.carrying_tool=e;a.update_display();a.animate_to_element(c.get_frontside_element(),function(){f();a.carrying_tool=void 0;a.update_display();a.run_next_step()},.25,0,0)},p=function(c,b,d,a,f){var e=c.get_parent_of_frontside();m(c,b,d,a,function(){f();e&&"top-level"!==
e.get_widget().get_type_name()&&e.update_display&&e.update_display();c.render()},"toontalk-vacuum-ready-small")},s={copy:function(c,b,d,a,f){m(c,b,d,a,function(){f();c.add_copy_to_container(a.get_recently_created_widget())},"toontalk-wand-small")},"pick up":function(e,b,d,a,f){var h=e.get_frontside_element(),l=function(){f();a.run_next_step()};"empty hole"===e.get_type_name()?c.UTILITIES.report_internal_error("Robot trying to pick up an empty hole."):(e.save_dimensions(),$(h).css({width:h.offsetWidth+
"px",height:h.offsetHeight+"px"}),g(e,b,d,a,l))},"pick up a copy of":function(c,b,d,a,f){g(c,b,d,a,function(){f();a.get_recently_created_widget().set_visible(!0);a.update_display();a.run_next_step()})},"drop it on":function(e,b,d,a,f){var h=a.get_thing_in_hand(),l;h?(l=$(h.get_frontside_element()),g(e,b,d,a,function(){var b=l.offset();l.removeClass("toontalk-held-by-robot");f();h.drop_on&&($(a.get_frontside_element()).closest(".toontalk-top-level-backside").append(l.get(0)),c.UTILITIES.set_absolute_position(l,
b),h.restore_dimensions(),h.robot_waiting_before_next_step===a?h.robot_waiting_before_next_step=void 0:(a.set_thing_in_hand(void 0),a.run_next_step()),a.rerender())})):(c.UTILITIES.report_internal_error("Expected the robot to be holding something."),console.log("The robot is "+a),g(e,b,d,a,f))},remove:p,erased_widget:p,edit:function(c,b,d,a,f,e){q(c,b,d,a,function(){c.get_backside()&&c.get_backside().update_display();f()},e.button_selector)},"add to the top-level backside":function(c,b,d,a,f){f();
a.run_next_step()}};c.creators_from_json.robot_action=function(e,b,d){return e.additional_info?c.robot_action.create(c.path.create_from_json(e.path,d),e.action_name,e.additional_info):c.robot_action.create(c.path.create_from_json(e.path,d),e.action_name)};return{create:function(e,b,d){var a=Object.create(this),f=l[b],h=s[b];h||(h=function(a,b,c,f,d){setTimeout(function(){continuation(a)},3E3)});e||c.UTILITIES.report_internal_error("path undefined in "+b+" action");f||c.UTILITIES.report_internal_error("no run_function for "+
b);a.run_unwatched=function(a,b,h){var g=c.path.dereference_path(e,a,b,h);if(!g)return c.UTILITIES.report_internal_error("Unable to dereference path: "+c.path.toString(e)+" in context: "+a.toString()),!1;f(g,a,b,h,d)&&h.run_next_step()};a.run_watched=function(a,b,g){var l=c.path.dereference_path(e,a,b,g),m=function(){d||(d={});d.running_watched=!0;f(l,a,b,g,d)};l?(l.set_visible(!0),h(l,a,b,g,m,d)):c.UTILITIES.report_internal_error("Unable to dereference the path: "+c.path.toString(e)+" in context: "+
a.toString())};a.toString=function(){return b+" "+c.path.toString(e)};a.get_json=function(a){return{type:"robot_action",action_name:b,path:c.path.get_json(e,a),additional_info:d}};return a}}}(window.TOONTALK);window.TOONTALK.queue=function(c){return{create:function(){var l=Object.create(this);l.to_run=c.UTILITIES.create_queue();return l},enqueue:function(l){if(c.debugging&&this.to_run.does_any_item_satisfy(function(c){return c.robot===l.robot}))console.log("The same robot is being queued twice."),console.log("Robot is "+l.robot);else return this.to_run.enqueue(l)},maximum_run:50,paused:!1,run:function(){for(var l,g=Date.now()+this.maximum_run;!(this.to_run.isEmpty()||this.paused||Date.now()>=g);)l=this.to_run.dequeue(),
l.robot.run_actions(l.context,l.top_level_context,l.queue);c.DISPLAY_UPDATES.run_cycle_is_over();c.UTILITIES.set_timeout(function(){this.run()}.bind(this),this.to_run.isEmpty()?this.maximum_run:0)}}}(window.TOONTALK);window.TOONTALK.path=function(c){c.creators_from_json["path.to_entire_context"]=function(){return c.path.to_entire_context()};c.creators_from_json["path.top_level_backside"]=function(){return c.path.top_level_backside};c.creators_from_json["path.to_backside_widget_of_context"]=function(l){return c.path.get_path_to_backside_widget_of_context(l.type_name)};c.creators_from_json["path.to_resource"]=function(l,g){return c.path.get_path_to_resource(c.UTILITIES.create_from_json(l.resource,g))};return{get_path_to:function(l,
g){var e=function(e,g){var l=g.get_context(),s=g.get_body(),k,b;if(l===e)return c.path.to_entire_context();b=e.get_type_name();if("top-level"===b)return c.path.top_level_backside;if(k=s.get_path_to(e,g))return k;if("element attribute"===b&&!e.get_parent_of_frontside())return c.element.create_attribute_path(e,g);if(l.get_path_to&&(s=l.get_path_to(e,g)))return k=c.path.to_entire_context(),k.next=s,k;l.backside_widgets.some(function(b){b=b.get_widget();var a;if(b===e||b.top_contents_is&&b.top_contents_is(e))return k=
c.path.get_path_to_backside_widget_of_context(b.get_type_name()),g.add_to_backside_conditions(b),!0;if(b.get_path_to&&(a=b.get_path_to(e,g)))return k=c.path.get_path_to_backside_widget_of_context(b.get_type_name()),k.next=a,g.add_to_backside_conditions(b),!0});return k?k:c.path.get_path_to_resource(e.copy())}(l,g);e&&l.dereference_contents&&(c.path.path_end(e).not_to_be_dereferenced=!0);!e||"pick up"!==g.current_action_name&&"remove"!==g.current_action_name||(c.path.path_end(e).removing_widget=!0);
return e},path_end:function(c){for(;c.next;)c=c.next;return c},dereference_path:function(c,g,e,q){return c?c.dereference?c.dereference(g,e,q):g.dereference(c,e,q):g},continue_dereferencing_path:function(c,g,e,q){return c.next?g.dereference_contents&&!c.next.not_to_be_dereferenced?g.dereference_contents(c.next,e,q):g.dereference(c.next,e,q):g.dereference_contents&&!c.not_to_be_dereferenced?g.dereference_contents(c,e,q):g},toString:function(l){return l.next?(c.path.toString(l.next),c.path.toString(l.next)+
"of "+l.toString()):l.toString()},get_json:function(l,g){var e;if(!l.get_json)return l;e=l.get_json(g);l.next&&(e.next_path=c.path.get_json(l.next,g));l.removing_widget&&(e.removing_widget=!0);l.not_to_be_dereferenced&&(e.not_to_be_dereferenced=!0);return e},to_entire_context:function(){return{dereference:function(l,g,e){return c.path.continue_dereferencing_path(this,l,g,e)},toString:function(){return"what he's working on"},get_json:function(){return{type:"path.to_entire_context"}}}},get_path_to_resource:function(l,
g){l=l.get_widget();return{dereference:function(e,g,m){e=l.copy();var p,s,k;m.add_newly_created_widget(e);m.visible()&&!l.visible()&&(p=c.UTILITIES.find_resource_equal_to_widget(l))&&(k=e.get_frontside_element(),s=$(p).position(),c.UTILITIES.set_timeout(function(){$(k).css({left:s.left,top:s.top,width:p.offsetWidth,height:p.offsetHeight})}));return e},toString:function(){return c.UTILITIES.add_a_or_an(l.toString())},get_json:function(){return{type:"path.to_resource",resource:c.path.get_json(l,c.UTILITIES.fresh_json_history())}}}},
get_path_to_backside_widget_of_context:function(l){return{dereference:function(g,e,q){var m;g.backside_widgets.some(function(c){if(c.get_widget().is_of_type(l))return m=c.get_widget(),!0});if(m)return c.path.continue_dereferencing_path(this,m,e,q)},toString:function(){return"the "+l+" on the back of what he's working on"},get_json:function(){return{type:"path.to_backside_widget_of_context",type_name:l}}}},create_from_json:function(l,g){var e=c.UTILITIES.create_from_json(l,g),q;l.next_path&&(q=c.UTILITIES.create_from_json(l.next_path,
g),l.next_path.removing_widget&&(q.removing_widget=!0),l.next_path.not_to_be_dereferenced&&(q.not_to_be_dereferenced=!0),e.next=q);l.removing_widget&&(e.removing_widget=!0);l.not_to_be_dereferenced&&(e.not_to_be_dereferenced=!0);return e},top_level_backside:{dereference:function(c,g,e){return c.ancestor_of_type("top-level")},toString:function(){return"the top-level backside"},get_json:function(){return{type:"path.top_level_backside"}}}}}(window.TOONTALK);window.TOONTALK.UTILITIES=function(c){var l,g=100,e=(new Date).getTime(),q,m=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(!(0>b||0>c))return a.substring(b,c+1)},p=function(a,b,d,e,g,k,l,m,p,q){var s,J,E,Q,G;d.set_visible(!0);if(a.is(".toontalk-backside")){if(d.is_of_type("top-level")){s=l.semantic.backside_widgets;J=l.shared_widgets;E=a.get(0);k=d.get_backside_widgets().slice();k.forEach(function(a,b){var c=a.get_widget(),f,g,k,l,m,p,q;d.remove_backside_widget(c,a.is_backside());f=0<=
s[b].widget.shared_widget_index?J[s[b].widget.shared_widget_index].view:s[b].widget.view;a.is_backside()?(g=c.get_backside_element(!0),k=f.backside_left,l=f.backside_top,m=f.backside_width,p=f.backside_height):(g=c.get_frontside_element(!0),k=f.frontside_left,l=f.frontside_top,m=f.frontside_width,p=f.frontside_height);e.add_backside_widget(c,a.is_backside());E.appendChild(g);q=$(g).position();$(g).css({left:q.left+k,top:q.top+l,width:m,height:p});a.is_backside()&&(c.backside_geometry=f.backside_geometry,
c.apply_backside_geometry())}.bind(this));return}d?e.get_backside().widget_dropped_on_me(d,q,k):c.UTILITIES.report_internal_error("No source_widget");m||(p=m=0,setTimeout(function(){var a=d.get_HTML(),c=b.width(),e=b.height();0<=a.indexOf("data:image")?(a=Math.min(80,c)/2,c=90,90>e&&(c-=(90-e)/2)):(a=Math.min(60,c/2),c=Math.min(30,e/2));b.css({left:Q-a,top:G-c})},50));Q=k.pageX-(g.left+m);G=k.pageY-(g.top+p);b.css({left:Q,top:G});l&&l.semantic.running&&d.set_running(!0)}else if(a.is(".toontalk-drop-area"))b.addClass("toontalk-widget-in-drop_area"),
a.append(b.get(0)),b.is(".toontalk-robot")&&a.data("drop_area_owner").set_next_robot(c.UTILITIES.widget_from_jquery(b));else{if(b.is(".toontalk-backside-of-top-level"))return;if(e)E=a.closest(".toontalk-top-level-backside").get(0),E.appendChild(b.get(0)),g=$(E).offset(),b.css({left:k.pageX-(g.left+m),top:k.pageY-(g.top+p)}),d.drop_on&&d.drop_on(e,q,k)||e.widget_dropped_on_me&&e.widget_dropped_on_me(d,q,k)||(a=a.closest(".toontalk-top-level-backside"),0<a.length&&(e=c.UTILITIES.widget_from_jquery(a))&&
e.get_backside().widget_dropped_on_me(d,q,k));else{c.UTILITIES.report_internal_error("target element has no 'owner'");return}}c.UTILITIES.remove_highlight()},s=function(a,b,d,e,g){var k=new FileReader,l=0===a.type.indexOf("image"),q,s;k.onloadend=function(){if(l)q=c.element.create("<img src='"+k.result+"' alt='"+a.name+"'/>");else{if(s=m(k.result))try{q=c.UTILITIES.create_from_json(JSON.parse(s))}catch(C){}q||(q=c.element.create(k.result))}p(b,$(q.get_frontside_element(!0)),q,d,e,g)};l?k.readAsDataURL(a):
k.readAsText(a)},k=function(){l&&(l.removeClass("toontalk-being-dragged"),l.find("*").removeClass("toontalk-ignore-events"),c.UTILITIES.set_timeout(function(){l=void 0}))},b=function(a,c){if(a===c)return!0;if(a.parentNode)return b(a.parentNode,c)},d=[];window.addEventListener("message",function(a){a.source==window&&"zero-timeout-message"==a.data&&(a.stopPropagation(),0<d.length&&d.shift()())},!0);$(document).ready(function(){var a=!1,b=0;c.debugging=c.UTILITIES.get_current_url_boolean_parameter("debugging",
!1);$(".toontalk-json").each(function(d,e){var g=e.textContent,k,l,m,p;if(g)if(g=g.substring(g.indexOf("{"),g.lastIndexOf("}")+1),k=JSON.parse(g),l=c.UTILITIES.create_from_json(k)){e.textContent="";if(l.get_type_name)if(l.is_of_type("top-level")){b++;if(!c.no_local_storage)if(g=c.UTILITIES.current_URL(),1<b&&(g+="#"+b),c.UTILITIES.get_current_url_boolean_parameter("reset",!1))try{window.localStorage.removeItem(g)}catch(q){c.UTILITIES.display_message("Error removing previous state. Error message is "+
q)}else{if(k.load_most_recent_program)try{(p=window.localStorage.getItem("toontalk-last-key"))&&(m=window.localStorage.getItem(p)),m||(m=window.localStorage.getItem(g))}catch(s){p="Error reading previous state. Error message is "+s,c.UTILITIES.is_internet_explorer()?console.error(p):c.UTILITIES.display_message()}m&&(k=JSON.parse(m),l=c.UTILITIES.create_from_json(k))}m=l.get_backside(!0);m=m.get_element();$(e).replaceWith(m);$(m).css({width:k.view.backside_width,height:k.view.backside_height,"background-color":k.view.background_color,
"border-width":k.view.border_width});a=!0}else $(e).addClass("toontalk-top-level-resource"),m=l.get_frontside_element(),$(m).addClass("toontalk-top-level-resource").css({position:"relative"}),e.appendChild(m);else e.appendChild(l.get_element());l.set_active&&l.set_active(!1);setTimeout(function(){l.update_display&&l.update_display();k.semantic.running&&l.set_running(!0)},1)}else c.UTILITIES.report_internal_error("Could not recreate a widget from this JSON: "+g)});a||$(document).click(function(){$(".toontalk-frontside").each(function(a,
b){var c=b.toontalk_widget;c&&c.set_running&&c.set_running(!1)})});c.QUEUE=window.TOONTALK.queue.create();c.QUEUE.run();window.addEventListener("beforeunload",function(a){c.UTILITIES.backup_all_top_level_widgets(!0)});c.UTILITIES.add_test_all_button()});return{create_from_json:function(a,b,d){var e,g,k,l;if(a){a.shared_widgets&&(b||(b={}),b.json_of_shared_widgets=a.shared_widgets,b.shared_widgets=[]);if(a.widget)return e=c.UTILITIES.create_from_json(a.widget,b),a.is_backside?e.get_backside(!0):e;
if(b&&b.shared_widgets&&0<=a.shared_widget_index){if(d=b.shared_widgets[a.shared_widget_index])return d;d=b.json_of_shared_widgets[a.shared_widget_index];e=c.UTILITIES.create_from_json(d,b,!0);b.shared_widgets[a.shared_widget_index]=e;e.finish_create_from_json_continuation&&(e.finish_create_from_json_continuation(),e.finish_create_from_json_continuation=void 0);return e}(k=a.semantic)||(k=a);a=a.view;if(0<=k.shared_widget_index)return c.UTILITIES.create_from_json(b.json_of_shared_widgets[k.shared_widget_index],
b);if(c.creators_from_json[k.type]){b||(b={});a?b.json_view=a:a=b.json_view;if((e=c.creators_from_json[k.type](k,b))&&e.get_backside){k.erased&&(c.widget.erasable(e),e.set_erased(k.erased));k.infinite_stack&&e.set_infinite_stack(k.infinite_stack);if(a&&a.frontside_width)if(g=a.backside?e.get_backside(!0).get_element():e.get_frontside_element(),l={width:a.frontside_width,height:a.frontside_height},"element"===k.type)e.on_update_display(function(){$(g).css(l)});else $(g).css(l);a&&a.saved_width&&(e.saved_width=
a.saved_width,e.saved_height=a.saved_height);a&&a.backside_geometry&&(e.backside_geometry=a.backside_geometry);k.backside_widgets&&(d?e.finish_create_from_json_continuation=function(){this.add_backside_widgets_from_json(e,k.backside_widgets,b)}.bind(this):this.add_backside_widgets_from_json(e,k.backside_widgets,b))}return e}c.UTILITIES.report_internal_error("JSON type '"+k.type+"' not supported. Perhaps a JavaScript file implementing it is missing.")}},add_backside_widgets_from_json:function(a,b,
c){var d;b&&(d=this.create_array_from_json(b,c),a.set_backside_widget_sides(d,b.map(function(a){return 0<=a.widget.shared_widget_index?c.json_of_shared_widgets[a.widget.shared_widget_index].view:a.widget.view})))},create_array_from_json:function(a,b){var d=[];a.forEach(function(a,e){d[e]=a?c.UTILITIES.create_from_json(a,b):a});return d},get_json_of_array:function(a,b){var d=[];a.forEach(function(a,e){a.is_backside&&a.is_backside()?d[e]={widget:c.UTILITIES.get_json(a.get_widget(),b),is_backside:!0}:
d[e]=a.get_type_name?{widget:c.UTILITIES.get_json(a,b)}:a.get_json(b)});return d},fresh_json_history:function(){return{widgets_encountered:[],shared_widgets:[],json_of_widgets_encountered:[]}},get_json_top_level:function(a){var b=this.fresh_json_history(),d=c.UTILITIES.get_json(a,b);0<b.shared_widgets.length&&(d.shared_widgets=b.shared_widgets.map(function(e,g){var k=function(a){a=b.widgets_encountered.indexOf(a);return b.json_of_widgets_encountered[a]},l=function(a){return k(b.shared_widgets[a])},
m=k(e);a===e?(m={semantic:m.semantic,view:m.view,version:m.version},d.semantic={shared_widget_index:g}):c.UTILITIES.tree_replace_once(d.semantic,m,{shared_widget_index:g},l);return m}));return d},get_json:function(a,b){var d,e;c.debugging&&!b&&c.UTILITIES.report_internal_error("no json_history");d=b.shared_widgets.indexOf(a);if(0<=d)return{shared_widget_index:d};d=b.widgets_encountered.indexOf(a);if(0<=d)return d=c.UTILITIES.insert_ancestors_last(a,b.shared_widgets),{shared_widget_index:d};d=b.widgets_encountered.push(a)-
1;e=a.get_json(b);e=a.add_to_json(e,b);b.json_of_widgets_encountered[d]=e;a.add_backside_widgets_to_json&&a.add_backside_widgets_to_json(e,b);return e},tree_replace_once:function(a,b,c,d){var e,g;for(g in a)if(a.hasOwnProperty(g)&&(e=a[g])){if(e===b)return a[g]=c,!0;if("shared_widget_index"===g){if(this.tree_replace_once(d(e),b,c,d))return!0}else if(!(0<=["string","number","function","undefined"].indexOf(typeof e))&&this.tree_replace_once(e,b,c,d))return!0}return!1},insert_ancestors_last:function(a,
b){var c=-1;b.some(function(b,f){if(a.has_ancestor(b))return c=f,!0});0>c&&(c=b.length);b.splice(c,0,a);return c},toontalk_json_div:function(a,b){var d=a.view.backside,e=b.get_backside_widgets(),g=b.get_type_name();"top-level"===g?d?(g="a work area containing ",0===e.length?g="an empty work area":(g=1===e.length?g+"one thing: ":g+(e.length+" things: "),q=e.length,e.forEach(function(a){q--;g+=c.UTILITIES.add_a_or_an(a.get_type_name());1===q?g+=", and ":1<q&&(g+=", ")}))):g="a top-level widget":(g=
c.UTILITIES.add_a_or_an(g),d&&(g="the back of "+g));return"<div class='toontalk-json'>\nThis will be replaced by "+g+".\n<div style='display:none;'>"+JSON.stringify(a,null,"  ")+"</div></div>"},copy_widgets:function(a,b){var c=[],d;for(d=0;d<a.length;d++)c[d]=a[d]&&a[d].copy(b);return c},copy_widget_sides:function(a,b){return a.map(function(a){var c=a.get_widget().copy(b);a.is_backside()&&c.get_backside();return c})},copy_array:function(a){return a.slice()},generate_unique_id:function(){e+=1;return"toontalk_id_"+
e},get_style_property:function(a,b){if(a.currentStyle)return a.currentStyle[b];if(window.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},get_style_numeric_property:function(a,b){var c=this.get_style_property(a,b),d;return"string"===typeof c?(d=c.indexOf("px"),0<=d&&(c=c.substring(0,d)),parseInt(c,10)):c},data_transfer_json_object:function(a){var b;if(a.dataTransfer){try{b=a.dataTransfer.getData("text/html")}catch(d){b=a.dataTransfer.getData("text")}if(!b||
b.match(/[\u3400-\u9FBF]/))b=a.dataTransfer.getData("text");if(b){a=m(b);if(!a)return c.UTILITIES.get_json_top_level(c.element.create(b));try{return JSON.parse(a)}catch(e){c.UTILITIES.report_internal_error("Exception parsing "+a+"\n"+e.toString())}}}},drag_and_drop:function(a){c.UTILITIES.draggable(a);c.UTILITIES.can_receive_drops(a)},draggable:function(a){$(a).attr("draggable",!0);a.addEventListener("dragstart",function(b){var d=$(b.target).closest(".toontalk-side"),e,g,k;b.dataTransfer.getData("text")&&
0<b.dataTransfer.getData("text").length||(l=d||$(a),g=c.UTILITIES.widget_from_jquery(l),g||(g=c.UTILITIES.widget_from_jquery($element),c.UTILITIES.report_internal_error("Possible bug that "+l+" doesn't have a known owner."),l=$(a)),g.being_dragged=!0,e=l.get(0).getBoundingClientRect(),k=l.is(".toontalk-top-level-resource"),b.dataTransfer&&g.get_json&&(b.dataTransfer.effectAllowed=k?"copy":"move",d=c.UTILITIES.get_json_top_level(g),d.view.drag_x_offset=b.clientX-e.left,d.view.drag_y_offset=b.clientY-
e.top,!d.view.frontside_width&&l.parent().is(".toontalk-backside")&&(d.view.frontside_width=l.width(),d.view.frontside_height=l.height()),l.is(".toontalk-backside")&&(d.view.backside=!0),l.data("json",d),e=c.UTILITIES.toontalk_json_div(d,g),b.dataTransfer.setData("text",e),c.UTILITIES.is_internet_explorer()||b.dataTransfer.setData("text/html",e),g.drag_started(d,k)),l.addClass("toontalk-being-dragged"),b.stopPropagation())});a.addEventListener("dragend",function(a){l||(l=$(a.target).closest(".toontalk-side"));
c.UTILITIES.widget_from_jquery(l).being_dragged=void 0;if(l.is(".toontalk-frontside"))if(l.parent().is(".toontalk-backside")){var b=l.data("json");b&&(l.data("json",""),l.css({width:b.view.frontside_width,height:b.view.frontside_height}))}else l.parent().is(".toontalk-top-level-resource, .toontalk-drop-area")||l.is(".toontalk-carried-by-bird, .toontalk-element-attribute")||c.UTILITIES.has_animating_image(l.get(0))||l.css({width:"100%",height:"100%"});k();a.stopPropagation()})},can_receive_drops:function(a){a.addEventListener("dragover",
function(a){a.preventDefault();return!1});a.addEventListener("drop",function(b){var d,e,g,m,q,w,A,C,I,J,E=c.UTILITIES.data_transfer_json_object(b);b.preventDefault();$(a).find("*").removeClass("toontalk-ignore-events");d=l;k();if(d||E||b.dataTransfer.files){if($(b.target).is(".toontalk-drop-area-instructions"))g=$(b.target).parent();else if($(b.target).is(".toontalk-element-attribute-input")){if(g=$(b.target).closest(".toontalk-side"),m=c.UTILITIES.widget_from_jquery(g)){e=d?c.UTILITIES.widget_from_jquery(d):
c.UTILITIES.create_from_json(E);c.UTILITIES.restore_resource(d,e);m.dropped_on_style_attribute(e,b.target.name,b);b.stopPropagation();return}}else g=$(b.target).is(".toontalk-drop-area")?$(b.target):$(b.target).closest(".toontalk-side");if(0!==g.length&&!g.is(".toontalk-top-level-resource")){A=g.offset();c.UTILITIES.remove_highlight();m=c.UTILITIES.widget_from_jquery(g);if(d&&0<d.length&&!(m&&m.get_infinite_stack&&m.get_infinite_stack())&&(d.get(0)===g.get(0)||jQuery.contains(d.get(0),g.get(0)))){if(d.is(".toontalk-top-level-backside"))return;
g.hide();e=document.elementFromPoint(b.pageX-window.pageXOffset,b.pageY-window.pageYOffset);g.show();e&&(g=$(e).closest(".toontalk-side"),A=g.offset(),m=c.UTILITIES.widget_from_jquery(g))}E&&E.view&&E.view.drag_x_offset?(q=E.view.drag_x_offset,w=E.view.drag_y_offset):w=q=0;if(d&&0<d.length){if(!(m&&m.get_infinite_stack&&m.get_infinite_stack()||d.get(0)!==g.get(0)&&!jQuery.contains(d.get(0),g.get(0)))){d.css({left:d.get(0).offsetLeft+(b.layerX-q),top:d.get(0).offsetTop+(b.layerY-w)});b.stopPropagation();
return}C=d.is(".toontalk-backside");e=c.UTILITIES.widget_from_jquery(d);d.parent().is(".toontalk-drop-area")?(d.removeClass("toontalk-widget-in-drop_area"),d.parent().data("drop_area_owner").set_next_robot(void 0)):(I=d.parents(".toontalk-side:first"),(J=c.UTILITIES.widget_from_jquery(I))?!C&&e.get_infinite_stack&&e.get_infinite_stack()?(e=e.copy(),I=d.width(),J=d.height(),d=$(e.get_frontside_element(!0)),g.is(".toontalk-backside")&&d.css({width:E.view.frontside_width||I,height:E.view.frontside_height||
J})):J.removed_from_container&&(I.is(".toontalk-backside")?J.remove_backside_widget(e,C,!0):(J.removed_from_container(e,C,b),e.restore_dimensions&&e.restore_dimensions())):c.UTILITIES.restore_resource(d,e),c.robot.in_training&&c.robot.in_training.add_newly_created_widget_if_new(e))}else{if(0<b.dataTransfer.files.length){for(d=0;d<b.dataTransfer.files.length;d++)s(b.dataTransfer.files[d],g,m,A,b);b.stopPropagation();return}e=c.UTILITIES.create_from_json(E,{event:b});if(!e){E?c.UTILITIES.report_internal_error("Unable to construct a ToonTalk widget from the JSON."):
c.debugging&&console.log("No data transfer in drop.");b.stopPropagation();return}(C=E.view.backside)?(d=$(e.get_backside_element()),d.css({width:E.view.backside_width,height:E.view.backside_height,"background-color":E.view.background_color,"border-width":E.view.border_width}),e.apply_backside_geometry()):d=$(e.get_frontside_element())}e!==m&&p(g,d,e,m,A,b,E,q,w,C);b.stopPropagation()}}else b.dataTransfer?c.UTILITIES.report_internal_error("Drop failed since unable to parse as JSON."):c.UTILITIES.report_internal_error("Drop failed since there is no event.dataTransfer"),
b.stopPropagation()});a.addEventListener("dragenter",function(f){var d=$(f.target).closest(".toontalk-side"),e=c.UTILITIES.get_dragee();d.is(".toontalk-top-level-backside")||d.closest(".toontalk-top-level-resource").is("*")||d.is(".toontalk-being-dragged")||e&&b(d.get(0),e.get(0))||(c.UTILITIES.highlight_element(d),d.is(".toontalk-backside, .toontalk-drop-area")||"box"===c.UTILITIES.widget_from_jquery($(a)).get_type_name()||d.find(".toontalk-side").addClass("toontalk-ignore-events"));f.stopPropagation()});
a.addEventListener("dragleave",function(a){a.stopPropagation()})},create_drop_area:function(a){var b=document.createElement("div"),d=$(b),e=document.createElement("div");e.innerHTML=a;$(e).addClass("toontalk-drop-area-instructions ui-widget");d.addClass("toontalk-drop-area");d.append(e);c.UTILITIES.can_receive_drops(b);return d},set_absolute_position:function(a,b){for(var c=a.parent(),d=b.left,e=b.top,g;c.is("*")&&!c.is("html");)g=c.position(),d-=g.left,e-=g.top,c=c.parent();a.css({left:d,top:e,position:"absolute"});
a.is(".toontalk-side-animating")&&(a.get(0).style.left=d+"px",a.get(0).style.top=e+"px")},set_position_relative_to_top_level_backside:function(a,b){var c=a.closest(".toontalk-top-level-backside").offset();c||(console.log("Unable to find top-level backside. Perhaps is 'visible' but not attached."),c={left:0,top:0});var d=b.left-c.left,c=b.top-c.top;a.css({left:d,top:c,position:"absolute"});a.is(".toontalk-side-animating")&&(a.get(0).style.left=d+"px",a.get(0).style.top=c+"px")},restore_resource:function(a,
b){var d,e;a.is(".toontalk-top-level-resource")&&(d=b.copy(!1,!0),e=d.get_frontside_element(),$(e).css({width:a.width(),height:a.height()}),a.removeClass("toontalk-top-level-resource"),$(e).addClass("toontalk-top-level-resource").css({position:"relative"}),a.get(0).parentElement.appendChild(e),c.DISPLAY_UPDATES.pending_update(d),b.set_active&&(b.set_active(!0),d.set_active(!1)))},find_resource_equal_to_widget:function(a){var b;$(".toontalk-top-level-resource").each(function(d,e){var g=$(e).children(":first"),
k=c.UTILITIES.widget_from_jquery(g);if(k&&(a.equals&&a.equals(k)||a.matching_resource&&a.matching_resource(k)))return b=g.get(0),!1});return b},set_position_is_absolute:function(a,b,c){b?(c=$(a).position(),b=c.left,c=c.top,$(a).css({left:b,top:c,position:"absolute"})):a.style.position="static"},cardinal:function(a){switch(a){case 0:return"first";case 1:return"second";case 2:return"third";default:return a+"th"}},on_a_nest_in_a_box:function(a){return $(a).closest(".toontalk-nest").is("*")&&$(a).closest(".toontalk-box").is("*")},
add_one_shot_event_handler:function(a,b,c,d){var e=!1,g=function(c){e=!0;d&&d();a.removeEventListener(b,g)};a.addEventListener(b,g);setTimeout(function(){e||g()},c)},animate_to_absolute_position:function(a,b,d,e,g){var k=$(a).offset(),l=$(a).position(),m=c.UTILITIES.distance(b,k);e||(e=.5);e=Math.round(m/e);$(a).addClass("toontalk-side-animating");a.style.transitionDuration=e+"ms";a.style.left=l.left+(b.left-k.left)+"px";a.style.top=l.top+(b.top-k.top)+"px";g||c.UTILITIES.add_one_shot_event_handler(a,
"transitionend",e+500,function(){$(a).removeClass("toontalk-side-animating");a.style.transitionDuration=""});c.UTILITIES.add_one_shot_event_handler(a,"transitionend",e+500,d)},distance:function(a,b){var c=a.left-b.left,d=a.top-b.top;return Math.sqrt(c*c+d*d)},highlight_element:function(a,b){var d;if(!$(a).is(".toontalk-highlight")&&(c.UTILITIES.remove_highlight(),d=c.UTILITIES.widget_from_jquery($(a)))){if(d.element_to_highlight&&(a=d.element_to_highlight(event),!a))return;$(a).addClass("toontalk-highlight");
b&&setTimeout(function(){c.UTILITIES.remove_highlight()},b)}},remove_highlight:function(){$(".toontalk-highlight").removeClass("toontalk-highlight")},cursor_of_image:function(a){var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b)+".32x32"+a.substring(b):a},next_z_index:function(){g++;return g},create_button:function(a,b,c,d){a=$("<button>"+a+"</button>").button();a.addClass(b).click(d).attr("title",c);return a.get(0)},create_close_button:function(a,b){var c=document.createElement("div"),d=document.createElement("div");
$(c).addClass("toontalk-close-button");$(c).click(a);$(c).attr("title",b);d.innerHTML="&times;";c.appendChild(d);return c},check_radio_button:function(a){$(a.button).prop("checked",!0);$(a.label).addClass("ui-state-active")},create_button_set:function(){var a=document.createElement("div"),b,c;for(b=0;b<arguments.length;b++)if(0<=arguments[b].length)for(c=0;c<arguments[b].length;c++)a.appendChild(arguments[b][c]);else a.appendChild(arguments[b]);$(a).buttonset();return a},create_text_element:function(a){var b=
document.createElement("div");b.textContent=a;$(b).addClass("ui-widget");return b},create_space:function(){var a=document.createElement("span");a.innerHTML="&nbsp;";$(a).addClass("ui-widget");return a},create_anchor_element:function(a,b){var c=document.createElement("a");c.innerHTML=a;c.href=b;c.target="_blank";return c},create_text_input:function(a,b,d,e,g){var k=document.createElement("input"),l;k.type="text";k.className=b;k.value=a;k.title=e;d?(a=document.createElement("label"),a.innerHTML=d,k.id=
c.UTILITIES.generate_unique_id(),a.htmlFor=k.id,g&&(l=c.UTILITIES.create_anchor_element("i",g),$(l).addClass("toontalk-help-button")),d=c.UTILITIES.create_horizontal_table(a,k,l),$(a).addClass("ui-widget")):d=k;$(k).button().addClass("toontalk-text-input");$(k).css({"background-color":"white"});return{container:d,button:k}},create_text_area:function(a,b,d,e){var g=document.createElement("textarea");g.className=b;g.value=a;g.title=e;a=document.createElement("label");a.innerHTML=d;g.id=c.UTILITIES.generate_unique_id();
a.htmlFor=g.id;d=c.UTILITIES.create_horizontal_table(a,g);$(g).button().addClass("toontalk-text-text_area");$(g).css({background:"white"});$(a).addClass("ui-widget");return{container:d,button:g}},create_radio_button:function(a,b,d,e,g){var k=document.createElement("div"),l=document.createElement("input"),m=document.createElement("label");l.type="radio";l.className=d;l.name=a;l.value=b;m.innerHTML=e;l.id=c.UTILITIES.generate_unique_id();m.htmlFor=l.id;k.appendChild(l);k.appendChild(m);k.title=g;$(l).button();
return{container:k,button:l,label:m}},create_check_box:function(a,b,d,e){var g=document.createElement("div"),k=document.createElement("input"),l=document.createElement("label");k.type="checkbox";k.className=b;k.checked=a;l.innerHTML=d;k.id=c.UTILITIES.generate_unique_id();l.htmlFor=k.id;$(l).addClass("ui-widget");g.appendChild(k);g.appendChild(l);g.title=e;return{container:g,button:k,label:l}},create_horizontal_table:function(){var a=document.createElement("table"),b,c,d;c=document.createElement("tr");
a.appendChild(c);for(b=0;b<arguments.length;b++)arguments[b]&&(d=document.createElement("td"),c.appendChild(d),d.appendChild(arguments[b]));return a},create_vertical_table:function(){var a=document.createElement("table"),b,d;for(b=0;b<arguments.length;b++)arguments[b]&&(d=c.UTILITIES.create_row(arguments[b]),a.appendChild(d));return a},create_row:function(){var a=document.createElement("tr"),b=document.createElement("td"),c;for(c=0;c<arguments.length;c++)a.appendChild(arguments[c]);b.appendChild(a);
return a},create_table_entry:function(a){var b=document.createElement("td");b.appendChild(a);return b},selected_radio_button:function(){var a;for(a=0;a<arguments.length;a++)if(arguments[a].checked)return arguments[a]},create_image:function(a,b){var c=document.createElement("img"),d;c.src=a;b&&$(c).addClass(b);0===a.indexOf("images/")&&(d=function(b){c.removeEventListener("error",d);c.src="http://toontalk.github.io/ToonTalk/"+a},c.addEventListener("error",d));return c},get_dragee:function(){return l},
add_a_or_an:function(a,b){var c=a.charAt(0);return 0===a.indexOf("the ")?a:0>"aeiou".indexOf(c)?b?"A "+a:"a "+a:b?"An "+a:"an "+a},maximum_string_length:function(a,b){var c;if(a.length<=b)return a;c=a.substring(0,Math.round(.75*b));return c+" ... "+a.substring(a.length-(b-c.length))},backup_all_top_level_widgets:function(a){$(".toontalk-top-level-backside").each(function(b,d){c.UTILITIES.widget_from_jquery($(d)).save(a)})},make_resizable:function(a,b){a.resizable({resize:function(c,d){a.find("img").css({width:d.size.width,
height:d.size.height});b.render()},handles:"n,e,s,w"})},match:function(a,b){var c=a.match(b);return"not matched"===c&&b.matched_by?b.matched_by(a):c},current_URL:function(){return window.location.pathname},absolute_file_path:function(a){var b=window.location.pathname,c=b.lastIndexOf("ToonTalk/");return 0>c?a:b.substring(0,c+9)+a},copy_side:function(a,b,c){b=a.get_widget().copy(b);var d;c&&(c=a.get_widget().get_frontside_element())&&(d=b.get_frontside_element(!0),$(d).css({width:$(c).width(),height:$(c).height()}));
return a.is_backside()?b.get_backside():b},scale_to_fit:function(a,b,c,d,e){var g=function(){$(a).css({transform:"scale("+l+", "+m+")","transform-origin":"top left",width:c,height:d})},k,l,m;c||(c=$(a).width());d||(d=$(a).height());$(b).is(".toontalk-backside")?m=l=1:(k=$(b).width(),b=$(b).height(),l=k/c,m=b/d,0===l&&(l=1),0===m&&(m=1));e?setTimeout(g,e):g();return{x_scale:l,y_scale:m}},relative_position:function(a,b){var c=$(a).offset(),d;b&&(d=$(b).offset(),c.left-=d.left,c.top-=d.top);return c},
add_animation_class:function(a,b){$(a).css({width:"",height:""}).addClass(b)},widget_from_jquery:function(a){if(0<a.length)return a.get(0).toontalk_widget},has_animating_image:function(a){a=$(a);return(a=a.css("animation")||a.css("webkit-animation")||a.css("moz-animation")||a.css("ms-animation")||a.css("o-animation"))&&0!==a.indexOf("none")},display_message:function(a){alert(a)},report_internal_error:function(a){console.log(a);c.debugging&&c.UTILITIES.display_message(a)},get_current_url_boolean_parameter:function(a,
b){return 0>window.location.href.indexOf(a+"=")?b:0<=window.location.href.indexOf(a+"=1")?!0:!1},is_browser_of_type:function(a){return 0<=window.navigator.userAgent.indexOf(a)},is_internet_explorer:function(){return c.UTILITIES.is_browser_of_type("MSIE")||c.UTILITIES.is_browser_of_type("Trident")},remove_z_index:function(a){if(0===a.length||"<"!==a.charAt(0)||0>a.indexOf("z-index"))return a;a=$(a);a.attr("z-index","");return a.html()},add_test_all_button:function(){var a=$("#toontalk-test-all-button"),
b;if(0!==a.length){a.button();b=a.get(0);b.innerHTML="Run all tests";var c=!1;a.click(function(a){c?($(".toontalk-stop-sign").each(function(){$(this).parent().is(".toontalk-top-level-backside")&&$(this).click()}),b.innerHTML="Run all tests"):($(".toontalk-green-flag").each(function(){$(this).parent().is(".toontalk-top-level-backside")&&$(this).click()}),b.innerHTML="Stop all tests");c=!c})}},set_timeout:function(a,b){b?setTimeout(a,b):(d.push(a),window.postMessage("zero-timeout-message","*"))},get_all_local_storage_keys:function(){var a=
window.localStorage.getItem("toontalk-all-keys");return a?JSON.parse(a):[]},set_all_local_storage_keys:function(a){window.localStorage.setItem("toontalk-all-keys",JSON.stringify(a))},create_queue:function(){var a=[],b=0;return{getLength:function(){return a.length-b},isEmpty:function(){return 0==a.length},enqueue:function(b){a.push(b)},dequeue:function(){var c;if(0!=a.length)return c=a[b],2*++b>=a.length&&(a=a.slice(b),b=0),c},peek:function(){return 0<a.length?a[b]:void 0},does_any_item_satisfy:function(c){var d;
for(d=b;d<a.length;d++)if(c(a[d]))return!0;return!1}}}}}(window.TOONTALK);window.TOONTALK.UTILITIES.available_types="number box element robot nest sensor top-level".split(" ");
