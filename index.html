<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" media="all" href="libraries/jquery-ui-1.10.4.custom.css">
<link rel="stylesheet" media="all" href="toontalk.css">
<script>
window.TOONTALK = {}; // create ToonTalk 'module' -- using 'window' as recommended by Caja
</script>
<!--  come back to this -- assuming we care about IE8 and the like
<script src="support/for_old_browsers_only.js"></script>
--->
<script src="libraries/jquery-2.1.0.js"></script>
<script src="libraries/jquery-ui-1.10.4.custom.js"></script>
<script src="libraries/rationaljs.js"></script>
<script src="primitives/widget.js"></script>
<script src="primitives/number.js"></script>
<script src="primitives/robot.js"></script>
<script src="primitives/box.js"></script>
<script src="primitives/backside.js"></script>
<script src="primitives/frontside.js"></script>
<script src="actions/drop.js"></script>
<script src="actions/pick_up.js"></script>
<script src="actions/pick_up_constant.js"></script>
<script src="actions/copy.js"></script>
<script src="actions/copy_constant.js"></script>
<script src="support/robot_actions.js"></script>
<script src="support/run_queue.js"></script>
<script src="support/display_updates.js"></script>
<script src="support/utilities.js"></script>
<!-- following only including during development/testing --->
<script src="tests/tests.js"></script>
<title>ToonTalk Reborn Test Page</title>
<link rel="shortcut icon" href="favicon.ico" />
</head>
<body>
<script>
$(document).ready(function () {
    var TT = window.TOONTALK;
    var backside = TT.backside.create({});
    var backside_element = backside.get_element();
    var $backside_element = $(backside_element);
    $("body").append(backside_element);
    $backside_element.css({width: "90%",
                            height: "90%",
                            left: "0px",
                            top: "0px",
                            "background-color": "yellow"});
    backside_element.draggable = false;
    TT.debugging = true; // remove this for production releases
    // use get_frontside_element in the following
    var number = TT.number.create(2, 7);
    var number_element = number.get_frontside_element();
    var box = TT.box.create(2);
    var box_element = box.get_frontside_element();
    $(box_element).css({left: "50px",
                         top: "300px"});
    $backside_element.append(number_element);
    $backside_element.append(box_element);
//     $(number_element).addClass("toontalk-frontside-on-backside");
//     $(box_element).addClass("toontalk-frontside-on-backside");
//     box.update_frontside();
//     number.update_frontside();
//     var test_backside_element = document.getElementById("test1_top_level_backside");
//     var test_backside = {get_element: function () { return test_backside_element}};
//     var test_widget = {get_backside: function () { return test_backside}};
//     TT.tests.create_sides(number_context, test_backside_element, 0);
//     TT.tests.create_sides(box_context, test_backside_element, 300);
//     TT.backside.associate_widget_with_backside_element(test_widget, test_backside, test_backside_element);
    TT.QUEUE.run();
});
</script>
</body>
</html>